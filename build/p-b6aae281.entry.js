import{r as t,c as i,h as n,a as e,H as r}from"./p-f8ec8bf0.js";
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/window.JSCompiler_renameProperty=function(t){return t};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let o,s,a=/(url\()([^)]*)(\))/g,u=/(^\/[^\/])|(^#)|(^[\w-\d]*:)/;function c(t,i){if(t&&u.test(t))return t;if("//"===t)return t;if(void 0===o){o=!1;try{const t=new URL("b","http://a");t.pathname="c%20d",o="http://a/c%20d"===t.href}catch(t){}}if(i||(i=document.baseURI||window.location.href),o)try{return new URL(t,i).href}catch(i){return t}return s||(s=document.implementation.createHTMLDocument("temp"),s.base=s.createElement("base"),s.head.appendChild(s.base),s.anchor=s.createElement("a"),s.body.appendChild(s.anchor)),s.base.href=i,s.anchor.href=t,s.anchor.href||t}function h(t,i){return t.replace(a,(function(t,n,e,r){return n+"'"+c(e.replace(/["']/g,""),i)+"'"+r}))}function f(t){return t.substring(0,t.lastIndexOf("/")+1)}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const l=(!window.ShadyDOM||!window.ShadyDOM.inUse)&&"adoptedStyleSheets"in Document.prototype&&"replaceSync"in CSSStyleSheet.prototype&&(()=>{try{const t=new CSSStyleSheet;t.replaceSync("");const i=document.createElement("div");return i.attachShadow({mode:"open"}),i.shadowRoot.adoptedStyleSheets=[t],i.shadowRoot.adoptedStyleSheets[0]===t}catch(t){return!1}})();let d=window.Polymer&&window.Polymer.rootPath||f(document.baseURI||window.location.href),v=window.Polymer&&window.Polymer.sanitizeDOMValue||void 0,p=window.Polymer&&window.Polymer.strictTemplatePolicy||!1,m=window.Polymer&&window.Polymer.allowTemplateFromDomModule||!1,b=window.Polymer&&window.Polymer.legacyOptimizations||!1,g=window.Polymer&&window.Polymer.legacyWarnings||!1,y=window.Polymer&&window.Polymer.syncInitialRender||!1,w=window.Polymer&&window.Polymer.legacyUndefined||!1,x=window.Polymer&&window.Polymer.orderedComputed||!1,k=window.Polymer&&window.Polymer.removeNestedTemplates||!1,_=window.Polymer&&window.Polymer.fastDomIf||!1,A=window.Polymer&&window.Polymer.useAdoptedStyleSheetsWithBuiltCSS||!1,S=0;const E=function(t){let i=t.__mixinApplications;i||(i=new WeakMap,t.__mixinApplications=i);let n=S++;return function(e){let r=e.__mixinSet;if(r&&r[n])return e;let o=i,s=o.get(e);if(!s){s=t(e),o.set(e,s);let i=Object.create(s.__mixinSet||r||null);i[n]=!0,s.__mixinSet=i}return s}};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let M={},C={};function O(t,i){M[t]=C[t.toLowerCase()]=i}function T(t){return M[t]||C[t.toLowerCase()]}class R extends HTMLElement{static get observedAttributes(){return["id"]}static import(t,i){if(t){let n=T(t);return n&&i?n.querySelector(i):n}return null}attributeChangedCallback(t,i,n,e){i!==n&&this.register()}get assetpath(){if(!this.__assetpath){const t=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,i=c(this.getAttribute("assetpath")||"",t.baseURI);this.__assetpath=f(i)}return this.__assetpath}register(t){if(t=t||this.id){if(p&&void 0!==T(t))throw O(t,null),new Error(`strictTemplatePolicy: dom-module ${t} re-registered`);this.id=t,O(t,this),(i=this).querySelector("style")&&console.warn("dom-module %s has style outside template",i.id)}var i}}function j(t){return R.import(t)}function I(t){const i=h((t.body?t.body:t).textContent,t.baseURI),n=document.createElement("style");return n.textContent=i,n}function F(t){const i=t.trim().split(/\s+/),n=[];for(let t=0;t<i.length;t++)n.push(...B(i[t]));return n}function B(t){const i=j(t);if(!i)return console.warn("Could not find style data in module named",t),[];if(void 0===i._styles){const t=[];t.push(...P(i));const n=i.querySelector("template");n&&t.push(...z(n,i.assetpath)),i._styles=t}return i._styles}function z(t,i){if(!t._styles){const n=[],e=t.content.querySelectorAll("style");for(let t=0;t<e.length;t++){let r=e[t],o=r.getAttribute("include");o&&n.push(...F(o).filter((function(t,i,n){return n.indexOf(t)===i}))),i&&(r.textContent=h(r.textContent,i)),n.push(r)}t._styles=n}return t._styles}function P(t){const i=[],n=t.querySelectorAll("link[rel=import][type~=css]");for(let t=0;t<n.length;t++){let e=n[t];if(e.import){const t=e.import,n=e.hasAttribute("shady-unscoped");if(n&&!t._unscopedStyle){const i=I(t);i.setAttribute("shady-unscoped",""),t._unscopedStyle=i}else t._style||(t._style=I(t));i.push(n?t._unscopedStyle:t._style)}}return i}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/R.prototype.modules=M,customElements.define("dom-module",R);const L=window.ShadyDOM&&window.ShadyDOM.noPatch&&window.ShadyDOM.wrap?window.ShadyDOM.wrap:window.ShadyDOM?t=>ShadyDOM.patch(t):t=>t;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function D(t){return t.indexOf(".")>=0}function N(t){let i=t.indexOf(".");return-1===i?t:t.slice(0,i)}function U(t,i){return 0===i.indexOf(t+".")}function V(t,i,n){return i+n.slice(t.length)}function H(t){if(Array.isArray(t)){let i=[];for(let n=0;n<t.length;n++){let e=t[n].toString().split(".");for(let t=0;t<e.length;t++)i.push(e[t])}return i.join(".")}return t}function $(t){return Array.isArray(t)?H(t).split("."):t.toString().split(".")}function K(t,i,n){let e=t,r=$(i);for(let t=0;t<r.length;t++){if(!e)return;e=e[r[t]]}return n&&(n.path=r.join(".")),e}function W(t,i,n){let e=t,r=$(i),o=r[r.length-1];if(r.length>1){for(let t=0;t<r.length-1;t++)if(e=e[r[t]],!e)return;e[o]=n}else e[i]=n;return r.join(".")}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const q={},G=/-[a-z]/g,Y=/([A-Z])/g;function J(t){return q[t]||(q[t]=t.indexOf("-")<0?t:t.replace(G,(t=>t[1].toUpperCase())))}function Q(t){return q[t]||(q[t]=t.replace(Y,"-$1").toLowerCase())}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let Z=0,X=0,tt=[],it=0,nt=!1,et=document.createTextNode("");new window.MutationObserver((function(){nt=!1;const t=tt.length;for(let i=0;i<t;i++){let t=tt[i];if(t)try{t()}catch(t){setTimeout((()=>{throw t}))}}tt.splice(0,t),X+=t})).observe(et,{characterData:!0});const rt={run:t=>(nt||(nt=!0,et.textContent=it++),tt.push(t),Z++),cancel(t){const i=t-X;if(i>=0){if(!tt[i])throw new Error("invalid async handle: "+t);tt[i]=null}}},ot=E((t=>class extends t{static createProperties(t){const i=this.prototype;for(let n in t)n in i||i._createPropertyAccessor(n)}static attributeNameForProperty(t){return t.toLowerCase()}static typeForProperty(t){}_createPropertyAccessor(t,i){this._addPropertyToAttributeMap(t),this.hasOwnProperty(JSCompiler_renameProperty("__dataHasAccessor",this))||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[t]||(this.__dataHasAccessor[t]=!0,this._definePropertyAccessor(t,i))}_addPropertyToAttributeMap(t){this.hasOwnProperty(JSCompiler_renameProperty("__dataAttributes",this))||(this.__dataAttributes=Object.assign({},this.__dataAttributes));let i=this.__dataAttributes[t];return i||(i=this.constructor.attributeNameForProperty(t),this.__dataAttributes[i]=t),i}_definePropertyAccessor(t,i){Object.defineProperty(this,t,{get(){return this.__data[t]},set:i?function(){}:function(i){this._setPendingProperty(t,i,!0)&&this._invalidateProperties()}})}constructor(){super(),this.__dataEnabled=!1,this.__dataReady=!1,this.__dataInvalid=!1,this.__data={},this.__dataPending=null,this.__dataOld=null,this.__dataInstanceProps=null,this.__dataCounter=0,this.__serializing=!1,this._initializeProperties()}ready(){this.__dataReady=!0,this._flushProperties()}_initializeProperties(){for(let t in this.__dataHasAccessor)this.hasOwnProperty(t)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[t]=this[t],delete this[t])}_initializeInstanceProperties(t){Object.assign(this,t)}_setProperty(t,i){this._setPendingProperty(t,i)&&this._invalidateProperties()}_getProperty(t){return this.__data[t]}_setPendingProperty(t,i,n){let e=this.__data[t],r=this._shouldPropertyChange(t,i,e);return r&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),this.__dataOld&&!(t in this.__dataOld)&&(this.__dataOld[t]=e),this.__data[t]=i,this.__dataPending[t]=i),r}_isPropertyPending(t){return!(!this.__dataPending||!this.__dataPending.hasOwnProperty(t))}_invalidateProperties(){!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,rt.run((()=>{this.__dataInvalid&&(this.__dataInvalid=!1,this._flushProperties())})))}_enableProperties(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}_flushProperties(){this.__dataCounter++;const t=this.__data,i=this.__dataPending,n=this.__dataOld;this._shouldPropertiesChange(t,i,n)&&(this.__dataPending=null,this.__dataOld=null,this._propertiesChanged(t,i,n)),this.__dataCounter--}_shouldPropertiesChange(t,i,n){return Boolean(i)}_propertiesChanged(t,i,n){}_shouldPropertyChange(t,i,n){return n!==i&&(n==n||i==i)}attributeChangedCallback(t,i,n,e){i!==n&&this._attributeToProperty(t,n),super.attributeChangedCallback&&super.attributeChangedCallback(t,i,n,e)}_attributeToProperty(t,i,n){if(!this.__serializing){const e=this.__dataAttributes,r=e&&e[t]||t;this[r]=this._deserializeValue(i,n||this.constructor.typeForProperty(r))}}_propertyToAttribute(t,i,n){this.__serializing=!0,this._valueToNodeAttribute(this,n=arguments.length<3?this[t]:n,i||this.constructor.attributeNameForProperty(t)),this.__serializing=!1}_valueToNodeAttribute(t,i,n){const e=this._serializeValue(i);"class"!==n&&"name"!==n&&"slot"!==n||(t=L(t)),void 0===e?t.removeAttribute(n):t.setAttribute(n,e)}_serializeValue(t){switch(typeof t){case"boolean":return t?"":void 0;default:return null!=t?t.toString():void 0}}_deserializeValue(t,i){switch(i){case Boolean:return null!==t;case Number:return Number(t);default:return t}}})),st={};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let at=HTMLElement.prototype;for(;at;){let t=Object.getOwnPropertyNames(at);for(let i=0;i<t.length;i++)st[t[i]]=!0;at=Object.getPrototypeOf(at)}const ut=E((t=>{const i=ot(t);return class extends i{static createPropertiesForAttributes(){let t=this.observedAttributes;for(let i=0;i<t.length;i++)this.prototype._createPropertyAccessor(J(t[i]))}static attributeNameForProperty(t){return Q(t)}_initializeProperties(){this.__dataProto&&(this._initializeProtoProperties(this.__dataProto),this.__dataProto=null),super._initializeProperties()}_initializeProtoProperties(t){for(let i in t)this._setProperty(i,t[i])}_ensureAttribute(t,i){this.hasAttribute(t)||this._valueToNodeAttribute(this,i,t)}_serializeValue(t){switch(typeof t){case"object":if(t instanceof Date)return t.toString();if(t)try{return JSON.stringify(t)}catch(t){return""}default:return super._serializeValue(t)}}_deserializeValue(t,i){let n;switch(i){case Object:try{n=JSON.parse(t)}catch(i){n=t}break;case Array:try{n=JSON.parse(t)}catch(i){n=null,console.warn(`Polymer::Attributes: couldn't decode Array as JSON: ${t}`)}break;case Date:n=isNaN(t)?String(t):Number(t),n=new Date(n);break;default:n=super._deserializeValue(t,i)}return n}_definePropertyAccessor(t,i){!function(t,i){if(!st[i]){let n=t[i];void 0!==n&&(t.__data?t._setPendingProperty(i,n):(t.__dataProto?t.hasOwnProperty(JSCompiler_renameProperty("__dataProto",t))||(t.__dataProto=Object.create(t.__dataProto)):t.__dataProto={},t.__dataProto[i]=n))}}(this,t),super._definePropertyAccessor(t,i)}_hasAccessor(t){return this.__dataHasAccessor&&this.__dataHasAccessor[t]}_isPropertyPending(t){return Boolean(this.__dataPending&&t in this.__dataPending)}}})),ct={"dom-if":!0,"dom-repeat":!0};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let ht=!1,ft=!1;function lt(t){let i=t.getAttribute("is");if(i&&ct[i]){let n=t;for(n.removeAttribute("is"),t=n.ownerDocument.createElement(i),n.parentNode.replaceChild(t,n),t.appendChild(n);n.attributes.length;)t.setAttribute(n.attributes[0].name,n.attributes[0].value),n.removeAttribute(n.attributes[0].name)}return t}function dt(t,i){let n=i.parentInfo&&dt(t,i.parentInfo);if(!n)return t;for(let t=n.firstChild,e=0;t;t=t.nextSibling)if(i.parentIndex===e++)return t}function vt(t,i,n,e){e.id&&(i[e.id]=n)}function pt(t,i,n){if(n.events&&n.events.length)for(let e,r=0,o=n.events;r<o.length&&(e=o[r]);r++)t._addMethodEventListenerToNode(i,e.name,e.value,t)}function mt(t,i,n,e){n.templateInfo&&(i._templateInfo=n.templateInfo,i._parentTemplateInfo=e)}const bt=E((t=>class extends t{static _parseTemplate(t,i){if(!t._templateInfo){let n=t._templateInfo={};n.nodeInfoList=[],n.nestedTemplate=Boolean(i),n.stripWhiteSpace=i&&i.stripWhiteSpace||t.hasAttribute("strip-whitespace"),this._parseTemplateContent(t,n,{parent:null})}return t._templateInfo}static _parseTemplateContent(t,i,n){return this._parseTemplateNode(t.content,i,n)}static _parseTemplateNode(t,i,n){let e=!1,r=t;return"template"!=r.localName||r.hasAttribute("preserve-content")?"slot"===r.localName&&(i.hasInsertionPoint=!0):e=this._parseTemplateNestedTemplate(r,i,n)||e,function(t){(function(){if(!ht){ht=!0;const t=document.createElement("textarea");t.placeholder="a",ft=t.placeholder===t.textContent}return ft})()&&"textarea"===t.localName&&t.placeholder&&t.placeholder===t.textContent&&(t.textContent=null)}(r),r.firstChild&&this._parseTemplateChildNodes(r,i,n),r.hasAttributes&&r.hasAttributes()&&(e=this._parseTemplateNodeAttributes(r,i,n)||e),e||n.noted}static _parseTemplateChildNodes(t,i,n){if("script"!==t.localName&&"style"!==t.localName)for(let e,r=t.firstChild,o=0;r;r=e){if("template"==r.localName&&(r=lt(r)),e=r.nextSibling,r.nodeType===Node.TEXT_NODE){let n=e;for(;n&&n.nodeType===Node.TEXT_NODE;)r.textContent+=n.textContent,e=n.nextSibling,t.removeChild(n),n=e;if(i.stripWhiteSpace&&!r.textContent.trim()){t.removeChild(r);continue}}let s={parentIndex:o,parentInfo:n};this._parseTemplateNode(r,i,s)&&(s.infoIndex=i.nodeInfoList.push(s)-1),r.parentNode&&o++}}static _parseTemplateNestedTemplate(t,i,n){let e=t,r=this._parseTemplate(e,i);return(r.content=e.content.ownerDocument.createDocumentFragment()).appendChild(e.content),n.templateInfo=r,!0}static _parseTemplateNodeAttributes(t,i,n){let e=!1,r=Array.from(t.attributes);for(let o,s=r.length-1;o=r[s];s--)e=this._parseTemplateNodeAttribute(t,i,n,o.name,o.value)||e;return e}static _parseTemplateNodeAttribute(t,i,n,e,r){return"on-"===e.slice(0,3)?(t.removeAttribute(e),n.events=n.events||[],n.events.push({name:e.slice(3),value:r}),!0):"id"===e&&(n.id=r,!0)}static _contentForTemplate(t){let i=t._templateInfo;return i&&i.content||t.content}_stampTemplate(t,i){t&&!t.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(t);let n=(i=i||this.constructor._parseTemplate(t)).nodeInfoList,e=document.importNode(i.content||t.content,!0);e.__noInsertionPoint=!i.hasInsertionPoint;let r=e.nodeList=new Array(n.length);e.$={};for(let t,o=0,s=n.length;o<s&&(t=n[o]);o++){let n=r[o]=dt(e,t);vt(0,e.$,n,t),mt(0,n,t,i),pt(this,n,t)}return e=e,e}_addMethodEventListenerToNode(t,i,n,e){let r=function(t,i,n){return t=t._methodHost||t,function(i){t[n]?t[n](i,i.detail):console.warn("listener method `"+n+"` not defined")}}(e=e||t,0,n);return this._addEventListenerToNode(t,i,r),r}_addEventListenerToNode(t,i,n){t.addEventListener(i,n)}_removeEventListenerFromNode(t,i,n){t.removeEventListener(i,n)}}));
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */let gt=0;const yt=[],wt={COMPUTE:"__computeEffects",REFLECT:"__reflectEffects",NOTIFY:"__notifyEffects",PROPAGATE:"__propagateEffects",OBSERVE:"__observeEffects",READ_ONLY:"__readOnly"},xt=/[A-Z]/;function kt(t,i,n){let e=t[i];if(e){if(!t.hasOwnProperty(i)&&(e=t[i]=Object.create(t[i]),n))for(let t in e){let i=e[t],n=e[t]=Array(i.length);for(let t=0;t<i.length;t++)n[t]=i[t]}}else e=t[i]={};return e}function _t(t,i,n,e,r,o){if(i){let s=!1;const a=gt++;for(let u in n){let c=i[r?N(u):u];if(c)for(let i,h=0,f=c.length;h<f&&(i=c[h]);h++)i.info&&i.info.lastRun===a||r&&!St(u,i.trigger)||(i.info&&(i.info.lastRun=a),i.fn(t,u,n,e,i.info,r,o),s=!0)}return s}return!1}function At(t,i,n,e,r,o,s,a){let u=!1,c=i[s?N(e):e];if(c)for(let i,h=0,f=c.length;h<f&&(i=c[h]);h++)i.info&&i.info.lastRun===n||s&&!St(e,i.trigger)||(i.info&&(i.info.lastRun=n),i.fn(t,e,r,o,i.info,s,a),u=!0);return u}function St(t,i){if(i){let n=i.name;return n==t||!(!i.structured||!function(t,i){return 0===t.indexOf(i+".")}(n,t))||!(!i.wildcard||!U(n,t))}return!0}function Et(t,i,n,e,r){let o="string"==typeof r.method?t[r.method]:r.method,s=r.property;o?o.call(t,t.__data[s],e[s]):r.dynamicFn||console.warn("observer method `"+r.method+"` not defined")}function Mt(t,i,n){let e=N(i);return e!==i&&(Ct(t,Q(e)+"-changed",n[i],i),!0)}function Ct(t,i,n,e){let r={value:n,queueProperty:!0};e&&(r.path=e),L(t).dispatchEvent(new CustomEvent(i,{detail:r}))}function Ot(t,i,n,e,r,o){let s=(o?N(i):i)!=i?i:null,a=s?K(t,s):t.__data[i];s&&void 0===a&&(a=n[i]),Ct(t,r.eventName,a,s)}function Tt(t,i,n,e,r){let o=t.__data[i];v&&(o=v(o,r.attrName,"attribute",t)),t._propertyToAttribute(i,r.attrName,o)}const Rt=(t,i,n)=>{let e=0,r=i.length-1,o=-1;for(;e<=r;){const s=e+r>>1,a=n.get(i[s].methodInfo)-n.get(t.methodInfo);if(a<0)e=s+1;else{if(!(a>0)){o=s;break}r=s-1}}o<0&&(o=r+1),i.splice(o,0,t)},jt=(t,i,n,e,r)=>{const o=i[r?N(t):t];if(o)for(let i=0;i<o.length;i++){const s=o[i];s.info.lastRun===gt||r&&!St(t,s.trigger)||(s.info.lastRun=gt,Rt(s.info,n,e))}};function It(t,i,n,e,r){let o=Nt(t,i,n,0,r);if(o===yt)return!1;let s=r.methodInfo;return t.__dataHasAccessor&&t.__dataHasAccessor[s]?t._setPendingProperty(s,o,!0):(t[s]=o,!1)}function Ft(t,i,n,e,r,o,s){n.bindings=n.bindings||[];let a={kind:e,target:r,parts:o,literal:s,isCompound:1!==o.length};if(n.bindings.push(a),function(t){return Boolean(t.target)&&"attribute"!=t.kind&&"text"!=t.kind&&!t.isCompound&&"{"===t.parts[0].mode}(a)){let{event:t,negate:i}=a.parts[0];a.listenerEvent=t||Q(r)+"-changed",a.listenerNegate=i}let u=i.nodeInfoList.length;for(let n=0;n<a.parts.length;n++){let e=a.parts[n];e.compoundIndex=n,Bt(t,i,a,e,u)}}function Bt(t,i,n,e,r){if(!e.literal)if("attribute"===n.kind&&"-"===n.target[0])console.warn("Cannot set attribute "+n.target+' because "-" is not a valid attribute starting character');else{let o=e.dependencies,s={index:r,binding:n,part:e,evaluator:t};for(let n=0;n<o.length;n++){let e=o[n];"string"==typeof e&&(e=Kt(e),e.wildcard=!0),t._addTemplatePropertyEffect(i,e.rootProperty,{fn:zt,info:s,trigger:e})}}}function zt(t,i,n,e,r,o,s){let a=s[r.index],u=r.binding,c=r.part;if(o&&c.source&&i.length>c.source.length&&"property"==u.kind&&!u.isCompound&&a.__isPropertyEffectsClient&&a.__dataHasAccessor&&a.__dataHasAccessor[u.target]){let e=n[i];i=V(c.source,u.target,i),a._setPendingPropertyOrPath(i,e,!1,!0)&&t._enqueueClient(a)}else{let s=r.evaluator._evaluateBinding(t,c,i,n,e,o);s!==yt&&function(t,i,n,e,r){if(r=function(t,i,n,e){if(n.isCompound){let r=t.__dataCompoundStorage[n.target];r[e.compoundIndex]=i,i=r.join("")}return"attribute"!==n.kind&&("textContent"!==n.target&&("value"!==n.target||"input"!==t.localName&&"textarea"!==t.localName)||(i=null==i?"":i)),i}(i,r,n,e),v&&(r=v(r,n.target,n.kind,i)),"attribute"==n.kind)t._valueToNodeAttribute(i,r,n.target);else{let e=n.target;i.__isPropertyEffectsClient&&i.__dataHasAccessor&&i.__dataHasAccessor[e]?i[wt.READ_ONLY]&&i[wt.READ_ONLY][e]||i._setPendingProperty(e,r)&&t._enqueueClient(i):t._setUnmanagedPropertyToNode(i,e,r)}}(t,a,u,c,s)}}function Pt(t,i){if(i.isCompound){let n=t.__dataCompoundStorage||(t.__dataCompoundStorage={}),e=i.parts,r=new Array(e.length);for(let t=0;t<e.length;t++)r[t]=e[t].literal;let o=i.target;n[o]=r,i.literal&&"property"==i.kind&&("className"===o&&(t=L(t)),t[o]=i.literal)}}function Lt(t,i,n){if(n.listenerEvent){let e=n.parts[0];t.addEventListener(n.listenerEvent,(function(t){!function(t,i,n,e,r){let o,s=t.detail,a=s&&s.path;a?(e=V(n,e,a),o=s&&s.value):o=t.currentTarget[n],o=r?!o:o,i[wt.READ_ONLY]&&i[wt.READ_ONLY][e]||!i._setPendingPropertyOrPath(e,o,!0,Boolean(a))||s&&s.queueProperty||i._invalidateProperties()}(t,i,n.target,e.source,e.negate)}))}}function Dt(t,i,n,e,r,o){let s={methodName:i.methodName,args:i.args,methodInfo:r,dynamicFn:o=i.static||o&&("object"!=typeof o||o[i.methodName])};for(let r,o=0;o<i.args.length&&(r=i.args[o]);o++)r.literal||t._addPropertyEffect(r.rootProperty,n,{fn:e,info:s,trigger:r});return o&&t._addPropertyEffect(i.methodName,n,{fn:e,info:s}),s}function Nt(t,i,n,e,r){let o=t._methodHost||t,s=o[r.methodName];if(s){let e=t._marshalArgs(r.args,i,n);return e===yt?yt:s.apply(o,e)}r.dynamicFn||console.warn("method `"+r.methodName+"` not defined")}const Ut=[],Vt=new RegExp("(\\[\\[|{{)\\s*(?:(!)\\s*)?((?:[a-zA-Z_$][\\w.:$\\-*]*)\\s*(?:\\(\\s*(?:(?:(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*)(?:,\\s*(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*))*)?)\\)\\s*)?)(?:]]|}})","g");function Ht(t){let i="";for(let n=0;n<t.length;n++)i+=t[n].literal||"";return i}function $t(t){let i=t.match(/([^\s]+?)\(([\s\S]*)\)/);if(i){let t={methodName:i[1],static:!0,args:Ut};return i[2].trim()?function(t,i){return i.args=t.map((function(t){let n=Kt(t);return n.literal||(i.static=!1),n}),this),i}(i[2].replace(/\\,/g,"&comma;").split(","),t):t}return null}function Kt(t){let i=t.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),n={name:i,value:"",literal:!1},e=i[0];switch("-"===e&&(e=i[1]),e>="0"&&e<="9"&&(e="#"),e){case"'":case'"':n.value=i.slice(1,-1),n.literal=!0;break;case"#":n.value=Number(i),n.literal=!0}return n.literal||(n.rootProperty=N(i),n.structured=D(i),n.structured&&(n.wildcard=".*"==i.slice(-2),n.wildcard&&(n.name=i.slice(0,-2)))),n}function Wt(t,i,n){let e=K(t,n);return void 0===e&&(e=i[n]),e}function qt(t,i,n,e){const r={indexSplices:e};w&&!t._overrideLegacyUndefined&&(i.splices=r),t.notifyPath(n+".splices",r),t.notifyPath(n+".length",i.length),w&&!t._overrideLegacyUndefined&&(r.indexSplices=[])}function Gt(t,i,n,e,r,o){qt(t,i,n,[{index:e,addedCount:r,removed:o,object:i,type:"splice"}])}const Yt=E((t=>{const i=bt(ut(t));return class extends i{constructor(){super(),this.__isPropertyEffectsClient=!0}get PROPERTY_EFFECT_TYPES(){return wt}_initializeProperties(){super._initializeProperties(),this._registerHost(),this.__dataClientsReady=!1,this.__dataPendingClients=null,this.__dataToNotify=null,this.__dataLinkedPaths=null,this.__dataHasPaths=!1,this.__dataCompoundStorage=this.__dataCompoundStorage||null,this.__dataHost=this.__dataHost||null,this.__dataTemp={},this.__dataClientsInitialized=!1}_registerHost(){if(Jt.length){let t=Jt[Jt.length-1];t._enqueueClient(this),this.__dataHost=t}}_initializeProtoProperties(t){this.__data=Object.create(t),this.__dataPending=Object.create(t),this.__dataOld={}}_initializeInstanceProperties(t){let i=this[wt.READ_ONLY];for(let n in t)i&&i[n]||(this.__dataPending=this.__dataPending||{},this.__dataOld=this.__dataOld||{},this.__data[n]=this.__dataPending[n]=t[n])}_addPropertyEffect(t,i,n){this._createPropertyAccessor(t,i==wt.READ_ONLY);let e=kt(this,i,!0)[t];e||(e=this[i][t]=[]),e.push(n)}_removePropertyEffect(t,i,n){let e=kt(this,i,!0)[t],r=e.indexOf(n);r>=0&&e.splice(r,1)}_hasPropertyEffect(t,i){let n=this[i];return Boolean(n&&n[t])}_hasReadOnlyEffect(t){return this._hasPropertyEffect(t,wt.READ_ONLY)}_hasNotifyEffect(t){return this._hasPropertyEffect(t,wt.NOTIFY)}_hasReflectEffect(t){return this._hasPropertyEffect(t,wt.REFLECT)}_hasComputedEffect(t){return this._hasPropertyEffect(t,wt.COMPUTE)}_setPendingPropertyOrPath(t,i,n,e){if(e||N(Array.isArray(t)?t[0]:t)!==t){if(!e){let n=K(this,t);if(!(t=W(this,t,i))||!super._shouldPropertyChange(t,i,n))return!1}if(this.__dataHasPaths=!0,this._setPendingProperty(t,i,n))return function(t,i,n){let e=t.__dataLinkedPaths;if(e){let r;for(let o in e){let s=e[o];U(o,i)?(r=V(o,s,i),t._setPendingPropertyOrPath(r,n,!0,!0)):U(s,i)&&(r=V(s,o,i),t._setPendingPropertyOrPath(r,n,!0,!0))}}}(this,t,i),!0}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[t])return this._setPendingProperty(t,i,n);this[t]=i}return!1}_setUnmanagedPropertyToNode(t,i,n){n===t[i]&&"object"!=typeof n||("className"===i&&(t=L(t)),t[i]=n)}_setPendingProperty(t,i,n){let e=this.__dataHasPaths&&D(t);return!!this._shouldPropertyChange(t,i,(e?this.__dataTemp:this.__data)[t])&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),t in this.__dataOld||(this.__dataOld[t]=this.__data[t]),e?this.__dataTemp[t]=i:this.__data[t]=i,this.__dataPending[t]=i,(e||this[wt.NOTIFY]&&this[wt.NOTIFY][t])&&(this.__dataToNotify=this.__dataToNotify||{},this.__dataToNotify[t]=n),!0)}_setProperty(t,i){this._setPendingProperty(t,i,!0)&&this._invalidateProperties()}_invalidateProperties(){this.__dataReady&&this._flushProperties()}_enqueueClient(t){this.__dataPendingClients=this.__dataPendingClients||[],t!==this&&this.__dataPendingClients.push(t)}_flushClients(){this.__dataClientsReady?this.__enableOrFlushClients():(this.__dataClientsReady=!0,this._readyClients(),this.__dataReady=!0)}__enableOrFlushClients(){let t=this.__dataPendingClients;if(t){this.__dataPendingClients=null;for(let i=0;i<t.length;i++){let n=t[i];n.__dataEnabled?n.__dataPending&&n._flushProperties():n._enableProperties()}}}_readyClients(){this.__enableOrFlushClients()}setProperties(t,i){for(let n in t)!i&&this[wt.READ_ONLY]&&this[wt.READ_ONLY][n]||this._setPendingPropertyOrPath(n,t[n],!0);this._invalidateProperties()}ready(){this._flushProperties(),this.__dataClientsReady||this._flushClients(),this.__dataPending&&this._flushProperties()}_propertiesChanged(t,i,n){let e,r=this.__dataHasPaths;this.__dataHasPaths=!1,function(t,i,n,e){let r=t[wt.COMPUTE];if(r)if(x){gt++;const o=function(t){let i=t.constructor.__orderedComputedDeps;if(!i){i=new Map;const n=t[wt.COMPUTE];let e,{counts:r,ready:o,total:s}=function(t){const i=t.__computeInfo,n={},e=t[wt.COMPUTE],r=[];let o=0;for(let t in i){const e=i[t];o+=n[t]=e.args.filter((t=>!t.literal)).length+(e.dynamicFn?1:0)}for(let t in e)i[t]||r.push(t);return{counts:n,ready:r,total:o}}(t);for(;e=o.shift();){i.set(e,i.size);const t=n[e];t&&t.forEach((t=>{const i=t.info.methodInfo;--s,0==--r[i]&&o.push(i)}))}0!==s&&console.warn(`Computed graph for ${t.localName} incomplete; circular?`),t.constructor.__orderedComputedDeps=i}return i}(t),s=[];for(let t in i)jt(t,r,s,o,e);let a;for(;a=s.shift();)It(t,"",i,0,a)&&jt(a.methodInfo,r,s,o,e);Object.assign(n,t.__dataOld),Object.assign(i,t.__dataPending),t.__dataPending=null}else{let o=i;for(;_t(t,r,o,n,e);)Object.assign(n,t.__dataOld),Object.assign(i,t.__dataPending),o=t.__dataPending,t.__dataPending=null}}(this,i,n,r),e=this.__dataToNotify,this.__dataToNotify=null,this._propagatePropertyChanges(i,n,r),this._flushClients(),_t(this,this[wt.REFLECT],i,n,r),_t(this,this[wt.OBSERVE],i,n,r),e&&function(t,i,n,e,r){let o,s,a=t[wt.NOTIFY],u=gt++;for(let s in i)i[s]&&(a&&At(t,a,u,s,n,e,r)||r&&Mt(t,s,n))&&(o=!0);o&&(s=t.__dataHost)&&s._invalidateProperties&&s._invalidateProperties()}(this,e,i,n,r),1==this.__dataCounter&&(this.__dataTemp={})}_propagatePropertyChanges(t,i,n){this[wt.PROPAGATE]&&_t(this,this[wt.PROPAGATE],t,i,n),this.__templateInfo&&this._runEffectsForTemplate(this.__templateInfo,t,i,n)}_runEffectsForTemplate(t,i,n,e){const r=(i,e)=>{_t(this,t.propertyEffects,i,n,e,t.nodeList);for(let r=t.firstChild;r;r=r.nextSibling)this._runEffectsForTemplate(r,i,n,e)};t.runEffects?t.runEffects(r,i,e):r(i,e)}linkPaths(t,i){t=H(t),i=H(i),this.__dataLinkedPaths=this.__dataLinkedPaths||{},this.__dataLinkedPaths[t]=i}unlinkPaths(t){t=H(t),this.__dataLinkedPaths&&delete this.__dataLinkedPaths[t]}notifySplices(t,i){let n={path:""};qt(this,K(this,t,n),n.path,i)}get(t,i){return K(i||this,t)}set(t,i,n){n?W(n,t,i):this[wt.READ_ONLY]&&this[wt.READ_ONLY][t]||this._setPendingPropertyOrPath(t,i,!0)&&this._invalidateProperties()}push(t,...i){let n={path:""},e=K(this,t,n),r=e.length,o=e.push(...i);return i.length&&Gt(this,e,n.path,r,i.length,[]),o}pop(t){let i={path:""},n=K(this,t,i),e=Boolean(n.length),r=n.pop();return e&&Gt(this,n,i.path,n.length,0,[r]),r}splice(t,i,n,...e){let r,o={path:""},s=K(this,t,o);return i<0?i=s.length-Math.floor(-i):i&&(i=Math.floor(i)),r=2===arguments.length?s.splice(i):s.splice(i,n,...e),(e.length||r.length)&&Gt(this,s,o.path,i,e.length,r),r}shift(t){let i={path:""},n=K(this,t,i),e=Boolean(n.length),r=n.shift();return e&&Gt(this,n,i.path,0,0,[r]),r}unshift(t,...i){let n={path:""},e=K(this,t,n),r=e.unshift(...i);return i.length&&Gt(this,e,n.path,0,i.length,[]),r}notifyPath(t,i){let n;if(1==arguments.length){let e={path:""};i=K(this,t,e),n=e.path}else n=Array.isArray(t)?H(t):t;this._setPendingPropertyOrPath(n,i,!0,!0)&&this._invalidateProperties()}_createReadOnlyProperty(t,i){var n;this._addPropertyEffect(t,wt.READ_ONLY),i&&(this["_set"+(n=t,n[0].toUpperCase()+n.substring(1))]=function(i){this._setProperty(t,i)})}_createPropertyObserver(t,i,n){let e={property:t,method:i,dynamicFn:Boolean(n)};this._addPropertyEffect(t,wt.OBSERVE,{fn:Et,info:e,trigger:{name:t}}),n&&this._addPropertyEffect(i,wt.OBSERVE,{fn:Et,info:e,trigger:{name:i}})}_createMethodObserver(t,i){let n=$t(t);if(!n)throw new Error("Malformed observer expression '"+t+"'");Dt(this,n,wt.OBSERVE,Nt,null,i)}_createNotifyingProperty(t){this._addPropertyEffect(t,wt.NOTIFY,{fn:Ot,info:{eventName:Q(t)+"-changed",property:t}})}_createReflectedProperty(t){let i=this.constructor.attributeNameForProperty(t);"-"===i[0]?console.warn("Property "+t+" cannot be reflected to attribute "+i+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.'):this._addPropertyEffect(t,wt.REFLECT,{fn:Tt,info:{attrName:i}})}_createComputedProperty(t,i,n){let e=$t(i);if(!e)throw new Error("Malformed computed expression '"+i+"'");const r=Dt(this,e,wt.COMPUTE,It,t,n);kt(this,"__computeInfo")[t]=r}_marshalArgs(t,i,n){const e=this.__data,r=[];for(let o=0,s=t.length;o<s;o++){let{name:s,structured:a,wildcard:u,value:c,literal:h}=t[o];if(!h)if(u){const t=U(s,i),r=Wt(e,n,t?i:s);c={path:t?i:s,value:r,base:t?K(e,s):r}}else c=a?Wt(e,n,s):e[s];if(w&&!this._overrideLegacyUndefined&&void 0===c&&t.length>1)return yt;r[o]=c}return r}static addPropertyEffect(t,i,n){this.prototype._addPropertyEffect(t,i,n)}static createPropertyObserver(t,i,n){this.prototype._createPropertyObserver(t,i,n)}static createMethodObserver(t,i){this.prototype._createMethodObserver(t,i)}static createNotifyingProperty(t){this.prototype._createNotifyingProperty(t)}static createReadOnlyProperty(t,i){this.prototype._createReadOnlyProperty(t,i)}static createReflectedProperty(t){this.prototype._createReflectedProperty(t)}static createComputedProperty(t,i,n){this.prototype._createComputedProperty(t,i,n)}static bindTemplate(t){return this.prototype._bindTemplate(t)}_bindTemplate(t,i){let n=this.constructor._parseTemplate(t),e=this.__preBoundTemplateInfo==n;if(!e)for(let t in n.propertyEffects)this._createPropertyAccessor(t);if(i)if(n=Object.create(n),n.wasPreBound=e,this.__templateInfo){const i=t._parentTemplateInfo||this.__templateInfo,e=i.lastChild;n.parent=i,i.lastChild=n,n.previousSibling=e,e?e.nextSibling=n:i.firstChild=n}else this.__templateInfo=n;else this.__preBoundTemplateInfo=n;return n}static _addTemplatePropertyEffect(t,i,n){(t.hostProps=t.hostProps||{})[i]=!0;let e=t.propertyEffects=t.propertyEffects||{};(e[i]=e[i]||[]).push(n)}_stampTemplate(t,i){i=i||this._bindTemplate(t,!0),Jt.push(this);let n=super._stampTemplate(t,i);if(Jt.pop(),i.nodeList=n.nodeList,!i.wasPreBound){let t=i.childNodes=[];for(let i=n.firstChild;i;i=i.nextSibling)t.push(i)}return n.templateInfo=i,function(t,i){let{nodeList:n,nodeInfoList:e}=i;if(e.length)for(let i=0;i<e.length;i++){let r=n[i],o=e[i].bindings;if(o)for(let i=0;i<o.length;i++){let n=o[i];Pt(r,n),Lt(r,t,n)}r.__dataHost=t}}(this,i),this.__dataClientsReady&&(this._runEffectsForTemplate(i,this.__data,null,!1),this._flushClients()),n}_removeBoundDom(t){const i=t.templateInfo,{previousSibling:n,nextSibling:e,parent:r}=i;n?n.nextSibling=e:r&&(r.firstChild=e),e?e.previousSibling=n:r&&(r.lastChild=n),i.nextSibling=i.previousSibling=null;let o=i.childNodes;for(let t=0;t<o.length;t++){let i=o[t];L(L(i).parentNode).removeChild(i)}}static _parseTemplateNode(t,n,e){let r=i._parseTemplateNode.call(this,t,n,e);if(t.nodeType===Node.TEXT_NODE){let i=this._parseBindings(t.textContent,n);i&&(t.textContent=Ht(i)||" ",Ft(this,n,e,"text","textContent",i),r=!0)}return r}static _parseTemplateNodeAttribute(t,n,e,r,o){let s=this._parseBindings(o,n);if(s){let i=r,o="property";xt.test(r)?o="attribute":"$"==r[r.length-1]&&(r=r.slice(0,-1),o="attribute");let a=Ht(s);return a&&"attribute"==o&&("class"==r&&t.hasAttribute("class")&&(a+=" "+t.getAttribute(r)),t.setAttribute(r,a)),"attribute"==o&&"disable-upgrade$"==i&&t.setAttribute(r,""),"input"===t.localName&&"value"===i&&t.setAttribute(i,""),t.removeAttribute(i),"property"===o&&(r=J(r)),Ft(this,n,e,o,r,s,a),!0}return i._parseTemplateNodeAttribute.call(this,t,n,e,r,o)}static _parseTemplateNestedTemplate(t,n,e){let r=i._parseTemplateNestedTemplate.call(this,t,n,e);const o=t.parentNode,s=e.templateInfo,a="dom-if"===o.localName;k&&(a||"dom-repeat"===o.localName)&&(o.removeChild(t),(e=e.parentInfo).templateInfo=s,e.noted=!0,r=!1);let u=s.hostProps;if(_&&a)u&&(n.hostProps=Object.assign(n.hostProps||{},u),k||(e.parentInfo.noted=!0));else{let t="{";for(let i in u)Ft(this,n,e,"property","_host_"+i,[{mode:t,source:i,dependencies:[i],hostProp:!0}])}return r}static _parseBindings(t,i){let n,e=[],r=0;for(;null!==(n=Vt.exec(t));){n.index>r&&e.push({literal:t.slice(r,n.index)});let o=n[1][0],s=Boolean(n[2]),a=n[3].trim(),u=!1,c="",h=-1;"{"==o&&(h=a.indexOf("::"))>0&&(c=a.substring(h+2),a=a.substring(0,h),u=!0);let f=$t(a),l=[];if(f){let{args:t,methodName:n}=f;for(let i=0;i<t.length;i++){let n=t[i];n.literal||l.push(n)}let e=i.dynamicFns;(e&&e[n]||f.static)&&(l.push(n),f.dynamicFn=!0)}else l.push(a);e.push({source:a,mode:o,negate:s,customEvent:u,signature:f,dependencies:l,event:c}),r=Vt.lastIndex}if(r&&r<t.length){let i=t.substring(r);i&&e.push({literal:i})}return e.length?e:null}static _evaluateBinding(t,i,n,e,r,o){let s;return s=i.signature?Nt(t,n,e,0,i.signature):n!=i.source?K(t,i.source):o&&D(n)?K(t,n):t.__data[n],i.negate&&(s=!s),s}}})),Jt=[],Qt=E((t=>{const i=ot(t);function n(t){const i=Object.getPrototypeOf(t);return i.prototype instanceof r?i:null}function e(t){if(!t.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",t))){let i=null;if(t.hasOwnProperty(JSCompiler_renameProperty("properties",t))){const n=t.properties;n&&(i=
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function(t){const i={};for(let n in t){const e=t[n];i[n]="function"==typeof e?{type:e}:e}return i}(n))}t.__ownProperties=i}return t.__ownProperties}class r extends i{static get observedAttributes(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__observedAttributes",this))){const t=this._properties;this.__observedAttributes=t?Object.keys(t).map((t=>this.prototype._addPropertyToAttributeMap(t))):[]}return this.__observedAttributes}static finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){const t=n(this);t&&t.finalize(),this.__finalized=!0,this._finalizeClass()}}static _finalizeClass(){const t=e(this);t&&this.createProperties(t)}static get _properties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){const t=n(this);this.__properties=Object.assign({},t&&t._properties,e(this))}return this.__properties}static typeForProperty(t){const i=this._properties[t];return i&&i.type}_initializeProperties(){this.constructor.finalize(),super._initializeProperties()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._enableProperties()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback()}}return r})),Zt=window.ShadyCSS&&window.ShadyCSS.cssBuild,Xt=E((t=>{const i=Qt(Yt(t));function n(t,i,n,e){n.computed&&(n.readOnly=!0),n.computed&&(t._hasReadOnlyEffect(i)?console.warn(`Cannot redefine computed property '${i}'.`):t._createComputedProperty(i,n.computed,e)),n.readOnly&&!t._hasReadOnlyEffect(i)?t._createReadOnlyProperty(i,!n.computed):!1===n.readOnly&&t._hasReadOnlyEffect(i)&&console.warn(`Cannot make readOnly property '${i}' non-readOnly.`),n.reflectToAttribute&&!t._hasReflectEffect(i)?t._createReflectedProperty(i):!1===n.reflectToAttribute&&t._hasReflectEffect(i)&&console.warn(`Cannot make reflected property '${i}' non-reflected.`),n.notify&&!t._hasNotifyEffect(i)?t._createNotifyingProperty(i):!1===n.notify&&t._hasNotifyEffect(i)&&console.warn(`Cannot make notify property '${i}' non-notify.`),n.observer&&t._createPropertyObserver(i,n.observer,e[n.observer]),t._addPropertyToAttributeMap(i)}return class extends i{static get polymerElementVersion(){return"3.4.1"}static _finalizeClass(){i._finalizeClass.call(this);const t=((n=this).hasOwnProperty(JSCompiler_renameProperty("__ownObservers",n))||(n.__ownObservers=n.hasOwnProperty(JSCompiler_renameProperty("observers",n))?n.observers:null),n.__ownObservers);var n;t&&this.createObservers(t,this._properties),this._prepareTemplate()}static _prepareTemplate(){let t=this.template;t&&("string"==typeof t?(console.error("template getter must return HTMLTemplateElement"),t=null):b||(t=t.cloneNode(!0))),this.prototype._template=t}static createProperties(t){for(let i in t)n(this.prototype,i,t[i],t)}static createObservers(t,i){const n=this.prototype;for(let e=0;e<t.length;e++)n._createMethodObserver(t[e],i)}static get template(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_template",this))){const t=this.prototype.hasOwnProperty(JSCompiler_renameProperty("_template",this.prototype))?this.prototype._template:void 0;this._template=void 0!==t?t:this.hasOwnProperty(JSCompiler_renameProperty("is",this))&&function(t){let i=null;if(t&&(!p||m)&&(i=R.import(t,"template"),p&&!i))throw new Error(`strictTemplatePolicy: expecting dom-module or null template for ${t}`);return i}(this.is)||Object.getPrototypeOf(this.prototype).constructor.template}return this._template}static set template(t){this._template=t}static get importPath(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_importPath",this))){const t=this.importMeta;if(t)this._importPath=f(t.url);else{const t=R.import(this.is);this._importPath=t&&t.assetpath||Object.getPrototypeOf(this.prototype).constructor.importPath}}return this._importPath}constructor(){super()}_initializeProperties(){this.constructor.finalize(),this.constructor._finalizeTemplate(this.localName),super._initializeProperties(),this.rootPath=d,this.importPath=this.constructor.importPath;let t=function(t){if(!t.hasOwnProperty(JSCompiler_renameProperty("__propertyDefaults",t))){t.__propertyDefaults=null;let i=t._properties;for(let n in i){let e=i[n];"value"in e&&(t.__propertyDefaults=t.__propertyDefaults||{},t.__propertyDefaults[n]=e)}}return t.__propertyDefaults}(this.constructor);if(t)for(let i in t){let n=t[i];if(this._canApplyPropertyDefault(i)){let t="function"==typeof n.value?n.value.call(this):n.value;this._hasAccessor(i)?this._setPendingProperty(i,t,!0):this[i]=t}}}_canApplyPropertyDefault(t){return!this.hasOwnProperty(t)}static _processStyleText(t,i){return h(t,i)}static _finalizeTemplate(t){const i=this.prototype._template;if(i&&!i.__polymerFinalized){i.__polymerFinalized=!0;const n=this.importPath;(function(t,i,n,e){if(!Zt){const r=i.content.querySelectorAll("style"),o=z(i),s=function(t){let i=j(t);return i?P(i):[]}(n),a=i.content.firstElementChild;for(let n=0;n<s.length;n++){let r=s[n];r.textContent=t._processStyleText(r.textContent,e),i.content.insertBefore(r,a)}let u=0;for(let i=0;i<o.length;i++){let n=o[i],s=r[u];s!==n?(n=n.cloneNode(!0),s.parentNode.insertBefore(n,s)):u++,n.textContent=t._processStyleText(n.textContent,e)}}if(window.ShadyCSS&&window.ShadyCSS.prepareTemplate(i,n),A&&Zt&&l){const n=i.content.querySelectorAll("style");if(n){let i="";Array.from(n).forEach((t=>{i+=t.textContent,t.parentNode.removeChild(t)})),t._styleSheet=new CSSStyleSheet,t._styleSheet.replaceSync(i)}}})(this,i,t,n?c(n):""),this.prototype._bindTemplate(i)}}connectedCallback(){window.ShadyCSS&&this._template&&window.ShadyCSS.styleElement(this),super.connectedCallback()}ready(){this._template&&(this.root=this._stampTemplate(this._template),this.$=this.root.$),super.ready()}_readyClients(){this._template&&(this.root=this._attachDom(this.root)),super._readyClients()}_attachDom(t){const i=L(this);if(i.attachShadow)return t?(i.shadowRoot||(i.attachShadow({mode:"open",shadyUpgradeFragment:t}),i.shadowRoot.appendChild(t),this.constructor._styleSheet&&(i.shadowRoot.adoptedStyleSheets=[this.constructor._styleSheet])),y&&window.ShadyDOM&&window.ShadyDOM.flushInitial(i.shadowRoot),i.shadowRoot):null;throw new Error("ShadowDOM not available. PolymerElement can create dom as children instead of in ShadowDOM by setting `this.root = this;` before `ready`.")}updateStyles(t){window.ShadyCSS&&window.ShadyCSS.styleSubtree(this,t)}resolveUrl(t,i){return!i&&this.importPath&&(i=c(this.importPath)),c(t,i)}static _parseTemplateContent(t,n,e){return n.dynamicFns=n.dynamicFns||this._properties,i._parseTemplateContent.call(this,t,n,e)}static _addTemplatePropertyEffect(t,n,e){return!g||n in this._properties||e.info.part.signature&&e.info.part.signature.static||e.info.part.hostProp||t.nestedTemplate||console.warn(`Property '${n}' used in template but not declared in 'properties'; attribute will not be observed.`),i._addTemplatePropertyEffect.call(this,t,n,e)}}}));
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
class ti{constructor(t){this.value=t.toString()}toString(){return this.value}}const ii=function(t,...i){const n=document.createElement("template");return n.innerHTML=i.reduce(((i,n,e)=>i+function(t){if(t instanceof HTMLTemplateElement)return t.innerHTML;if(t instanceof ti)return function(t){if(t instanceof ti)return t.value;throw new Error(`non-literal value passed to Polymer's htmlLiteral function: ${t}`)}(t);throw new Error(`non-template value passed to Polymer's html function: ${t}`)}(n)+t[e+1]),t[0]),n},ni=Xt(HTMLElement);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function ei(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ri(t,i,n){return t(n={path:i,exports:{},require:function(){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},n.exports),n.exports}ri((function(t){!function(){var t=function(){return this}();t||"undefined"==typeof window||(t=window);var i=function(t,n,e){"string"==typeof t?(2==arguments.length&&(e=n),i.modules[t]||(i.payloads[t]=e,i.modules[t]=null)):i.original?i.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};i.modules={},i.payloads={};var n,e=function(t,i,n){if("string"==typeof i){var e=s(t,i);if(null!=e)return n&&n(),e}else if("[object Array]"===Object.prototype.toString.call(i)){for(var o=[],a=0,u=i.length;a<u;++a){var c=s(t,i[a]);if(null==c&&r.original)return;o.push(c)}return n&&n.apply(null,o)||!0}},r=function(t,i){var n=e("",t,i);return null==n&&r.original?r.original.apply(this,arguments):n},o=function(t,i){if(-1!==i.indexOf("!")){var n=i.split("!");return o(t,n[0])+"!"+o(t,n[1])}if("."==i.charAt(0))for(i=t.split("/").slice(0,-1).join("/")+"/"+i;-1!==i.indexOf(".")&&e!=i;){var e=i;i=i.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return i},s=function(t,n){n=o(t,n);var r=i.modules[n];if(!r){if("function"==typeof(r=i.payloads[n])){var s={},a={id:n,uri:"",exports:s,packaged:!0},u=r((function(t,i){return e(n,t,i)}),s,a);i.modules[n]=s=u||a.exports,delete i.payloads[n]}r=i.modules[n]=s||r}return r};n=t,t.ace||(t.ace={}),(n=t.ace).define&&n.define.packaged||(i.original=n.define,n.define=i,n.define.packaged=!0),n.require&&n.require.packaged||(r.original=n.require,n.require=r,n.require.packaged=!0)}(),ace.define("ace/lib/fixoldbrowsers",["require","exports","module"],(function(){"undefined"==typeof Element||Element.prototype.remove||Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})})),ace.define("ace/lib/useragent",["require","exports","module"],(function(t,i){i.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},i.getOS=function(){return i.isMac?i.OS.MAC:i.isLinux?i.OS.LINUX:i.OS.WINDOWS};var n="object"==typeof navigator?navigator:{},e=(/mac|win|linux/i.exec(n.platform)||["other"])[0].toLowerCase(),r=n.userAgent||"",o=n.appName||"";i.isWin="win"==e,i.isMac="mac"==e,i.isLinux="linux"==e,i.isIE="Microsoft Internet Explorer"==o||o.indexOf("MSAppHost")>=0?parseFloat((r.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((r.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),i.isOldIE=i.isIE&&i.isIE<9,i.isGecko=i.isMozilla=r.match(/ Gecko\/\d+/),i.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),i.isWebKit=parseFloat(r.split("WebKit/")[1])||void 0,i.isChrome=parseFloat(r.split(" Chrome/")[1])||void 0,i.isEdge=parseFloat(r.split(" Edge/")[1])||void 0,i.isAIR=r.indexOf("AdobeAIR")>=0,i.isAndroid=r.indexOf("Android")>=0,i.isChromeOS=r.indexOf(" CrOS ")>=0,i.isIOS=/iPad|iPhone|iPod/.test(r)&&!window.MSStream,i.isIOS&&(i.isMac=!0),i.isMobile=i.isIOS||i.isAndroid})),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],(function(t,i){var n,e=t("./useragent");i.buildDom=function t(i,n,e){if("string"==typeof i&&i){var r=document.createTextNode(i);return n&&n.appendChild(r),r}if(!Array.isArray(i))return i&&i.appendChild&&n&&n.appendChild(i),i;if("string"!=typeof i[0]||!i[0]){for(var o=[],s=0;s<i.length;s++){var a=t(i[s],n,e);a&&o.push(a)}return o}var u=document.createElement(i[0]),c=i[1],h=1;for(c&&"object"==typeof c&&!Array.isArray(c)&&(h=2),s=h;s<i.length;s++)t(i[s],u,e);return 2==h&&Object.keys(c).forEach((function(t){var i=c[t];"class"===t?u.className=Array.isArray(i)?i.join(" "):i:"function"==typeof i||"value"==t||"$"==t[0]?u[t]=i:"ref"===t?e&&(e[i]=u):"style"===t?"string"==typeof i&&(u.style.cssText=i):null!=i&&u.setAttribute(t,i)})),n&&n.appendChild(u),u},i.getDocumentHead=function(t){return t||(t=document),t.head||t.getElementsByTagName("head")[0]||t.documentElement},i.createElement=function(t,i){return document.createElementNS?document.createElementNS(i||"http://www.w3.org/1999/xhtml",t):document.createElement(t)},i.removeChildren=function(t){t.innerHTML=""},i.createTextNode=function(t,i){return(i?i.ownerDocument:document).createTextNode(t)},i.createFragment=function(t){return(t?t.ownerDocument:document).createDocumentFragment()},i.hasCssClass=function(t,i){return-1!==(t.className+"").split(/\s+/g).indexOf(i)},i.addCssClass=function(t,n){i.hasCssClass(t,n)||(t.className+=" "+n)},i.removeCssClass=function(t,i){for(var n=t.className.split(/\s+/g);;){var e=n.indexOf(i);if(-1==e)break;n.splice(e,1)}t.className=n.join(" ")},i.toggleCssClass=function(t,i){for(var n=t.className.split(/\s+/g),e=!0;;){var r=n.indexOf(i);if(-1==r)break;e=!1,n.splice(r,1)}return e&&n.push(i),t.className=n.join(" "),e},i.setCssClass=function(t,n,e){e?i.addCssClass(t,n):i.removeCssClass(t,n)},i.hasCssString=function(t,i){var n,e=0;if(n=(i=i||document).querySelectorAll("style"))for(;e<n.length;)if(n[e++].id===t)return!0};var r=[];function o(){var t=r;r=null,t&&t.forEach((function(t){s(t[0],t[1])}))}function s(t,e,s){if("undefined"!=typeof document){if(r)if(s)o();else if(!1===s)return r.push([t,e]);if(!n){var a=s;s&&s.getRootNode&&(a=s.getRootNode())&&a!=s||(a=document);var u=a.ownerDocument||a;if(e&&i.hasCssString(e,a))return null;e&&(t+="\n/*# sourceURL=ace/css/"+e+" */");var c=i.createElement("style");c.appendChild(u.createTextNode(t)),e&&(c.id=e),a==u&&(a=i.getDocumentHead(u)),a.insertBefore(c,a.firstChild)}}}if(i.useStrictCSP=function(t){n=t,0==t?o():r||(r=[])},i.importCssString=s,i.importCssStylsheet=function(t,n){i.buildDom(["link",{rel:"stylesheet",href:t}],i.getDocumentHead(n))},i.scrollbarWidth=function(t){var n=i.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var e=i.createElement("ace_outer"),r=e.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",e.appendChild(n);var o=t.documentElement;o.appendChild(e);var s=n.offsetWidth;r.overflow="scroll";var a=n.offsetWidth;return s==a&&(a=e.clientWidth),o.removeChild(e),s-a},i.computedStyle=function(t){return window.getComputedStyle(t,"")||{}},i.setStyle=function(t,i,n){t[i]!==n&&(t[i]=n)},i.HAS_CSS_ANIMATION=!1,i.HAS_CSS_TRANSFORMS=!1,i.HI_DPI=!e.isWin||"undefined"!=typeof window&&window.devicePixelRatio>=1.5,e.isChromeOS&&(i.HI_DPI=!1),"undefined"!=typeof document){var a=document.createElement("div");i.HI_DPI&&void 0!==a.style.transform&&(i.HAS_CSS_TRANSFORMS=!0),e.isEdge||void 0===a.style.animationName||(i.HAS_CSS_ANIMATION=!0),a=null}i.translate=i.HAS_CSS_TRANSFORMS?function(t,i,n){t.style.transform="translate("+Math.round(i)+"px, "+Math.round(n)+"px)"}:function(t,i,n){t.style.top=Math.round(n)+"px",t.style.left=Math.round(i)+"px"}})),ace.define("ace/lib/oop",["require","exports","module"],(function(t,i){i.inherits=function(t,i){t.super_=i,t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})},i.mixin=function(t,i){for(var n in i)t[n]=i[n];return t},i.implement=function(t,n){i.mixin(t,n)}})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],(function(t,i){var n=t("./oop"),e=function(){var t,i,e={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(i in e.FUNCTION_KEYS)t=e.FUNCTION_KEYS[i].toLowerCase(),e[t]=parseInt(i,10);for(i in e.PRINTABLE_KEYS)t=e.PRINTABLE_KEYS[i].toLowerCase(),e[t]=parseInt(i,10);return n.mixin(e,e.MODIFIER_KEYS),n.mixin(e,e.PRINTABLE_KEYS),n.mixin(e,e.FUNCTION_KEYS),e.enter=e.return,e.escape=e.esc,e.del=e.delete,e[173]="-",function(){for(var t=["cmd","ctrl","alt","shift"],i=Math.pow(2,t.length);i--;)e.KEY_MODS[i]=t.filter((function(t){return i&e.KEY_MODS[t]})).join("-")+"-"}(),e.KEY_MODS[0]="",e.KEY_MODS[-1]="input-",e}();n.mixin(i,e),i.keyCodeToString=function(t){var i=e[t];return"string"!=typeof i&&(i=String.fromCharCode(t)),i.toLowerCase()}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(t,i){var n,e=t("./keys"),r=t("./useragent"),o=null,s=0;function a(){return null==n&&function(){n=!1;try{document.createComment("").addEventListener("test",(function(){}),{get passive(){n={passive:!1}}})}catch(t){}}(),n}function u(t,i,n){this.elem=t,this.type=i,this.callback=n}u.prototype.destroy=function(){h(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var c=i.addListener=function(t,i,n,e){t.addEventListener(i,n,a()),e&&e.$toDestroy.push(new u(t,i,n))},h=i.removeListener=function(t,i,n){t.removeEventListener(i,n,a())};i.stopEvent=function(t){return i.stopPropagation(t),i.preventDefault(t),!1},i.stopPropagation=function(t){t.stopPropagation&&t.stopPropagation()},i.preventDefault=function(t){t.preventDefault&&t.preventDefault()},i.getButton=function(t){return"dblclick"==t.type?0:"contextmenu"==t.type||r.isMac&&t.ctrlKey&&!t.altKey&&!t.shiftKey?2:t.button},i.capture=function(t,i,n){var e=t&&t.ownerDocument||document;function r(t){i&&i(t),n&&n(t),h(e,"mousemove",i),h(e,"mouseup",r),h(e,"dragstart",r)}return c(e,"mousemove",i),c(e,"mouseup",r),c(e,"dragstart",r),r},i.addMouseWheelListener=function(t,i,n){"onmousewheel"in t?c(t,"mousewheel",(function(t){void 0!==t.wheelDeltaX?(t.wheelX=-t.wheelDeltaX/8,t.wheelY=-t.wheelDeltaY/8):(t.wheelX=0,t.wheelY=-t.wheelDelta/8),i(t)}),n):"onwheel"in t?c(t,"wheel",(function(t){switch(t.deltaMode){case t.DOM_DELTA_PIXEL:t.wheelX=.35*t.deltaX||0,t.wheelY=.35*t.deltaY||0;break;case t.DOM_DELTA_LINE:case t.DOM_DELTA_PAGE:t.wheelX=5*(t.deltaX||0),t.wheelY=5*(t.deltaY||0)}i(t)}),n):c(t,"DOMMouseScroll",(function(t){t.axis&&t.axis==t.HORIZONTAL_AXIS?(t.wheelX=5*(t.detail||0),t.wheelY=0):(t.wheelX=0,t.wheelY=5*(t.detail||0)),i(t)}),n)},i.addMultiMouseDownListener=function(t,n,e,o,s){var a,u,h,f=0,l={2:"dblclick",3:"tripleclick",4:"quadclick"};function d(t){if(0!==i.getButton(t)?f=0:t.detail>1?++f>4&&(f=1):f=1,r.isIE){var s=Math.abs(t.clientX-a)>5||Math.abs(t.clientY-u)>5;h&&!s||(f=1),h&&clearTimeout(h),h=setTimeout((function(){h=null}),n[f-1]||600),1==f&&(a=t.clientX,u=t.clientY)}if(t._clicks=f,e[o]("mousedown",t),f>4)f=0;else if(f>1)return e[o](l[f],t)}Array.isArray(t)||(t=[t]),t.forEach((function(t){c(t,"mousedown",d,s)}))};var f=function(t){return 0|(t.ctrlKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.metaKey?8:0)};function l(t,i,n){var a=f(i);if(!r.isMac&&o){if(i.getModifierState&&(i.getModifierState("OS")||i.getModifierState("Win"))&&(a|=8),o.altGr){if(3==(3&a))return;o.altGr=0}if(18===n||17===n){var u="location"in i?i.location:i.keyLocation;17===n&&1===u?1==o[n]&&(s=i.timeStamp):18===n&&3===a&&2===u&&i.timeStamp-s<50&&(o.altGr=!0)}}if(n in e.MODIFIER_KEYS&&(n=-1),a||13!==n||3!==(u="location"in i?i.location:i.keyLocation)||(t(i,a,-n),!i.defaultPrevented)){if(r.isChromeOS&&8&a){if(t(i,a,n),i.defaultPrevented)return;a&=-9}return!!(a||n in e.FUNCTION_KEYS||n in e.PRINTABLE_KEYS)&&t(i,a,n)}}function d(){o=Object.create(null)}if(i.getModifierString=function(t){return e.KEY_MODS[f(t)]},i.addCommandKeyListener=function(t,n,e){if(r.isOldGecko||r.isOpera&&!("KeyboardEvent"in window)){var s=null;c(t,"keydown",(function(t){s=t.keyCode}),e),c(t,"keypress",(function(t){return l(n,t,s)}),e)}else{var a=null;c(t,"keydown",(function(t){o[t.keyCode]=(o[t.keyCode]||0)+1;var i=l(n,t,t.keyCode);return a=t.defaultPrevented,i}),e),c(t,"keypress",(function(t){a&&(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey)&&(i.stopEvent(t),a=null)}),e),c(t,"keyup",(function(t){o[t.keyCode]=null}),e),o||(d(),c(window,"focus",d))}},"object"==typeof window&&window.postMessage&&!r.isOldIE){var v=1;i.nextTick=function(t,n){n=n||window;var e="zero-timeout-message-"+v++,r=function(o){o.data==e&&(i.stopPropagation(o),h(n,"message",r),t())};c(n,"message",r),n.postMessage(e,"*")}}i.$idleBlocked=!1,i.onIdle=function(t,n){return setTimeout((function n(){i.$idleBlocked?setTimeout(n,100):t()}),n)},i.$idleBlockId=null,i.blockIdle=function(t){i.$idleBlockId&&clearTimeout(i.$idleBlockId),i.$idleBlocked=!0,i.$idleBlockId=setTimeout((function(){i.$idleBlocked=!1}),t||100)},i.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),i.nextFrame=i.nextFrame?i.nextFrame.bind(window):function(t){setTimeout(t,17)}})),ace.define("ace/range",["require","exports","module"],(function(t,i){var n=function(t,i,n,e){this.start={row:t,column:i},this.end={row:n,column:e}};(function(){this.isEqual=function(t){return this.start.row===t.start.row&&this.end.row===t.end.row&&this.start.column===t.start.column&&this.end.column===t.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(t,i){return 0==this.compare(t,i)},this.compareRange=function(t){var i,n=t.end,e=t.start;return 1==(i=this.compare(n.row,n.column))?1==(i=this.compare(e.row,e.column))?2:0==i?1:0:-1==i?-2:-1==(i=this.compare(e.row,e.column))?-1:1==i?42:0},this.comparePoint=function(t){return this.compare(t.row,t.column)},this.containsRange=function(t){return 0==this.comparePoint(t.start)&&0==this.comparePoint(t.end)},this.intersects=function(t){var i=this.compareRange(t);return-1==i||0==i||1==i},this.isEnd=function(t,i){return this.end.row==t&&this.end.column==i},this.isStart=function(t,i){return this.start.row==t&&this.start.column==i},this.setStart=function(t,i){"object"==typeof t?(this.start.column=t.column,this.start.row=t.row):(this.start.row=t,this.start.column=i)},this.setEnd=function(t,i){"object"==typeof t?(this.end.column=t.column,this.end.row=t.row):(this.end.row=t,this.end.column=i)},this.inside=function(t,i){return 0==this.compare(t,i)&&!this.isEnd(t,i)&&!this.isStart(t,i)},this.insideStart=function(t,i){return 0==this.compare(t,i)&&!this.isEnd(t,i)},this.insideEnd=function(t,i){return 0==this.compare(t,i)&&!this.isStart(t,i)},this.compare=function(t,i){return this.isMultiLine()||t!==this.start.row?t<this.start.row?-1:t>this.end.row?1:this.start.row===t?i>=this.start.column?0:-1:this.end.row===t?i<=this.end.column?0:1:0:i<this.start.column?-1:i>this.end.column?1:0},this.compareStart=function(t,i){return this.start.row==t&&this.start.column==i?-1:this.compare(t,i)},this.compareEnd=function(t,i){return this.end.row==t&&this.end.column==i?1:this.compare(t,i)},this.compareInside=function(t,i){return this.end.row==t&&this.end.column==i?1:this.start.row==t&&this.start.column==i?-1:this.compare(t,i)},this.clipRows=function(t,i){if(this.end.row>i)var e={row:i+1,column:0};else this.end.row<t&&(e={row:t,column:0});if(this.start.row>i)var r={row:i+1,column:0};else this.start.row<t&&(r={row:t,column:0});return n.fromPoints(r||this.start,e||this.end)},this.extend=function(t,i){var e=this.compare(t,i);if(0==e)return this;if(-1==e)var r={row:t,column:i};else var o={row:t,column:i};return n.fromPoints(r||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return n.fromPoints(this.start,this.end)},this.collapseRows=function(){return new n(this.start.row,0,0==this.end.column?Math.max(this.start.row,this.end.row-1):this.end.row,0)},this.toScreenRange=function(t){var i=t.documentToScreenPosition(this.start),e=t.documentToScreenPosition(this.end);return new n(i.row,i.column,e.row,e.column)},this.moveBy=function(t,i){this.start.row+=t,this.start.column+=i,this.end.row+=t,this.end.column+=i}}).call(n.prototype),n.fromPoints=function(t,i){return new n(t.row,t.column,i.row,i.column)},n.comparePoints=function(t,i){return t.row-i.row||t.column-i.column},n.comparePoints=function(t,i){return t.row-i.row||t.column-i.column},i.Range=n})),ace.define("ace/lib/lang",["require","exports","module"],(function(t,i){i.last=function(t){return t[t.length-1]},i.stringReverse=function(t){return t.split("").reverse().join("")},i.stringRepeat=function(t,i){for(var n="";i>0;)1&i&&(n+=t),(i>>=1)&&(t+=t);return n};var n=/^\s\s*/,e=/\s\s*$/;i.stringTrimLeft=function(t){return t.replace(n,"")},i.stringTrimRight=function(t){return t.replace(e,"")},i.copyObject=function(t){var i={};for(var n in t)i[n]=t[n];return i},i.copyArray=function(t){for(var i=[],n=0,e=t.length;n<e;n++)i[n]=t[n]&&"object"==typeof t[n]?this.copyObject(t[n]):t[n];return i},i.deepCopy=function t(i){if("object"!=typeof i||!i)return i;var n;if(Array.isArray(i)){n=[];for(var e=0;e<i.length;e++)n[e]=t(i[e]);return n}if("[object Object]"!==Object.prototype.toString.call(i))return i;for(var e in n={},i)n[e]=t(i[e]);return n},i.arrayToMap=function(t){for(var i={},n=0;n<t.length;n++)i[t[n]]=1;return i},i.createMap=function(t){var i=Object.create(null);for(var n in t)i[n]=t[n];return i},i.arrayRemove=function(t,i){for(var n=0;n<=t.length;n++)i===t[n]&&t.splice(n,1)},i.escapeRegExp=function(t){return t.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},i.escapeHTML=function(t){return(""+t).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},i.getMatchOffsets=function(t,i){var n=[];return t.replace(i,(function(t){n.push({offset:arguments[arguments.length-2],length:t.length})})),n},i.deferredCall=function(t){var i=null,n=function(){i=null,t()},e=function(t){return e.cancel(),i=setTimeout(n,t||0),e};return e.schedule=e,e.call=function(){return this.cancel(),t(),e},e.cancel=function(){return clearTimeout(i),i=null,e},e.isPending=function(){return i},e},i.delayedCall=function(t,i){var n=null,e=function(){n=null,t()},r=function(t){null==n&&(n=setTimeout(e,t||i))};return r.delay=function(t){n&&clearTimeout(n),n=setTimeout(e,t||i)},r.schedule=r,r.call=function(){this.cancel(),t()},r.cancel=function(){n&&clearTimeout(n),n=null},r.isPending=function(){return n},r}})),ace.define("ace/clipboard",["require","exports","module"],(function(t,i,n){var e;n.exports={lineMode:!1,pasteCancelled:function(){return!!(e&&e>Date.now()-50)||(e=!1)},cancel:function(){e=Date.now()}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],(function(t,i){var n=t("../lib/event"),e=t("../lib/useragent"),r=t("../lib/dom"),o=t("../lib/lang"),s=t("../clipboard"),a=e.isChrome<18,u=e.isIE,c=e.isChrome>63,h=400,f=t("../lib/keys"),l=f.KEY_MODS,d=e.isIOS,v=d?/\s/:/\n/,p=e.isMobile;i.TextInput=function(t,i){var m=r.createElement("textarea");m.className="ace_text-input",m.setAttribute("wrap","off"),m.setAttribute("autocorrect","off"),m.setAttribute("autocapitalize","off"),m.setAttribute("spellcheck",!1),m.style.opacity="0",t.insertBefore(m,t.firstChild);var b=!1,g=!1,y=!1,w=!1,x="";p||(m.style.fontSize="1px");var k=!1,_=!1,A="",S=0,E=0,M=0;try{var C=document.activeElement===m}catch(t){}n.addListener(m,"blur",(function(t){_||(i.onBlur(t),C=!1)}),i),n.addListener(m,"focus",(function(t){if(!_){if(C=!0,e.isEdge)try{if(!document.hasFocus())return}catch(t){}i.onFocus(t),e.isEdge?setTimeout(O):O()}}),i),this.$focusScroll=!1,this.focus=function(){if(x||c||"browser"==this.$focusScroll)return m.focus({preventScroll:!0});var t=m.style.top;m.style.position="fixed",m.style.top="0px";try{var i=0!=m.getBoundingClientRect().top}catch(t){return}var n=[];if(i)for(var e=m.parentElement;e&&1==e.nodeType;)n.push(e),e.setAttribute("ace_nocontext",!0),e=!e.parentElement&&e.getRootNode?e.getRootNode().host:e.parentElement;m.focus({preventScroll:!0}),i&&n.forEach((function(t){t.removeAttribute("ace_nocontext")})),setTimeout((function(){m.style.position="","0px"==m.style.top&&(m.style.top=t)}),0)},this.blur=function(){m.blur()},this.isFocused=function(){return C},i.on("beforeEndOperation",(function(){var t=i.curOp,n=t&&t.command&&t.command.name;"insertstring"!=n&&(y&&n&&(t.docChanged||t.selectionChanged)&&(A=m.value="",N()),O())}));var O=d?function(t){if(C&&(!b||t)&&!w){t||(t="");var n="\n ab"+t+"cde fg\n";n!=m.value&&(m.value=A=n);var e=4+(t.length||(i.selection.isEmpty()?0:1));4==S&&E==e||m.setSelectionRange(4,e),S=4,E=e}}:function(){if(!y&&!w&&(C||R)){y=!0;var t=0,n=0,e="";if(i.session){var r=i.selection,o=r.getRange(),s=r.cursor.row;if(t=o.start.column,n=o.end.column,e=i.session.getLine(s),o.start.row!=s){var a=i.session.getLine(s-1);t=o.start.row<s-1?0:t,n+=a.length+1,e=a+"\n"+e}else if(o.end.row!=s){var u=i.session.getLine(s+1);n=o.end.row>s+1?u.length:n,n+=e.length+1,e=e+"\n"+u}else p&&s>0&&(e="\n"+e,n+=1,t+=1);e.length>h&&(t<h&&n<h?e=e.slice(0,h):(e="\n",t==n?t=n=0:(t=0,n=1)))}var c=e+"\n\n";if(c!=A&&(m.value=A=c,S=E=c.length),R&&(S=m.selectionStart,E=m.selectionEnd),E!=n||S!=t||m.selectionEnd!=E)try{m.setSelectionRange(t,n),S=t,E=n}catch(t){}y=!1}};this.resetSelection=O,C&&i.onFocus();var T=null;this.setInputHandler=function(t){T=t},this.getInputHandler=function(){return T};var R=!1,j=function(t,n){if(R&&(R=!1),g)return O(),t&&i.onPaste(t),g=!1,"";for(var r=m.selectionStart,o=m.selectionEnd,s=S,a=A.length-E,u=t,c=t.length-r,h=t.length-o,f=0;s>0&&A[f]==t[f];)f++,s--;for(u=u.slice(f),f=1;a>0&&A.length-f>S-1&&A[A.length-f]==t[t.length-f];)f++,a--;c-=f-1,h-=f-1;var l=u.length-f+1;if(l<0&&(s=-l,l=0),u=u.slice(0,l),!(n||u||c||s||a||h))return"";w=!0;var d=!1;return e.isAndroid&&". "==u&&(u="  ",d=!0),u&&!s&&!a&&!c&&!h||k?i.onTextInput(u):i.onTextInput(u,{extendLeft:s,extendRight:a,restoreStart:c,restoreEnd:h}),w=!1,A=t,S=r,E=o,M=h,d?"\n":u},I=function(t){if(y)return D();if(t&&t.inputType){if("historyUndo"==t.inputType)return i.execCommand("undo");if("historyRedo"==t.inputType)return i.execCommand("redo")}var n=m.value,e=j(n,!0);(n.length>500||v.test(e)||p&&S<1&&S==E)&&O()},F=function(t,i,n){var e=t.clipboardData||window.clipboardData;if(e&&!a){var r=u||n?"Text":"text/plain";try{return i?!1!==e.setData(r,i):e.getData(r)}catch(t){if(!n)return F(t,i,!0)}}},B=function(t,e){var r=i.getCopyText();if(!r)return n.preventDefault(t);F(t,r)?(d&&(O(r),b=r,setTimeout((function(){b=!1}),10)),e?i.onCut():i.onCopy(),n.preventDefault(t)):(b=!0,m.value=r,m.select(),setTimeout((function(){b=!1,O(),e?i.onCut():i.onCopy()})))},z=function(t){B(t,!0)},P=function(t){B(t,!1)},L=function(t){var r=F(t);s.pasteCancelled()||("string"==typeof r?(r&&i.onPaste(r,t),e.isIE&&setTimeout(O),n.preventDefault(t)):(m.value="",g=!0))};n.addCommandKeyListener(m,i.onCommandKey.bind(i),i),n.addListener(m,"select",(function(){y||(b?b=!1:function(t){return 0===t.selectionStart&&t.selectionEnd>=A.length&&t.value===A&&A&&t.selectionEnd!==E}(m)?(i.selectAll(),O()):p&&m.selectionStart!=S&&O())}),i),n.addListener(m,"input",I,i),n.addListener(m,"cut",z,i),n.addListener(m,"copy",P,i),n.addListener(m,"paste",L,i),"oncut"in m&&"oncopy"in m&&"onpaste"in m||n.addListener(t,"keydown",(function(t){if((!e.isMac||t.metaKey)&&t.ctrlKey)switch(t.keyCode){case 67:P(t);break;case 86:L(t);break;case 88:z(t)}}),i);var D=function(){if(y&&i.onCompositionUpdate&&!i.$readOnly){if(k)return U();y.useTextareaForIME?i.onCompositionUpdate(m.value):(j(m.value),y.markerRange&&(y.context&&(y.markerRange.start.column=y.selectionStart=y.context.compositionStartOffset),y.markerRange.end.column=y.markerRange.start.column+E-y.selectionStart+M))}},N=function(t){i.onCompositionEnd&&!i.$readOnly&&(y=!1,i.onCompositionEnd(),i.off("mousedown",U),t&&I())};function U(){_=!0,m.blur(),m.focus(),_=!1}var V,H=o.delayedCall(D,50).schedule.bind(null,null);function $(){clearTimeout(V),V=setTimeout((function(){x&&(m.style.cssText=x,x=""),i.renderer.$isMousePressed=!1,i.renderer.$keepTextAreaAtCursor&&i.renderer.$moveTextAreaToCursor()}),0)}n.addListener(m,"compositionstart",(function(t){if(!y&&i.onCompositionStart&&!i.$readOnly&&(y={},!k)){t.data&&(y.useTextareaForIME=!1),setTimeout(D,0),i._signal("compositionStart"),i.on("mousedown",U);var n=i.getSelectionRange();n.end.row=n.start.row,n.end.column=n.start.column,y.markerRange=n,y.selectionStart=S,i.onCompositionStart(y),y.useTextareaForIME?(A=m.value="",S=0,E=0):(m.msGetInputContext&&(y.context=m.msGetInputContext()),m.getInputContext&&(y.context=m.getInputContext()))}}),i),n.addListener(m,"compositionupdate",D,i),n.addListener(m,"keyup",(function(t){27==t.keyCode&&m.value.length<m.selectionStart&&(y||(A=m.value),S=E=-1,O()),H()}),i),n.addListener(m,"keydown",H,i),n.addListener(m,"compositionend",N,i),this.getElement=function(){return m},this.setCommandMode=function(t){k=t,m.readOnly=!1},this.setReadOnly=function(t){k||(m.readOnly=t)},this.setCopyWithEmptySelection=function(){},this.onContextMenu=function(t){R=!0,O(),i._emit("nativecontextmenu",{target:i,domEvent:t}),this.moveToMouse(t,!0)},this.moveToMouse=function(t,o){x||(x=m.style.cssText),m.style.cssText=(o?"z-index:100000;":"")+(e.isIE?"opacity:0.1;":"")+"text-indent: -"+(S+E)*i.renderer.characterWidth*.5+"px;";var s=i.container.getBoundingClientRect(),a=r.computedStyle(i.container),u=s.top+(parseInt(a.borderTopWidth)||0),c=s.left+(parseInt(s.borderLeftWidth)||0),h=s.bottom-u-m.clientHeight-2,f=function(t){r.translate(m,t.clientX-c-2,Math.min(t.clientY-u-2,h))};f(t),"mousedown"==t.type&&(i.renderer.$isMousePressed=!0,clearTimeout(V),e.isWin&&n.capture(i.container,f,$))},this.onContextMenuClose=$;var K=function(t){i.textInput.onContextMenu(t),$()};n.addListener(m,"mouseup",K,i),n.addListener(m,"mousedown",(function(t){t.preventDefault(),$()}),i),n.addListener(i.renderer.scroller,"contextmenu",K,i),n.addListener(m,"contextmenu",K,i),d&&function(t,i,n){var e=null,r=!1;n.addEventListener("keydown",(function(){e&&clearTimeout(e),r=!0}),!0),n.addEventListener("keyup",(function(){e=setTimeout((function(){r=!1}),100)}),!0);var o=function(){if(document.activeElement===n&&!(r||y||i.$mouseHandler.isMousePressed||b)){var t=n.selectionStart,e=n.selectionEnd,o=null,s=0;if(0==t?o=f.up:1==t?o=f.home:e>E&&"\n"==A[e]?o=f.end:t<S&&" "==A[t-1]?(o=f.left,s=l.option):t<S||t==S&&E!=S&&t==e?o=f.left:e>E&&A.slice(0,e).split("\n").length>2?o=f.down:e>E&&" "==A[e-1]?(o=f.right,s=l.option):(e>E||e==E&&E!=S&&t==e)&&(o=f.right),t!==e&&(s|=l.shift),o){if(!i.onCommandKey({},s,o)&&i.commands){o=f.keyCodeToString(o);var a=i.commands.findKeyCommand(s,o);a&&i.execCommand(a)}S=t,E=e,O("")}}};document.addEventListener("selectionchange",o),i.on("destroy",(function(){document.removeEventListener("selectionchange",o)}))}(0,i,m)},i.$setUserAgentForTests=function(t,i){p=t,d=i}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],(function(t,i){var n=t("../lib/useragent");function e(t){t.$clickSelection=null;var i=t.editor;i.setDefaultHandler("mousedown",this.onMouseDown.bind(t)),i.setDefaultHandler("dblclick",this.onDoubleClick.bind(t)),i.setDefaultHandler("tripleclick",this.onTripleClick.bind(t)),i.setDefaultHandler("quadclick",this.onQuadClick.bind(t)),i.setDefaultHandler("mousewheel",this.onMouseWheel.bind(t)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(i){t[i]=this[i]}),this),t.selectByLines=this.extendSelectionBy.bind(t,"getLineRange"),t.selectByWords=this.extendSelectionBy.bind(t,"getWordRange")}function r(t,i){if(t.start.row==t.end.row)var n=2*i.column-t.start.column-t.end.column;else if(t.start.row!=t.end.row-1||t.start.column||t.end.column)n=2*i.row-t.start.row-t.end.row;else n=i.column-4;return n<0?{cursor:t.start,anchor:t.end}:{cursor:t.end,anchor:t.start}}(function(){this.onMouseDown=function(t){var i=t.inSelection(),e=t.getDocumentPosition();this.mousedownEvent=t;var r=this.editor,o=t.getButton();return 0!==o?((r.getSelectionRange().isEmpty()||1==o)&&r.selection.moveToPosition(e),void(2==o&&(r.textInput.onContextMenu(t.domEvent),n.isMozilla||t.preventDefault()))):(this.mousedownEvent.time=Date.now(),!i||r.isFocused()||(r.focus(),!this.$focusTimeout||this.$clickSelection||r.inMultiSelectMode)?(this.captureMouse(t),this.startSelect(e,t.domEvent._clicks>1),t.preventDefault()):(this.setState("focusWait"),void this.captureMouse(t)))},this.startSelect=function(t,i){t=t||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(t):i||n.selection.moveToPosition(t),i||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var t,i=this.editor,n=i.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var e=this.$clickSelection.comparePoint(n);if(-1==e)t=this.$clickSelection.end;else if(1==e)t=this.$clickSelection.start;else{var o=r(this.$clickSelection,n);n=o.cursor,t=o.anchor}i.selection.setSelectionAnchor(t.row,t.column)}i.selection.selectToPosition(n),i.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(t){var i,n=this.editor,e=n.renderer.screenToTextCoordinates(this.x,this.y),o=n.selection[t](e.row,e.column);if(this.$clickSelection){var s=this.$clickSelection.comparePoint(o.start),a=this.$clickSelection.comparePoint(o.end);if(-1==s&&a<=0)i=this.$clickSelection.end,o.end.row==e.row&&o.end.column==e.column||(e=o.start);else if(1==a&&s>=0)i=this.$clickSelection.start,o.start.row==e.row&&o.start.column==e.column||(e=o.end);else if(-1==s&&1==a)e=o.end,i=o.start;else{var u=r(this.$clickSelection,e);e=u.cursor,i=u.anchor}n.selection.setSelectionAnchor(i.row,i.column)}n.selection.selectToPosition(e),n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var t,i,n=(t=this.mousedownEvent.y,i=this.y,Math.sqrt(Math.pow(this.x-this.mousedownEvent.x,2)+Math.pow(i-t,2))),e=Date.now();(n>0||e-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(t){var i=t.getDocumentPosition(),n=this.editor,e=n.session.getBracketRange(i);e?(e.isEmpty()&&(e.start.column--,e.end.column++),this.setState("select")):(e=n.selection.getWordRange(i.row,i.column),this.setState("selectByWords")),this.$clickSelection=e,this.select()},this.onTripleClick=function(t){var i=t.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var e=n.getSelectionRange();e.isMultiLine()&&e.contains(i.row,i.column)?(this.$clickSelection=n.selection.getLineRange(e.start.row),this.$clickSelection.end=n.selection.getLineRange(e.end.row).end):this.$clickSelection=n.selection.getLineRange(i.row),this.select()},this.onQuadClick=function(){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(t){if(!t.getAccelKey()){t.getShiftKey()&&t.wheelY&&!t.wheelX&&(t.wheelX=t.wheelY,t.wheelY=0);var i=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,e=t.domEvent.timeStamp,r=e-n.t,o=r?t.wheelX/r:n.vx,s=r?t.wheelY/r:n.vy;r<550&&(o=(o+n.vx)/2,s=(s+n.vy)/2);var a=Math.abs(o/s),u=!1;return a>=1&&i.renderer.isScrollableBy(t.wheelX*t.speed,0)&&(u=!0),a<=1&&i.renderer.isScrollableBy(0,t.wheelY*t.speed)&&(u=!0),u?n.allowed=e:e-n.allowed<550&&(Math.abs(o)<=1.5*Math.abs(n.vx)&&Math.abs(s)<=1.5*Math.abs(n.vy)?(u=!0,n.allowed=e):n.allowed=0),n.t=e,n.vx=o,n.vy=s,u?(i.renderer.scrollBy(t.wheelX*t.speed,t.wheelY*t.speed),t.stop()):void 0}}}).call(e.prototype),i.DefaultHandlers=e})),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],(function(t,i){t("./lib/oop");var n=t("./lib/dom");function e(t){this.isOpen=!1,this.$element=null,this.$parentNode=t}(function(){this.$init=function(){return this.$element=n.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(t){this.getElement().textContent=t},this.setHtml=function(t){this.getElement().innerHTML=t},this.setPosition=function(t,i){this.getElement().style.left=t+"px",this.getElement().style.top=i+"px"},this.setClassName=function(t){n.addCssClass(this.getElement(),t)},this.show=function(t,i,n){null!=t&&this.setText(t),null!=i&&null!=n&&this.setPosition(i,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(e.prototype),i.Tooltip=e})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],(function(t,i){var n=t("../lib/dom"),e=t("../lib/oop"),r=t("../lib/event"),o=t("../tooltip").Tooltip;function s(t){o.call(this,t)}e.inherits(s,o),function(){this.setPosition=function(t,i){var n=window.innerWidth||document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),s=this.getHeight();(t+=15)+r>n&&(t-=t+r-n),(i+=15)+s>e&&(i-=20+s),o.prototype.setPosition.call(this,t,i)}}.call(s.prototype),i.GutterHandler=function(t){var i,e,o,a=t.editor,u=a.renderer.$gutterLayer,c=new s(a.container);function h(){i&&(i=clearTimeout(i)),o&&(c.hide(),o=null,a._signal("hideGutterTooltip",c),a.off("mousewheel",h))}function f(t){c.setPosition(t.x,t.y)}t.editor.setDefaultHandler("guttermousedown",(function(i){if(a.isFocused()&&0==i.getButton()&&"foldWidgets"!=u.getRegion(i)){var n=i.getDocumentPosition().row,e=a.session.selection;if(i.getShiftKey())e.selectTo(n,0);else{if(2==i.domEvent.detail)return a.selectAll(),i.preventDefault();t.$clickSelection=a.selection.getLineRange(n)}return t.setState("selectByLines"),t.captureMouse(i),i.preventDefault()}})),t.editor.setDefaultHandler("guttermousemove",(function(r){if(n.hasCssClass(r.domEvent.target||r.domEvent.srcElement,"ace_fold-widget"))return h();o&&t.$tooltipFollowsMouse&&f(r),e=r,i||(i=setTimeout((function(){i=null,e&&!t.isMousePressed?function(){var i=e.getDocumentPosition().row,n=u.$annotations[i];if(!n)return h();if(i==a.session.getLength()){var r=a.renderer.pixelToScreenCoordinates(0,e.y).row,s=e.$pos;if(r>a.session.documentToScreenRow(s.row,s.column))return h()}if(o!=n)if(o=n.text.join("<br/>"),c.setHtml(o),c.show(),a._signal("showGutterTooltip",c),a.on("mousewheel",h),t.$tooltipFollowsMouse)f(e);else{var l=e.domEvent.target.getBoundingClientRect(),d=c.getElement().style;d.left=l.right+"px",d.top=l.bottom+"px"}}():h()}),50))})),r.addListener(a.renderer.$gutter,"mouseout",(function(){e=null,o&&!i&&(i=setTimeout((function(){i=null,h()}),50))}),a),a.on("changeSession",h)}})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(t,i){var n=t("../lib/event"),e=t("../lib/useragent"),r=i.MouseEvent=function(t,i){this.domEvent=t,this.editor=i,this.x=this.clientX=t.clientX,this.y=this.clientY=t.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){n.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){n.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var t=this.editor.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var i=this.getDocumentPosition();this.$inSelection=t.contains(i.row,i.column)}return this.$inSelection},this.getButton=function(){return n.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=e.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(r.prototype)})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(t,i){var n=t("../lib/dom"),e=t("../lib/event"),r=t("../lib/useragent");function o(t){var i=t.editor,o=n.createElement("div");o.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",o.textContent=" ",["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(i){t[i]=this[i]}),this),i.on("mousedown",this.onMouseDown.bind(t));var a,u,c,h,f,l,d,v,p,m,b,g=i.container,y=0;function w(){var t=l;(function(t,n){var e=Date.now();m&&n&&t.row==n.row&&n&&t.column==n.column?s(b.x,b.y,u,c)>5?m=null:e-m>=200&&(i.renderer.scrollCursorIntoView(),m=null):(i.moveCursorToPosition(t),m=e,b={x:u,y:c})})(l=i.renderer.screenToTextCoordinates(u,c),t),function(t,n){var e=Date.now(),r=i.renderer.layerConfig.lineHeight,o=i.renderer.layerConfig.characterWidth,s=i.renderer.scroller.getBoundingClientRect(),a={x:{left:u-s.left,right:s.right-u},y:{top:c-s.top,bottom:s.bottom-c}},h=Math.min(a.x.left,a.x.right),f=Math.min(a.y.top,a.y.bottom),l={row:t.row,column:t.column};h/o<=2&&(l.column+=a.x.left<a.x.right?-3:2),f/r<=1&&(l.row+=a.y.top<a.y.bottom?-1:1),t.row!=l.row||t.column!=l.column&&n&&t.row==n.row?p?e-p>=200&&i.renderer.scrollCursorIntoView(l):p=e:p=null}(l,t)}function x(){f=i.selection.toOrientedRange(),a=i.session.addMarker(f,"ace_selection",i.getSelectionStyle()),i.clearSelection(),i.isFocused()&&i.renderer.$cursorLayer.setBlinking(!1),clearInterval(h),w(),h=setInterval(w,20),y=0,e.addListener(document,"mousemove",A)}function k(){clearInterval(h),i.session.removeMarker(a),a=null,i.selection.fromOrientedRange(f),i.isFocused()&&!v&&i.$resetCursorStyle(),f=null,l=null,y=0,p=null,m=null,e.removeListener(document,"mousemove",A)}this.onDragStart=function(t){if(this.cancelDrag||!g.draggable){var n=this;return setTimeout((function(){n.startSelect(),n.captureMouse(t)}),0),t.preventDefault()}f=i.getSelectionRange();var e=t.dataTransfer;e.effectAllowed=i.getReadOnly()?"copy":"copyMove",i.container.appendChild(o),e.setDragImage&&e.setDragImage(o,0,0),setTimeout((function(){i.container.removeChild(o)})),e.clearData(),e.setData("Text",i.session.getTextRange()),v=!0,this.setState("drag")},this.onDragEnd=function(t){g.draggable=!1,v=!1,this.setState(null),i.getReadOnly()||(d||"move"!=t.dataTransfer.dropEffect||i.session.remove(i.getSelectionRange()),i.$resetCursorStyle()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(t){if(!i.getReadOnly()&&S(t.dataTransfer))return u=t.clientX,c=t.clientY,a||x(),y++,t.dataTransfer.dropEffect=d=E(t),e.preventDefault(t)},this.onDragOver=function(t){if(!i.getReadOnly()&&S(t.dataTransfer))return u=t.clientX,c=t.clientY,a||(x(),y++),null!==_&&(_=null),t.dataTransfer.dropEffect=d=E(t),e.preventDefault(t)},this.onDragLeave=function(t){if(--y<=0&&a)return k(),d=null,e.preventDefault(t)},this.onDrop=function(t){if(l){var n=t.dataTransfer;if(v)switch(d){case"move":f=f.contains(l.row,l.column)?{start:l,end:l}:i.moveText(f,l);break;case"copy":f=i.moveText(f,l,!0)}else{var r=n.getData("Text");f={start:l,end:i.session.insert(l,r)},i.focus(),d=null}return k(),e.preventDefault(t)}},e.addListener(g,"dragstart",this.onDragStart.bind(t),i),e.addListener(g,"dragend",this.onDragEnd.bind(t),i),e.addListener(g,"dragenter",this.onDragEnter.bind(t),i),e.addListener(g,"dragover",this.onDragOver.bind(t),i),e.addListener(g,"dragleave",this.onDragLeave.bind(t),i),e.addListener(g,"drop",this.onDrop.bind(t),i);var _=null;function A(){null==_&&(_=setTimeout((function(){null!=_&&a&&k()}),20))}function S(t){var i=t.types;return!i||Array.prototype.some.call(i,(function(t){return"text/plain"==t||"Text"==t}))}function E(t){var i=["copy","copymove","all","uninitialized"],n=r.isMac?t.altKey:t.ctrlKey,e="uninitialized";try{e=t.dataTransfer.effectAllowed.toLowerCase()}catch(t){}var o="none";return n&&i.indexOf(e)>=0?o="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(e)>=0?o="move":i.indexOf(e)>=0&&(o="copy"),o}}function s(t,i,n,e){return Math.sqrt(Math.pow(n-t,2)+Math.pow(e-i,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var t=this.editor;t.container.draggable=!0,t.renderer.$cursorLayer.setBlinking(!1),t.setStyle("ace_dragging"),t.renderer.setCursorStyle(r.isWin?"default":"move"),this.setState("dragReady")},this.onMouseDrag=function(){var t=this.editor.container;r.isIE&&"dragReady"==this.state&&s(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&t.dragDrop(),"dragWait"===this.state&&s(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))},this.onMouseDown=function(t){if(this.$dragEnabled){this.mousedownEvent=t;var i=this.editor,n=t.inSelection(),e=t.getButton();if(1===(t.domEvent.detail||1)&&0===e&&n){if(t.editor.inMultiSelectMode&&(t.getAccelKey()||t.getShiftKey()))return;this.mousedownEvent.time=Date.now();var o=t.domEvent.target||t.domEvent.srcElement;"unselectable"in o&&(o.unselectable="on"),i.getDragDelay()?(r.isWebKit&&(this.cancelDrag=!0,i.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(t,this.onMouseDrag.bind(this)),t.defaultPrevented=!0}}}}).call(o.prototype),i.DragdropHandler=o})),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],(function(t,i){var n=t("./mouse_event").MouseEvent,e=t("../lib/event"),r=t("../lib/dom");i.addTouchListeners=function(t,i){var o,s,a,u,c,h,f,l,d,v="scroll",p=0,m=0,b=0,g=0;function y(){var t,n,e;d||(t=window.navigator&&window.navigator.clipboard,n=!1,e=function(e){var o,s,a=e.target.getAttribute("action");if("more"==a||!n)return n=!n,o=i.getCopyText(),s=i.session.getUndoManager().hasUndo(),void d.replaceChild(r.buildDom(n?["span",!o&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],o&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],o&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],t&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],s&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Pallete"]]:["span"]),d.firstChild);"paste"==a?t.readText().then((function(t){i.execCommand(a,t)})):a&&("cut"!=a&&"copy"!=a||(t?t.writeText(i.getCopyText()):document.execCommand("copy")),i.execCommand(a)),d.firstChild.style.display="none",n=!1,"openCommandPallete"!=a&&i.focus()},d=r.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(t){v="menu",t.stopPropagation(),t.preventDefault(),i.textInput.focus()},ontouchend:function(t){t.stopPropagation(),t.preventDefault(),e(t)},onclick:e},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],i.container));var o=i.selection.cursor,s=i.renderer.textToScreenCoordinates(o.row,o.column),a=i.renderer.textToScreenCoordinates(0,0).pageX,u=i.renderer.scrollLeft,c=i.container.getBoundingClientRect();d.style.top=s.pageY-c.top-3+"px",s.pageX-c.left<c.width-70?(d.style.left="",d.style.right="10px"):(d.style.right="",d.style.left=a+u-c.left+"px"),d.style.display="",d.firstChild.style.display="none",i.on("input",w)}function w(){d&&(d.style.display="none"),i.off("input",w)}function x(){c=null,clearTimeout(c);var t=i.selection.getRange(),n=t.contains(f.row,f.column);!t.isEmpty()&&n||(i.selection.moveToPosition(f),i.selection.selectWord()),v="wait",y()}e.addListener(t,"contextmenu",(function(){l&&i.textInput.getElement().focus()}),i),e.addListener(t,"touchstart",(function(t){var e=t.touches;if(c||e.length>1)return clearTimeout(c),c=null,a=-1,void(v="zoom");l=i.$mouseHandler.isMousePressed=!0;var r=i.renderer.layerConfig.lineHeight,h=i.renderer.layerConfig.lineHeight,d=t.timeStamp;u=d;var y=e[0],w=y.clientX,k=y.clientY;Math.abs(o-w)+Math.abs(s-k)>r&&(a=-1),o=t.clientX=w,s=t.clientY=k,b=g=0;var _=new n(t,i);if(f=_.getDocumentPosition(),d-a<500&&1==e.length&&!p)m++,t.preventDefault(),t.button=0,function(){c=null,clearTimeout(c),i.selection.moveToPosition(f);var t=m>=2?i.selection.getLineRange(f.row):i.session.getBracketRange(f);t&&!t.isEmpty()?i.selection.setRange(t):i.selection.selectWord(),v="wait"}();else{m=0;var A=i.selection.cursor,S=i.selection.isEmpty()?A:i.selection.anchor,E=i.renderer.$cursorLayer.getPixelPosition(A,!0),M=i.renderer.$cursorLayer.getPixelPosition(S,!0),C=i.renderer.scroller.getBoundingClientRect(),O=i.renderer.layerConfig.offset,T=i.renderer.scrollLeft,R=function(t,i){return(t/=h)*t+(i=i/r-.75)*i};if(t.clientX<C.left)return void(v="zoom");var j=R(t.clientX-C.left-E.left+T,t.clientY-C.top-E.top+O),I=R(t.clientX-C.left-M.left+T,t.clientY-C.top-M.top+O);j<3.5&&I<3.5&&(v=j>I?"cursor":"anchor"),v=I<3.5?"anchor":j<3.5?"cursor":"scroll",c=setTimeout(x,450)}a=d}),i),e.addListener(t,"touchend",(function(){l=i.$mouseHandler.isMousePressed=!1,h&&clearInterval(h),"zoom"==v?(v="",p=0):c?(i.selection.moveToPosition(f),p=0,y()):"scroll"==v?(p+=60,h=setInterval((function(){p--<=0&&(clearInterval(h),h=null),Math.abs(b)<.01&&(b=0),Math.abs(g)<.01&&(g=0),p<20&&(b*=.9),p<20&&(g*=.9);var t=i.session.getScrollTop();i.renderer.scrollBy(10*b,10*g),t==i.session.getScrollTop()&&(p=0)}),10),w()):y(),clearTimeout(c),c=null}),i),e.addListener(t,"touchmove",(function(t){c&&(clearTimeout(c),c=null);var e=t.touches;if(!(e.length>1||"zoom"==v)){var r=e[0],a=o-r.clientX,h=s-r.clientY;if("wait"==v){if(!(a*a+h*h>4))return t.preventDefault();v="cursor"}o=r.clientX,s=r.clientY,t.clientX=r.clientX,t.clientY=r.clientY;var f=t.timeStamp,l=f-u;if(u=f,"scroll"==v){var d=new n(t,i);d.speed=1,d.wheelX=a,d.wheelY=h,10*Math.abs(a)<Math.abs(h)&&(a=0),10*Math.abs(h)<Math.abs(a)&&(h=0),0!=l&&(b=a/l,g=h/l),i._emit("mousewheel",d),d.propagationStopped||(b=g=0)}else{var p=new n(t,i).getDocumentPosition();"cursor"==v?i.selection.moveCursorToPosition(p):"anchor"==v&&i.selection.setSelectionAnchor(p.row,p.column),i.renderer.scrollCursorIntoView(p),t.preventDefault()}}}),i)}})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(t,i){var n=t("./dom");i.get=function(t,i){var n=new XMLHttpRequest;n.open("GET",t,!0),n.onreadystatechange=function(){4===n.readyState&&i(n.responseText)},n.send(null)},i.loadScript=function(t,i){var e=n.getDocumentHead(),r=document.createElement("script");r.src=t,e.appendChild(r),r.onload=r.onreadystatechange=function(t,n){!n&&r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(r=r.onload=r.onreadystatechange=null,n||i())}},i.qualifyURL=function(t){var i=document.createElement("a");return i.href=t,i.href}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(t,i){var n={},e=function(){this.propagationStopped=!0},r=function(){this.defaultPrevented=!0};n._emit=n._dispatchEvent=function(t,i){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[t]||[],o=this._defaultHandlers[t];if(n.length||o){"object"==typeof i&&i||(i={}),i.type||(i.type=t),i.stopPropagation||(i.stopPropagation=e),i.preventDefault||(i.preventDefault=r),n=n.slice();for(var s=0;s<n.length&&(n[s](i,this),!i.propagationStopped);s++);return o&&!i.defaultPrevented?o(i,this):void 0}},n._signal=function(t,i){var n=(this._eventRegistry||{})[t];if(n){n=n.slice();for(var e=0;e<n.length;e++)n[e](i,this)}},n.once=function(t,i){var n=this;if(this.on(t,(function e(){n.off(t,e),i.apply(null,arguments)})),!i)return new Promise((function(t){i=t}))},n.setDefaultHandler=function(t,i){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[t]){var e=n[t],r=n._disabled_[t];r||(n._disabled_[t]=r=[]),r.push(e);var o=r.indexOf(i);-1!=o&&r.splice(o,1)}n[t]=i},n.removeDefaultHandler=function(t,i){var n=this._defaultHandlers;if(n){var e=n._disabled_[t];if(n[t]==i)e&&this.setDefaultHandler(t,e.pop());else if(e){var r=e.indexOf(i);-1!=r&&e.splice(r,1)}}},n.on=n.addEventListener=function(t,i,n){this._eventRegistry=this._eventRegistry||{};var e=this._eventRegistry[t];return e||(e=this._eventRegistry[t]=[]),-1==e.indexOf(i)&&e[n?"unshift":"push"](i),i},n.off=n.removeListener=n.removeEventListener=function(t,i){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[t];if(n){var e=n.indexOf(i);-1!==e&&n.splice(e,1)}},n.removeAllListeners=function(t){t||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[t]=void 0),this._defaultHandlers&&(this._defaultHandlers[t]=void 0)},i.EventEmitter=n})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(t,i){var n=t("./oop"),e=t("./event_emitter").EventEmitter,r={setOptions:function(t){Object.keys(t).forEach((function(i){this.setOption(i,t[i])}),this)},getOptions:function(t){var i={};if(t)Array.isArray(t)||(i=t,t=Object.keys(i));else{var n=this.$options;t=Object.keys(n).filter((function(t){return!n[t].hidden}))}return t.forEach((function(t){i[t]=this.getOption(t)}),this),i},setOption:function(t,i){if(this["$"+t]!==i){var n=this.$options[t];if(!n)return o('misspelled option "'+t+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(t,i);n.handlesSet||(this["$"+t]=i),n&&n.set&&n.set.call(this,i)}},getOption:function(t){var i=this.$options[t];return i?i.forwardTo?this[i.forwardTo]&&this[i.forwardTo].getOption(t):i&&i.get?i.get.call(this):this["$"+t]:o('misspelled option "'+t+'"')}};function o(t){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function s(t,i){var n=new Error(t);n.data=i,"object"==typeof console&&console.error&&console.error(n),setTimeout((function(){throw n}))}var a=function(){this.$defaultOptions={}};(function(){n.implement(this,e),this.defineOptions=function(t,i,e){return t.$options||(this.$defaultOptions[i]=t.$options={}),Object.keys(e).forEach((function(i){var n=e[i];"string"==typeof n&&(n={forwardTo:n}),n.name||(n.name=i),t.$options[n.name]=n,"initialValue"in n&&(t["$"+n.name]=n.initialValue)})),n.implement(t,r),this},this.resetOptions=function(t){Object.keys(t.$options).forEach((function(i){var n=t.$options[i];"value"in n&&t.setOption(i,n.value)}))},this.setDefaultValue=function(t,i,n){if(!t){for(t in this.$defaultOptions)if(this.$defaultOptions[t][i])break;if(!this.$defaultOptions[t][i])return!1}var e=this.$defaultOptions[t]||(this.$defaultOptions[t]={});e[i]&&(e.forwardTo?this.setDefaultValue(e.forwardTo,i,n):e[i].value=n)},this.setDefaultValues=function(t,i){Object.keys(i).forEach((function(n){this.setDefaultValue(t,n,i[n])}),this)},this.warn=o,this.reportError=s}).call(a.prototype),i.AppConfig=a})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/dom","ace/lib/app_config"],(function(t,i,n){var e=t("./lib/lang");t("./lib/oop");var r=t("./lib/net"),o=t("./lib/dom"),s=t("./lib/app_config").AppConfig;n.exports=i=new s;var a=function(){return this||"undefined"!=typeof window&&window}(),u={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};i.get=function(t){if(!u.hasOwnProperty(t))throw new Error("Unknown config key: "+t);return u[t]},i.set=function(t,i){if(u.hasOwnProperty(t))u[t]=i;else if(0==this.setDefaultValue("",t,i))throw new Error("Unknown config key: "+t);"useStrictCSP"==t&&o.useStrictCSP(i)},i.all=function(){return e.copyObject(u)},i.$modes={},i.moduleUrl=function(t,i){if(u.$moduleUrls[t])return u.$moduleUrls[t];var n=t.split("/"),e="snippets"==(i=i||n[n.length-2]||"")?"/":"-",r=n[n.length-1];if("worker"==i&&"-"==e){var o=new RegExp("^"+i+"[\\-_]|[\\-_]"+i+"$","g");r=r.replace(o,"")}(!r||r==i)&&n.length>1&&(r=n[n.length-2]);var s=u[i+"Path"];return null==s?s=u.basePath:"/"==e&&(i=e=""),s&&"/"!=s.slice(-1)&&(s+="/"),s+i+e+r+this.get("suffix")},i.setModuleUrl=function(t,i){return u.$moduleUrls[t]=i},i.$loading={},i.loadModule=function(n,e){var o,s;Array.isArray(n)&&(s=n[0],n=n[1]);try{o=t(n)}catch(t){}if(o&&!i.$loading[n])return e&&e(o);if(i.$loading[n]||(i.$loading[n]=[]),i.$loading[n].push(e),!(i.$loading[n].length>1)){var a=function(){t([n],(function(t){i._emit("load.module",{name:n,module:t});var e=i.$loading[n];i.$loading[n]=null,e.forEach((function(i){i&&i(t)}))}))};if(!i.get("packaged"))return a();r.loadScript(i.moduleUrl(n,s),a),c()}};var c=function(){u.basePath||u.workerPath||u.modePath||u.themePath||Object.keys(u.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),c=function(){})};function h(e){if(a&&a.document){u.packaged=e||t.packaged||n.packaged||a.define&&(void 0).packaged;for(var r,o={},s="",c=document.currentScript||document._currentScript,h=(c&&c.ownerDocument||document).getElementsByTagName("script"),f=0;f<h.length;f++){var l=h[f],d=l.src||l.getAttribute("src");if(d){for(var v=l.attributes,p=0,m=v.length;p<m;p++){var b=v[p];0===b.name.indexOf("data-ace-")&&(o[(r=b.name.replace(/^data-ace-/,""),r.replace(/-(.)/g,(function(t,i){return i.toUpperCase()})))]=b.value)}var g=d.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);g&&(s=g[1])}}for(var y in s&&(o.base=o.base||s,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base,o)void 0!==o[y]&&i.set(y,o[y])}}h(!0),i.init=h,i.version="1.4.13"})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],(function(t,i){var n=t("../lib/event"),e=t("../lib/useragent"),r=t("./default_handlers").DefaultHandlers,o=t("./default_gutter_handler").GutterHandler,s=t("./mouse_event").MouseEvent,a=t("./dragdrop_handler").DragdropHandler,u=t("./touch_handler").addTouchListeners,c=t("../config"),h=function(t){var i=this;this.editor=t,new r(this),new o(this),new a(this);var s=function(){(!document.hasFocus||!document.hasFocus()||!t.isFocused()&&document.activeElement==(t.textInput&&t.textInput.getElement()))&&window.focus(),t.focus()},c=t.renderer.getMouseEventTarget();n.addListener(c,"click",this.onMouseEvent.bind(this,"click"),t),n.addListener(c,"mousemove",this.onMouseMove.bind(this,"mousemove"),t),n.addMultiMouseDownListener([c,t.renderer.scrollBarV&&t.renderer.scrollBarV.inner,t.renderer.scrollBarH&&t.renderer.scrollBarH.inner,t.textInput&&t.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",t),n.addMouseWheelListener(t.container,this.onMouseWheel.bind(this,"mousewheel"),t),u(t.container,t);var h=t.renderer.$gutter;n.addListener(h,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),t),n.addListener(h,"click",this.onMouseEvent.bind(this,"gutterclick"),t),n.addListener(h,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),t),n.addListener(h,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),t),n.addListener(c,"mousedown",s,t),n.addListener(h,"mousedown",s,t),e.isIE&&t.renderer.scrollBarV&&(n.addListener(t.renderer.scrollBarV.element,"mousedown",s,t),n.addListener(t.renderer.scrollBarH.element,"mousedown",s,t)),t.on("mousemove",(function(n){if(!i.state&&!i.$dragDelay&&i.$dragEnabled){var e=t.renderer.screenToTextCoordinates(n.x,n.y),r=t.session.selection.getRange(),o=t.renderer;!r.isEmpty()&&r.insideStart(e.row,e.column)?o.setCursorStyle("default"):o.setCursorStyle("")}}),t)};(function(){this.onMouseEvent=function(t,i){this.editor.session&&this.editor._emit(t,new s(i,this.editor))},this.onMouseMove=function(t,i){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(t,new s(i,this.editor))},this.onMouseWheel=function(t,i){var n=new s(i,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=i.wheelX,n.wheelY=i.wheelY,this.editor._emit(t,n)},this.setState=function(t){this.state=t},this.captureMouse=function(t,i){this.x=t.x,this.y=t.y,this.isMousePressed=!0;var r=this.editor,o=this.editor.renderer;o.$isMousePressed=!0;var a=this,u=function(t){if(t){if(e.isWebKit&&!t.which&&a.releaseMouse)return a.releaseMouse();a.x=t.clientX,a.y=t.clientY,i&&i(t),a.mouseEvent=new s(t,a.editor),a.$mouseMoved=!0}},c=function(t){r.off("beforeEndOperation",f),clearInterval(l),r.session&&h(),a[a.state+"End"]&&a[a.state+"End"](t),a.state="",a.isMousePressed=o.$isMousePressed=!1,o.$keepTextAreaAtCursor&&o.$moveTextAreaToCursor(),a.$onCaptureMouseMove=a.releaseMouse=null,t&&a.onMouseEvent("mouseup",t),r.endOperation()},h=function(){a[a.state]&&a[a.state](),a.$mouseMoved=!1};if(e.isOldIE&&"dblclick"==t.domEvent.type)return setTimeout((function(){c(t)}));var f=function(){a.releaseMouse&&r.curOp.command.name&&r.curOp.selectionChanged&&(a[a.state+"End"]&&a[a.state+"End"](),a.state="",a.releaseMouse())};r.on("beforeEndOperation",f),r.startOperation({command:{name:"mouse"}}),a.$onCaptureMouseMove=u,a.releaseMouse=n.capture(this.editor.container,u,c);var l=setInterval(h,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var t=function(i){i&&i.domEvent&&"contextmenu"!=i.domEvent.type||(this.editor.off("nativecontextmenu",t),i&&i.domEvent&&n.stopEvent(i.domEvent))}.bind(this);setTimeout(t,10),this.editor.on("nativecontextmenu",t)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(h.prototype),c.defineOptions(h.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:e.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),i.MouseHandler=h})),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],(function(t,i){var n=t("../lib/dom");i.FoldHandler=function(t){t.on("click",(function(i){var e=i.getDocumentPosition(),r=t.session,o=r.getFoldAt(e.row,e.column,1);o&&(i.getAccelKey()?r.removeFold(o):r.expandFold(o),i.stop());var s=i.domEvent&&i.domEvent.target;s&&n.hasCssClass(s,"ace_inline_button")&&n.hasCssClass(s,"ace_toggle_wrap")&&(r.setOption("wrap",!r.getUseWrapMode()),t.renderer.scrollCursorIntoView())})),t.on("gutterclick",(function(i){if("foldWidgets"==t.renderer.$gutterLayer.getRegion(i)){var n=i.getDocumentPosition().row,e=t.session;e.foldWidgets&&e.foldWidgets[n]&&t.session.onFoldWidgetClick(n,i),t.isFocused()||t.focus(),i.stop()}})),t.on("gutterdblclick",(function(i){if("foldWidgets"==t.renderer.$gutterLayer.getRegion(i)){var n=i.getDocumentPosition().row,e=t.session,r=e.getParentFoldRangeData(n,!0),o=r.range||r.firstRange;if(o){var s=e.getFoldAt(n=o.start.row,e.getLine(n).length,1);s?e.removeFold(s):(e.addFold("...",o),t.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}i.stop()}}))}})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(t,i){var n=t("../lib/keys"),e=t("../lib/event"),r=function(t){this.$editor=t,this.$data={editor:t},this.$handlers=[],this.setDefaultHandler(t.commands)};(function(){this.setDefaultHandler=function(t){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=t,this.addKeyboardHandler(t,0)},this.setKeyboardHandler=function(t){var i=this.$handlers;if(i[i.length-1]!=t){for(;i[i.length-1]&&i[i.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(i[i.length-1]);this.addKeyboardHandler(t,1)}},this.addKeyboardHandler=function(t,i){if(t){"function"!=typeof t||t.handleKeyboard||(t.handleKeyboard=t);var n=this.$handlers.indexOf(t);-1!=n&&this.$handlers.splice(n,1),null==i?this.$handlers.push(t):this.$handlers.splice(i,0,t),-1==n&&t.attach&&t.attach(this.$editor)}},this.removeKeyboardHandler=function(t){var i=this.$handlers.indexOf(t);return-1!=i&&(this.$handlers.splice(i,1),t.detach&&t.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var t=this.$data,i=t.editor;return this.$handlers.map((function(n){return n.getStatusText&&n.getStatusText(i,t)||""})).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(t,i,n,r){for(var o,s=!1,a=this.$editor.commands,u=this.$handlers.length;u--&&!((o=this.$handlers[u].handleKeyboard(this.$data,t,i,n,r))&&o.command&&((s="null"==o.command||a.exec(o.command,this.$editor,o.args,r))&&r&&-1!=t&&1!=o.passEvent&&1!=o.command.passEvent&&e.stopEvent(r),s)););return s||-1!=t||(o={command:"insertstring"},s=a.exec("insertstring",this.$editor,i)),s&&this.$editor._signal&&this.$editor._signal("keyboardActivity",o),s},this.onCommandKey=function(t,i,e){var r=n.keyCodeToString(e);return this.$callKeyboardHandlers(i,r,e,t)},this.onTextInput=function(t){return this.$callKeyboardHandlers(-1,t)}}).call(r.prototype),i.KeyBinding=r})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(t,i){var n=0,e=0,r=!1,o=!1,s=!1,a=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],c=11,h=18,f=[h,h,h,h,h,h,h,h,h,6,5,6,8,5,h,h,h,h,h,h,h,h,h,h,h,h,h,h,5,5,5,6,8,4,4,c,c,c,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,h,h,h,h,h,h,5,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,9,4,c,c,c,c,4,4,4,4,0,4,4,h,4,4,c,c,2,2,4,0,4,4,4,2,0,4,4,4,4,4],l=[8,8,8,8,8,8,8,8,8,8,8,h,h,h,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,c,c,c,c,c,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function d(t,i,r){if(!(e<t))if(1!=t||1!=n||o)for(var s,a,u,c,h=r.length,f=0;f<h;){if(i[f]>=t){for(s=f+1;s<h&&i[s]>=t;)s++;for(a=f,u=s-1;a<u;a++,u--)c=r[a],r[a]=r[u],r[u]=c;f=s}f++}else r.reverse()}function v(t,i,e,a){var u,f,l,d,v=i[a];switch(v){case 0:case 1:r=!1;case 4:case 3:return v;case 2:return r?3:2;case 7:return r=!0,1;case 8:return 4;case 9:return a<1||a+1>=i.length||2!=(u=e[a-1])&&3!=u||2!=(f=i[a+1])&&3!=f?4:(r&&(f=3),f==u?f:4);case 10:return 2==(u=a>0?e[a-1]:5)&&a+1<i.length&&2==i[a+1]?2:4;case c:if(a>0&&2==e[a-1])return 2;if(r)return 4;for(d=a+1,l=i.length;d<l&&i[d]==c;)d++;return d<l&&2==i[d]?2:4;case 12:for(l=i.length,d=a+1;d<l&&12==i[d];)d++;if(d<l){var p=t[a];if(u=i[d],(p>=1425&&p<=2303||64286==p)&&(1==u||7==u))return 1}return a<1||5==(u=i[a-1])?4:e[a-1];case 5:return r=!1,o=!0,n;case 6:return s=!0,4;case 13:case 14:case 16:case 17:case 15:r=!1;case h:return 4}}function p(t){var i=t.charCodeAt(0),n=i>>8;return 0==n?i>191?0:f[i]:5==n?/[\u0591-\u05f4]/.test(t)?1:0:6==n?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(t)?12:/[\u0660-\u0669\u066b-\u066c]/.test(t)?3:1642==i?c:/[\u06f0-\u06f9]/.test(t)?2:7:32==n&&i<=8287?l[255&i]:254==n&&i>=65136?7:4}i.L=0,i.R=1,i.EN=2,i.ON_R=3,i.AN=4,i.R_H=5,i.B=6,i.RLE=7,i.DOT="·",i.doBidiReorder=function(t,c,f){if(t.length<2)return{};var l=t.split(""),m=new Array(l.length),b=new Array(l.length),g=[];n=f?1:0,function(t,i,c,h){var f=n?u:a,l=null,d=null,m=null,b=0,g=null,y=-1,w=null,x=null,k=[];if(!h)for(w=0,h=[];w<c;w++)h[w]=p(t[w]);for(e=n,r=!1,o=!1,s=!1,x=0;x<c;x++){if(l=b,k[x]=d=v(t,h,k,x),g=240&(b=f[l][d]),i[x]=m=f[b&=15][5],g>0)if(16==g){for(w=y;w<x;w++)i[w]=1;y=-1}else y=-1;if(f[b][6])-1==y&&(y=x);else if(y>-1){for(w=y;w<x;w++)i[w]=m;y=-1}5==h[x]&&(i[x]=0),e|=m}if(s)for(w=0;w<c;w++)if(6==h[w]){i[w]=n;for(var _=w-1;_>=0&&8==h[_];_--)i[_]=n}}(l,g,l.length,c);for(var y=0;y<m.length;m[y]=y,y++);for(d(2,g,m),d(1,g,m),y=0;y<m.length-1;y++)3===c[y]?g[y]=i.AN:1===g[y]&&(c[y]>7&&c[y]<13||4===c[y]||c[y]===h)?g[y]=i.ON_R:y>0&&"ل"===l[y-1]&&/\u0622|\u0623|\u0625|\u0627/.test(l[y])&&(g[y-1]=g[y]=i.R_H,y++);for(l[l.length-1]===i.DOT&&(g[l.length-1]=i.B),"‫"===l[0]&&(g[0]=i.RLE),y=0;y<m.length;y++)b[y]=g[m[y]];return{logicalFromVisual:m,bidiLevels:b}},i.hasBidiCharacters=function(t,i){for(var n=!1,e=0;e<t.length;e++)i[e]=p(t.charAt(e)),n||1!=i[e]&&7!=i[e]&&3!=i[e]||(n=!0);return n},i.getVisualFromLogicalIdx=function(t,i){for(var n=0;n<i.logicalFromVisual.length;n++)if(i.logicalFromVisual[n]==t)return n;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],(function(t,i){var n=t("./lib/bidiutil"),e=t("./lib/lang"),r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,o=function(t){this.session=t,this.bidiMap={},this.currentRow=null,this.bidiUtil=n,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="¶",this.RLE="‫",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=r.test(t.getValue())};(function(){this.isBidiRow=function(t,i,n){return!!this.seenBidi&&(t!==this.currentRow&&(this.currentRow=t,this.updateRowLine(i,n),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(t){this.seenBidi?this.currentRow=null:"insert"==t.action&&r.test(t.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var t=0,i=this.session.$screenRowCache;if(i.length){var n=this.session.$getRowCacheIndex(i,this.currentRow);n>=0&&(t=this.session.$docRowCache[n])}return t},this.getSplitIndex=function(){var t=0,i=this.session.$screenRowCache;if(i.length)for(var n,e=this.session.$getRowCacheIndex(i,this.currentRow);this.currentRow-t>0&&(n=this.session.$getRowCacheIndex(i,this.currentRow-t-1))===e;)e=n,t++;else t=this.currentRow;return t},this.updateRowLine=function(t,i){void 0===t&&(t=this.getDocumentRow());var r=t===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(t),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var o=this.session.$wrapData[t];o&&(void 0===i&&(i=this.getSplitIndex()),i>0&&o.length?(this.wrapIndent=o.indent,this.wrapOffset=this.wrapIndent*this.charWidths[n.L],this.line=i<o.length?this.line.substring(o[i-1],o[i]):this.line.substring(o[o.length-1])):this.line=this.line.substring(0,o[i])),i==o.length&&(this.line+=this.showInvisibles?r:n.DOT)}else this.line+=this.showInvisibles?r:n.DOT;var s,a=this.session,u=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(t,i){return"\t"===t||a.isFullWidth(t.charCodeAt(0))?(s="\t"===t?a.getScreenTabSize(i+u):2,u+=s-1,e.stringRepeat(n.DOT,s)):t})),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==n.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var t=[];this.bidiMap=n.hasBidiCharacters(this.line,t)||this.isRtlDir?n.doBidiReorder(this.line,t,this.isRtlDir):{}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(t){if(this.characterWidth!==t.$characterSize.width){this.fontMetrics=t;var i=this.characterWidth=t.$characterSize.width,e=t.$measureCharWidth("ה");this.charWidths[n.L]=this.charWidths[n.EN]=this.charWidths[n.ON_R]=i,this.charWidths[n.R]=this.charWidths[n.AN]=e,this.charWidths[n.R_H]=.45*e,this.charWidths[n.B]=this.charWidths[n.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(t){this.showInvisibles=t,this.currentRow=null},this.setEolChar=function(t){this.EOL=t},this.setContentWidth=function(t){this.contentWidth=t},this.isRtlLine=function(t){return!!this.$isRtl||(null!=t?this.session.getLine(t).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(t,i){for(var n=t.getCursorPosition(),e=t.selection.getSelectionAnchor().row;e<=n.row;e++)i||t.session.getLine(e).charAt(0)!==t.session.$bidiHandler.RLE?i&&t.session.getLine(e).charAt(0)!==t.session.$bidiHandler.RLE&&t.session.doc.insert({column:0,row:e},t.session.$bidiHandler.RLE):t.session.doc.removeInLine(e,0,1)},this.getPosLeft=function(t){t-=this.wrapIndent;var i=this.line.charAt(0)===this.RLE?1:0,e=t>i?this.session.getOverwrite()?t:t-1:i,r=n.getVisualFromLogicalIdx(e,this.bidiMap),o=this.bidiMap.bidiLevels,s=0;!this.session.getOverwrite()&&t<=i&&o[r]%2!=0&&r++;for(var a=0;a<r;a++)s+=this.charWidths[o[a]];return!this.session.getOverwrite()&&t>i&&o[r]%2==0&&(s+=this.charWidths[o[r]]),this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(s+=this.rtlLineOffset),s},this.getSelections=function(t,i){var n,e=this.bidiMap,r=e.bidiLevels,o=[],s=0,a=Math.min(t,i)-this.wrapIndent,u=Math.max(t,i)-this.wrapIndent,c=!1,h=!1,f=0;this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var l,d=0;d<r.length;d++)n=r[d],(c=(l=e.logicalFromVisual[d])>=a&&l<u)&&!h?f=s:!c&&h&&o.push({left:f,width:s-f}),s+=this.charWidths[n],h=c;if(c&&d===r.length&&o.push({left:f,width:s-f}),this.isRtlDir)for(var v=0;v<o.length;v++)o[v].left+=this.rtlLineOffset;return o},this.offsetToCol=function(t){this.isRtlDir&&(t-=this.rtlLineOffset);var i=0,n=(t=Math.max(t,0),0),e=0,r=this.bidiMap.bidiLevels,o=this.charWidths[r[e]];for(this.wrapIndent&&(t-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);t>n+o/2;){if(n+=o,e===r.length-1){o=0;break}o=this.charWidths[r[++e]]}return e>0&&r[e-1]%2!=0&&r[e]%2==0?(t<n&&e--,i=this.bidiMap.logicalFromVisual[e]):e>0&&r[e-1]%2==0&&r[e]%2!=0?i=1+(t>n?this.bidiMap.logicalFromVisual[e]:this.bidiMap.logicalFromVisual[e-1]):this.isRtlDir&&e===r.length-1&&0===o&&r[e-1]%2==0||!this.isRtlDir&&0===e&&r[e]%2!=0?i=1+this.bidiMap.logicalFromVisual[e]:(e>0&&r[e-1]%2!=0&&0!==o&&e--,i=this.bidiMap.logicalFromVisual[e]),0===i&&this.isRtlDir&&i++,i+this.wrapIndent}}).call(o.prototype),i.BidiHandler=o})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(t,i){var n=t("./lib/oop"),e=t("./lib/lang"),r=t("./lib/event_emitter").EventEmitter,o=t("./range").Range,s=function(t){this.session=t,this.doc=t.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var i=this;this.cursor.on("change",(function(t){i.$cursorChanged=!0,i.$silent||i._emit("changeCursor"),i.$isEmpty||i.$silent||i._emit("changeSelection"),i.$keepDesiredColumnOnChange||t.old.column==t.value.column||(i.$desiredColumn=null)})),this.anchor.on("change",(function(){i.$anchorChanged=!0,i.$isEmpty||i.$silent||i._emit("changeSelection")}))};(function(){n.implement(this,r),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(t,i){this.$isEmpty=!1,this.anchor.setPosition(t,i)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var t=this.anchor,i=this.lead;return t.row>i.row||t.row==i.row&&t.column>i.column},this.getRange=function(){var t=this.anchor,i=this.lead;return this.$isEmpty?o.fromPoints(i,i):this.isBackwards()?o.fromPoints(i,t):o.fromPoints(t,i)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(t,i){var n=i?t.end:t.start,e=i?t.start:t.end;this.$setSelection(n.row,n.column,e.row,e.column)},this.$setSelection=function(t,i,n,e){if(!this.$silent){var r=this.$isEmpty,s=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(t,i),this.cursor.setPosition(n,e),this.$isEmpty=!o.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||r!=this.$isEmpty||s)&&this._emit("changeSelection")}},this.$moveSelection=function(t){var i=this.lead;this.$isEmpty&&this.setSelectionAnchor(i.row,i.column),t.call(this)},this.selectTo=function(t,i){this.$moveSelection((function(){this.moveCursorTo(t,i)}))},this.selectToPosition=function(t){this.$moveSelection((function(){this.moveCursorToPosition(t)}))},this.moveTo=function(t,i){this.clearSelection(),this.moveCursorTo(t,i)},this.moveToPosition=function(t){this.clearSelection(),this.moveCursorToPosition(t)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(t,i){if(void 0===i){var n=t||this.lead;t=n.row,i=n.column}return this.session.getWordRange(t,i)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var t=this.getCursor(),i=this.session.getAWordRange(t.row,t.column);this.setSelectionRange(i)},this.getLineRange=function(t,i){var n,e="number"==typeof t?t:this.lead.row,r=this.session.getFoldLine(e);return r?(e=r.start.row,n=r.end.row):n=e,!0===i?new o(e,0,n,this.session.getLine(n).length):new o(e,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(t,i,n){var e=t.column,r=t.column+i;return n<0&&(e=t.column-i,r=t.column),this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(e,r).split(" ").length-1==i},this.moveCursorLeft=function(){var t,i=this.lead.getPosition();if(t=this.session.getFoldAt(i.row,i.column,-1))this.moveCursorTo(t.start.row,t.start.column);else if(0===i.column)i.row>0&&this.moveCursorTo(i.row-1,this.doc.getLine(i.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(i,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var t,i=this.lead.getPosition();if(t=this.session.getFoldAt(i.row,i.column,1))this.moveCursorTo(t.end.row,t.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(i=this.lead,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var t=this.lead.row,i=this.lead.column,n=this.session.documentToScreenRow(t,i),e=this.session.screenToDocumentPosition(n,0),r=this.session.getDisplayLine(t,null,e.row,e.column).match(/^\s*/);r[0].length==i||this.session.$useEmacsStyleLineStart||(e.column+=r[0].length),this.moveCursorToPosition(e)},this.moveCursorLineEnd=function(){var t=this.lead,i=this.session.getDocumentLastRowColumnPosition(t.row,t.column);if(this.lead.column==i.column){var n=this.session.getLine(i.row);if(i.column==n.length){var e=n.search(/\s+$/);e>0&&(i.column=e)}}this.moveCursorTo(i.row,i.column)},this.moveCursorFileEnd=function(){var t=this.doc.getLength()-1,i=this.doc.getLine(t).length;this.moveCursorTo(t,i)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var t=this.lead.row,i=this.lead.column,n=this.doc.getLine(t),e=n.substring(i);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(t,i,1);if(r)this.moveCursorTo(r.end.row,r.end.column);else{if(this.session.nonTokenRe.exec(e)&&(i+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,e=n.substring(i)),i>=n.length)return this.moveCursorTo(t,n.length),this.moveCursorRight(),void(t<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(e)&&(i+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,i)}},this.moveCursorLongWordLeft=function(){var t,i=this.lead.row,n=this.lead.column;if(t=this.session.getFoldAt(i,n,-1))this.moveCursorTo(t.start.row,t.start.column);else{var r=this.session.getFoldStringAt(i,n,-1);null==r&&(r=this.doc.getLine(i).substring(0,n));var o=e.stringReverse(r);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(o)&&(n-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(i,0),this.moveCursorLeft(),void(i>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(o)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(i,n)}},this.$shortWordEndIndex=function(t){var i,n=0,e=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(t))n=this.session.tokenRe.lastIndex;else{for(;(i=t[n])&&e.test(i);)n++;if(n<1)for(r.lastIndex=0;(i=t[n])&&!r.test(i);)if(r.lastIndex=0,n++,e.test(i)){if(n>2){n--;break}for(;(i=t[n])&&e.test(i);)n++;if(n>2)break}}return r.lastIndex=0,n},this.moveCursorShortWordRight=function(){var t=this.lead.row,i=this.lead.column,n=this.doc.getLine(t),e=n.substring(i),r=this.session.getFoldAt(t,i,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(i==n.length){var o=this.doc.getLength();do{t++,e=this.doc.getLine(t)}while(t<o&&/^\s*$/.test(e));/^\s+/.test(e)||(e=""),i=0}var s=this.$shortWordEndIndex(e);this.moveCursorTo(t,i+s)},this.moveCursorShortWordLeft=function(){var t,i=this.lead.row,n=this.lead.column;if(t=this.session.getFoldAt(i,n,-1))return this.moveCursorTo(t.start.row,t.start.column);var r=this.session.getLine(i).substring(0,n);if(0===n){do{i--,r=this.doc.getLine(i)}while(i>0&&/^\s*$/.test(r));n=r.length,/\s+$/.test(r)||(r="")}var o=e.stringReverse(r),s=this.$shortWordEndIndex(o);return this.moveCursorTo(i,n-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(t,i){var n,e=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===i&&(0!==t&&(this.session.$bidiHandler.isBidiRow(e.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(e.column),e.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=e.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?e.column=this.$desiredColumn:this.$desiredColumn=e.column),0!=t&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var r=this.session.lineWidgets[this.lead.row];t<0?t-=r.rowsAbove||0:t>0&&(t+=r.rowCount-(r.rowsAbove||0))}var o=this.session.screenToDocumentPosition(e.row+t,e.column,n);this.moveCursorTo(o.row,o.column+i,0===i)},this.moveCursorToPosition=function(t){this.moveCursorTo(t.row,t.column)},this.moveCursorTo=function(t,i,n){var e=this.session.getFoldAt(t,i,1);e&&(t=e.start.row,i=e.start.column),this.$keepDesiredColumnOnChange=!0;var r=this.session.getLine(t);/[\uDC00-\uDFFF]/.test(r.charAt(i))&&r.charAt(i-1)&&(this.lead.row==t&&this.lead.column==i+1?i-=1:i+=1),this.lead.setPosition(t,i),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(t,i,n){var e=this.session.screenToDocumentPosition(t,i);this.moveCursorTo(e.row,e.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach()},this.fromOrientedRange=function(t){this.setSelectionRange(t,t.cursor==t.start),this.$desiredColumn=t.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(t){var i=this.getRange();return t?(t.start.column=i.start.column,t.start.row=i.start.row,t.end.column=i.end.column,t.end.row=i.end.row):t=i,t.cursor=this.isBackwards()?t.start:t.end,t.desiredColumn=this.$desiredColumn,t},this.getRangeOfMovements=function(t){var i=this.getCursor();try{t(this);var n=this.getCursor();return o.fromPoints(i,n)}catch(t){return o.fromPoints(i,i)}finally{this.moveCursorToPosition(i)}},this.toJSON=function(){if(this.rangeCount)var t=this.ranges.map((function(t){var i=t.clone();return i.isBackwards=t.cursor==t.start,i}));else(t=this.getRange()).isBackwards=this.isBackwards();return t},this.fromJSON=function(t){if(null==t.start){if(this.rangeList&&t.length>1){this.toSingleRange(t[0]);for(var i=t.length;i--;){var n=o.fromPoints(t[i].start,t[i].end);t[i].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}t=t[0]}this.rangeList&&this.toSingleRange(t),this.setSelectionRange(t,t.isBackwards)},this.isEqual=function(t){if((t.length||this.rangeCount)&&t.length!=this.rangeCount)return!1;if(!t.length||!this.ranges)return this.getRange().isEqual(t);for(var i=this.ranges.length;i--;)if(!this.ranges[i].isEqual(t[i]))return!1;return!0}}).call(s.prototype),i.Selection=s})),ace.define("ace/tokenizer",["require","exports","module","ace/config"],(function(t,i){var n=t("./config"),e=2e3,r=function(t){for(var i in this.states=t,this.regExps={},this.matchMappings={},this.states){for(var n=this.states[i],e=[],r=0,o=this.matchMappings[i]={defaultToken:"text"},s="g",a=[],u=0;u<n.length;u++){var c=n[u];if(c.defaultToken&&(o.defaultToken=c.defaultToken),c.caseInsensitive&&(s="gi"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var h=c.regex,f=new RegExp("(?:("+h+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==f?c.token=c.token[0]:f-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:f-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"!=typeof c.token||c.onMatch||(c.onMatch=f>1?this.$applyToken:c.token),f>1&&(/\\\d/.test(c.regex)?h=c.regex.replace(/\\([0-9]+)/g,(function(t,i){return"\\"+(parseInt(i,10)+r+1)})):(f=1,h=this.removeCapturingGroups(c.regex)),c.splitRegex||"string"==typeof c.token||a.push(c)),o[r]=u,r+=f,e.push(h),c.onMatch||(c.onMatch=null)}}e.length||(o[0]=0,e.push("$")),a.forEach((function(t){t.splitRegex=this.createSplitterRegexp(t.regex,s)}),this),this.regExps[i]=new RegExp("("+e.join(")|(")+")|($)",s)}};(function(){this.$setMaxTokenCount=function(t){e=0|t},this.$applyToken=function(t){var i=this.splitRegex.exec(t).slice(1),n=this.token.apply(this,i);if("string"==typeof n)return[{type:n,value:t}];for(var e=[],r=0,o=n.length;r<o;r++)i[r]&&(e[e.length]={type:n[r],value:i[r]});return e},this.$arrayTokens=function(t){if(!t)return[];var i=this.splitRegex.exec(t);if(!i)return"text";for(var n=[],e=this.tokenArray,r=0,o=e.length;r<o;r++)i[r+1]&&(n[n.length]={type:e[r],value:i[r+1]});return n},this.removeCapturingGroups=function(t){return t.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,(function(t,i){return i?"(?:":t}))},this.createSplitterRegexp=function(t,i){if(-1!=t.indexOf("(?=")){var n=0,e=!1,r={};t.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(t,i,o,s,a,u){return e?e="]"!=a:a?e=!0:s?(n==r.stack&&(r.end=u+1,r.stack=-1),n--):o&&(n++,1!=o.length&&(r.stack=n,r.start=u)),t})),null!=r.end&&/^\)*$/.test(t.substr(r.end))&&(t=t.substring(0,r.start)+t.substr(r.end))}return"^"!=t.charAt(0)&&(t="^"+t),"$"!=t.charAt(t.length-1)&&(t+="$"),new RegExp(t,(i||"").replace("g",""))},this.getLineTokens=function(t,i){if(i&&"string"!=typeof i){var n=i.slice(0);"#tmp"===(i=n[0])&&(n.shift(),i=n.shift())}else n=[];var r=i||"start",o=this.states[r];o||(o=this.states[r="start"]);var s=this.matchMappings[r],a=this.regExps[r];a.lastIndex=0;for(var u,c=[],h=0,f=0,l={type:null,value:""};u=a.exec(t);){var d=s.defaultToken,v=null,p=u[0],m=a.lastIndex;if(m-p.length>h){var b=t.substring(h,m-p.length);l.type==d?l.value+=b:(l.type&&c.push(l),l={type:d,value:b})}for(var g=0;g<u.length-2;g++)if(void 0!==u[g+1]){d=(v=o[s[g]]).onMatch?v.onMatch(p,r,n,t):v.token,v.next&&(r="string"==typeof v.next?v.next:v.next(r,n),(o=this.states[r])||(this.reportError("state doesn't exist",r),o=this.states[r="start"]),s=this.matchMappings[r],h=m,(a=this.regExps[r]).lastIndex=m),v.consumeLineEnd&&(h=m);break}if(p)if("string"==typeof d)v&&!1===v.merge||l.type!==d?(l.type&&c.push(l),l={type:d,value:p}):l.value+=p;else if(d)for(l.type&&c.push(l),l={type:null,value:""},g=0;g<d.length;g++)c.push(d[g]);if(h==t.length)break;if(h=m,f++>e){for(f>2*t.length&&this.reportError("infinite loop with in ace tokenizer",{startState:i,line:t});h<t.length;)l.type&&c.push(l),l={value:t.substring(h,h+=500),type:"overflow"};r="start",n=[];break}}return l.type&&c.push(l),n.length>1&&n[0]!==r&&n.unshift("#tmp",r),{tokens:c,state:n.length?n:r}},this.reportError=n.reportError}).call(r.prototype),i.Tokenizer=r})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],(function(t,i){var n=t("../lib/lang"),e=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(t,i){if(i)for(var n in t){for(var e=t[n],r=0;r<e.length;r++){var o=e[r];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(i)&&(o.next=i+o.next),o.nextState&&0!==o.nextState.indexOf(i)&&(o.nextState=i+o.nextState))}this.$rules[i+n]=e}else for(var n in t)this.$rules[n]=t[n]},this.getRules=function(){return this.$rules},this.embedRules=function(t,i,e,r,o){var s="function"==typeof t?(new t).getRules():t;if(r)for(var a=0;a<r.length;a++)r[a]=i+r[a];else for(var u in r=[],s)r.push(i+u);if(this.addRules(s,i),e){var c=Array.prototype[o?"push":"unshift"];for(a=0;a<r.length;a++)c.apply(this.$rules[r[a]],n.deepCopy(e))}this.$embeds||(this.$embeds=[]),this.$embeds.push(i)},this.getEmbeds=function(){return this.$embeds};var t=function(t,i){return("start"!=t||i.length)&&i.unshift(this.nextState,t),this.nextState},i=function(t,i){return i.shift(),i.shift()||"start"};this.normalizeRules=function(){var n=0,e=this.$rules;Object.keys(e).forEach((function r(o){var s=e[o];s.processed=!0;for(var a=0;a<s.length;a++){var u=s[a],c=null;Array.isArray(u)&&(c=u,u={}),!u.regex&&u.start&&(u.regex=u.start,u.next||(u.next=[]),u.next.push({defaultToken:u.token},{token:u.token+".end",regex:u.end||u.start,next:"pop"}),u.token=u.token+".start",u.push=!0);var h=u.next||u.push;if(h&&Array.isArray(h)){var f=u.stateName;f||("string"!=typeof(f=u.token)&&(f=f[0]||""),e[f]&&(f+=n++)),e[f]=h,u.next=f,r(f)}else"pop"==h&&(u.next=i);if(u.push&&(u.nextState=u.next||u.push,u.next=t,delete u.push),u.rules)for(var l in u.rules)e[l]?e[l].push&&e[l].push.apply(e[l],u.rules[l]):e[l]=u.rules[l];var d="string"==typeof u?u:u.include;if(d&&(c=Array.isArray(d)?d.map((function(t){return e[t]})):e[d]),c){var v=[a,1].concat(c);u.noEscape&&(v=v.filter((function(t){return!t.next}))),s.splice.apply(s,v),a--}u.keywordMap&&(u.token=this.createKeywordMapper(u.keywordMap,u.defaultToken||"text",u.caseInsensitive),delete u.defaultToken)}}),this)},this.createKeywordMapper=function(t,i,n,e){var r=Object.create(null);return this.$keywordList=[],Object.keys(t).forEach((function(i){for(var o=t[i].split(e||"|"),s=o.length;s--;){var a=o[s];this.$keywordList.push(a),n&&(a=a.toLowerCase()),r[a]=i}}),this),t=null,n?function(t){return r[t.toLowerCase()]||i}:function(t){return r[t]||i}},this.getKeywords=function(){return this.$keywords}}).call(e.prototype),i.TextHighlightRules=e})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(t,i){var n=function(){this.$behaviours={}};(function(){this.add=function(t,i,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[t]:this.$behaviours[t]={}}this.$behaviours[t][i]=n},this.addBehaviours=function(t){for(var i in t)for(var n in t[i])this.add(i,n,t[i][n])},this.remove=function(t){this.$behaviours&&this.$behaviours[t]&&delete this.$behaviours[t]},this.inherit=function(t,i){if("function"==typeof t)var n=(new t).getBehaviours(i);else n=t.getBehaviours(i);this.addBehaviours(n)},this.getBehaviours=function(t){if(t){for(var i={},n=0;n<t.length;n++)this.$behaviours[t[n]]&&(i[t[n]]=this.$behaviours[t[n]]);return i}return this.$behaviours}}).call(n.prototype),i.Behaviour=n})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(t,i){var n=t("./range").Range,e=function(t,i,n){this.$session=t,this.$row=i,this.$rowTokens=t.getTokens(i);var e=t.getTokenAt(i,n);this.$tokenIndex=e?e.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var t;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,t||(t=this.$session.getLength()),this.$row>=t)return this.$row=t-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var t=this.$rowTokens,i=this.$tokenIndex,n=t[i].start;if(void 0!==n)return n;for(n=0;i>0;)n+=t[i-=1].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var t=this.$rowTokens[this.$tokenIndex],i=this.getCurrentTokenColumn();return new n(this.$row,i,this.$row,i+t.value.length)}}).call(e.prototype),i.TokenIterator=e})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(t,i){var n,e=t("../../lib/oop"),r=t("../behaviour").Behaviour,o=t("../../token_iterator").TokenIterator,s=t("../../lib/lang"),a=["text","paren.rparen","rparen","paren","punctuation.operator"],u=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],c={},h={'"':'"',"'":"'"},f=function(t){var i=-1;if(t.multiSelect&&(i=t.selection.index,c.rangeCount!=t.multiSelect.rangeCount&&(c={rangeCount:t.multiSelect.rangeCount})),c[i])return n=c[i];n=c[i]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},l=function(t,i,n,e){var r=t.end.row-t.start.row;return{text:n+i+e,selection:[0,t.start.column+1,r,t.end.column+(r?0:1)]}},d=function(t){this.add("braces","insertion",(function(i,e,r,o,a){var u=r.getCursorPosition(),c=o.doc.getLine(u.row);if("{"==a){f(r);var h=r.getSelectionRange(),v=o.doc.getTextRange(h);if(""!==v&&"{"!==v&&r.getWrapBehavioursEnabled())return l(h,v,"{","}");if(d.isSaneInsertion(r,o))return/[\]\}\)]/.test(c[u.column])||r.inMultiSelectMode||t&&t.braces?(d.recordAutoInsert(r,o,"}"),{text:"{}",selection:[1,1]}):(d.recordMaybeInsert(r,o,"{"),{text:"{",selection:[1,1]})}else if("}"==a){if(f(r),"}"==c.substring(u.column,u.column+1)&&null!==o.$findOpeningBracket("}",{column:u.column+1,row:u.row})&&d.isAutoInsertedClosing(u,c,a))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==a||"\r\n"==a){f(r);var p="";if(d.isMaybeInsertedClosing(u,c)&&(p=s.stringRepeat("}",n.maybeInsertedBrackets),d.clearMaybeInsertedClosing()),"}"===c.substring(u.column,u.column+1)){var m=o.findMatchingBracket({row:u.row,column:u.column+1},"}");if(!m)return null;var b=this.$getIndent(o.getLine(m.row))}else{if(!p)return void d.clearMaybeInsertedClosing();b=this.$getIndent(c)}var g=b+o.getTabString();return{text:"\n"+g+"\n"+b+p,selection:[1,g.length,1,g.length]}}d.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(t,i,e,r,o){var s=r.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==s){if(f(e),"}"==r.doc.getLine(o.start.row).substring(o.end.column,o.end.column+1))return o.end.column++,o;n.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(t,i,n,e,r){if("("==r){f(n);var o=n.getSelectionRange(),s=e.doc.getTextRange(o);if(""!==s&&n.getWrapBehavioursEnabled())return l(o,s,"(",")");if(d.isSaneInsertion(n,e))return d.recordAutoInsert(n,e,")"),{text:"()",selection:[1,1]}}else if(")"==r){f(n);var a=n.getCursorPosition(),u=e.doc.getLine(a.row);if(")"==u.substring(a.column,a.column+1)&&null!==e.$findOpeningBracket(")",{column:a.column+1,row:a.row})&&d.isAutoInsertedClosing(a,u,r))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(t,i,n,e,r){var o=e.doc.getTextRange(r);if(!r.isMultiLine()&&"("==o&&(f(n),")"==e.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("brackets","insertion",(function(t,i,n,e,r){if("["==r){f(n);var o=n.getSelectionRange(),s=e.doc.getTextRange(o);if(""!==s&&n.getWrapBehavioursEnabled())return l(o,s,"[","]");if(d.isSaneInsertion(n,e))return d.recordAutoInsert(n,e,"]"),{text:"[]",selection:[1,1]}}else if("]"==r){f(n);var a=n.getCursorPosition(),u=e.doc.getLine(a.row);if("]"==u.substring(a.column,a.column+1)&&null!==e.$findOpeningBracket("]",{column:a.column+1,row:a.row})&&d.isAutoInsertedClosing(a,u,r))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(t,i,n,e,r){var o=e.doc.getTextRange(r);if(!r.isMultiLine()&&"["==o&&(f(n),"]"==e.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("string_dquotes","insertion",(function(t,i,n,e,r){var o=e.$mode.$quotes||h;if(1==r.length&&o[r]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(r))return;f(n);var s=r,a=n.getSelectionRange(),u=e.doc.getTextRange(a);if(!(""===u||1==u.length&&o[u])&&n.getWrapBehavioursEnabled())return l(a,u,s,s);if(!u){var c=n.getCursorPosition(),d=e.doc.getLine(c.row),v=d.substring(c.column-1,c.column),p=d.substring(c.column,c.column+1),m=e.getTokenAt(c.row,c.column),b=e.getTokenAt(c.row,c.column+1);if("\\"==v&&m&&/escape/.test(m.type))return null;var g,y=m&&/string|escape/.test(m.type),w=!b||/string|escape/.test(b.type);if(p==s)(g=y!==w)&&/string\.end/.test(b.type)&&(g=!1);else{if(y&&!w)return null;if(y&&w)return null;var x=e.$mode.tokenRe;x.lastIndex=0;var k=x.test(v);x.lastIndex=0;var _=x.test(v);if(k||_)return null;if(p&&!/[\s;,.})\]\\]/.test(p))return null;var A=d[c.column-2];if(v==s&&(A==s||x.test(A)))return null;g=!0}return{text:g?s+s:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(t,i,n,e,r){var o=e.$mode.$quotes||h,s=e.doc.getTextRange(r);if(!r.isMultiLine()&&o.hasOwnProperty(s)&&(f(n),e.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==s))return r.end.column++,r}))};d.isSaneInsertion=function(t,i){var n=t.getCursorPosition(),e=new o(i,n.row,n.column);if(!this.$matchTokenType(e.getCurrentToken()||"text",a)){if(/[)}\]]/.test(t.session.getLine(n.row)[n.column]))return!0;var r=new o(i,n.row,n.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",a))return!1}return e.stepForward(),e.getCurrentTokenRow()!==n.row||this.$matchTokenType(e.getCurrentToken()||"text",u)},d.$matchTokenType=function(t,i){return i.indexOf(t.type||t)>-1},d.recordAutoInsert=function(t,i,e){var r=t.getCursorPosition(),o=i.doc.getLine(r.row);this.isAutoInsertedClosing(r,o,n.autoInsertedLineEnd[0])||(n.autoInsertedBrackets=0),n.autoInsertedRow=r.row,n.autoInsertedLineEnd=e+o.substr(r.column),n.autoInsertedBrackets++},d.recordMaybeInsert=function(t,i,e){var r=t.getCursorPosition(),o=i.doc.getLine(r.row);this.isMaybeInsertedClosing(r,o)||(n.maybeInsertedBrackets=0),n.maybeInsertedRow=r.row,n.maybeInsertedLineStart=o.substr(0,r.column)+e,n.maybeInsertedLineEnd=o.substr(r.column),n.maybeInsertedBrackets++},d.isAutoInsertedClosing=function(t,i,e){return n.autoInsertedBrackets>0&&t.row===n.autoInsertedRow&&e===n.autoInsertedLineEnd[0]&&i.substr(t.column)===n.autoInsertedLineEnd},d.isMaybeInsertedClosing=function(t,i){return n.maybeInsertedBrackets>0&&t.row===n.maybeInsertedRow&&i.substr(t.column)===n.maybeInsertedLineEnd&&i.substr(0,t.column)==n.maybeInsertedLineStart},d.popAutoInsertedClosing=function(){n.autoInsertedLineEnd=n.autoInsertedLineEnd.substr(1),n.autoInsertedBrackets--},d.clearMaybeInsertedClosing=function(){n&&(n.maybeInsertedBrackets=0,n.maybeInsertedRow=-1)},e.inherits(d,r),i.CstyleBehaviour=d})),ace.define("ace/unicode",["require","exports","module"],(function(t,i){for(var n=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],e=0,r=[],o=0;o<n.length;o+=2)r.push(e+=n[o]),n[o+1]&&r.push(45,e+=n[o+1]);i.wordChars=String.fromCharCode.apply(null,r)})),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(t,i){var n=t("../config"),e=t("../tokenizer").Tokenizer,r=t("./text_highlight_rules").TextHighlightRules,o=t("./behaviour/cstyle").CstyleBehaviour,s=t("../unicode"),a=t("../lib/lang"),u=t("../token_iterator").TokenIterator,c=t("../range").Range,h=function(){this.HighlightRules=r};(function(){this.$defaultBehaviour=new o,this.tokenRe=new RegExp("^["+s.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+s.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new e(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(t,i,n,e){var r=i.doc,o=!0,s=!0,u=1/0,c=i.getTabSize(),h=!1;if(this.lineCommentStart){Array.isArray(this.lineCommentStart)?(p=this.lineCommentStart.map(a.escapeRegExp).join("|"),d=this.lineCommentStart[0]):(p=a.escapeRegExp(this.lineCommentStart),d=this.lineCommentStart),p=new RegExp("^(\\s*)(?:"+p+") ?"),h=i.getUseSoftTabs(),g=function(t,i){var n=t.match(p);if(n){var e=n[1].length,o=n[0].length;l(t,e,o)||" "!=n[0][o-1]||o--,r.removeInLine(i,e,o)}};var f=d+" ",l=(b=function(t,i){o&&!/\S/.test(t)||(l(t,u,u)?r.insertInLine({row:i,column:u},f):r.insertInLine({row:i,column:u},d))},y=function(t){return p.test(t)},function(t,i,n){for(var e=0;i--&&" "==t.charAt(i);)e++;if(e%c!=0)return!1;for(e=0;" "==t.charAt(n++);)e++;return c>2?e%c!=c-1:e%c==0})}else{if(!this.blockComment)return!1;var d=this.blockComment.start,v=this.blockComment.end,p=new RegExp("^(\\s*)(?:"+a.escapeRegExp(d)+")"),m=new RegExp("(?:"+a.escapeRegExp(v)+")\\s*$"),b=function(t,i){y(t,i)||o&&!/\S/.test(t)||(r.insertInLine({row:i,column:t.length},v),r.insertInLine({row:i,column:u},d))},g=function(t,i){var n;(n=t.match(m))&&r.removeInLine(i,t.length-n[0].length,t.length),(n=t.match(p))&&r.removeInLine(i,n[1].length,n[0].length)},y=function(t,n){if(p.test(t))return!0;for(var e=i.getTokens(n),r=0;r<e.length;r++)if("comment"===e[r].type)return!0}}function w(t){for(var i=n;i<=e;i++)t(r.getLine(i),i)}var x=1/0;w((function(t,i){var n=t.search(/\S/);-1!==n?(n<u&&(u=n),s&&!y(t,i)&&(s=!1)):x>t.length&&(x=t.length)})),u==1/0&&(u=x,o=!1,s=!1),h&&u%c!=0&&(u=Math.floor(u/c)*c),w(s?g:b)},this.toggleBlockComment=function(t,i,n,e){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var o,s,a=(p=new u(i,e.row,e.column)).getCurrentToken(),h=i.selection.toOrientedRange();if(a&&/comment/.test(a.type)){for(var f,l;a&&/comment/.test(a.type);){if(-1!=(m=a.value.indexOf(r.start))){var d=p.getCurrentTokenRow(),v=p.getCurrentTokenColumn()+m;f=new c(d,v,d,v+r.start.length);break}a=p.stepBackward()}var p;for(a=(p=new u(i,e.row,e.column)).getCurrentToken();a&&/comment/.test(a.type);){var m;if(-1!=(m=a.value.indexOf(r.end))){d=p.getCurrentTokenRow(),v=p.getCurrentTokenColumn()+m,l=new c(d,v,d,v+r.end.length);break}a=p.stepForward()}l&&i.remove(l),f&&(i.remove(f),o=f.start.row,s=-r.start.length)}else s=r.start.length,o=n.start.row,i.insert(n.end,r.end),i.insert(n.start,r.start);h.start.row==o&&(h.start.column+=s),h.end.row==o&&(h.end.column+=s),i.selection.fromOrientedRange(h)}},this.getNextLineIndent=function(t,i){return this.$getIndent(i)},this.checkOutdent=function(){return!1},this.autoOutdent=function(){},this.$getIndent=function(t){return t.match(/^\s*/)[0]},this.createWorker=function(){return null},this.createModeDelegates=function(t){for(var i in this.$embeds=[],this.$modes={},t)if(t[i]){var e=t[i],r=e.prototype.$id,o=n.$modes[r];o||(n.$modes[r]=o=new e),n.$modes[i]||(n.$modes[i]=o),this.$embeds.push(i),this.$modes[i]=o}var s=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(i=0;i<s.length;i++)!function(t){var n=s[i],e=t[n];t[s[i]]=function(){return this.$delegator(n,arguments,e)}}(this)},this.$delegator=function(t,i,n){var e=i[0]||"start";if("string"!=typeof e){if(Array.isArray(e[2])&&(o=this.$modes[e[2][e[2].length-1]]))return o[t].apply(o,[e[1]].concat([].slice.call(i,1)));e=e[0]||"start"}for(var r=0;r<this.$embeds.length;r++)if(this.$modes[this.$embeds[r]]){var o,s=e.split(this.$embeds[r]);if(!s[0]&&s[1])return i[0]=s[1],(o=this.$modes[this.$embeds[r]])[t].apply(o,i)}var a=n.apply(this,i);return n?a:void 0},this.transformAction=function(t,i,n,e,r){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var s in o)if(o[s][i]){var a=o[s][i].apply(this,arguments);if(a)return a}}},this.getKeywords=function(t){if(!this.completionKeywords){var i=this.$tokenizer.rules,n=[];for(var e in i)for(var r=i[e],o=0,s=r.length;o<s;o++)if("string"==typeof r[o].token)/keyword|support|storage/.test(r[o].token)&&n.push(r[o].regex);else if("object"==typeof r[o].token)for(var a=0,u=r[o].token.length;a<u;a++)/keyword|support|storage/.test(r[o].token[a])&&(e=r[o].regex.match(/\(.+?\)/g)[a],n.push(e.substr(1,e.length-2)));this.completionKeywords=n}return t?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(){return(this.$keywordList||this.$createKeywordList()).map((function(t){return{name:t,value:t,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call(h.prototype),i.Mode=h})),ace.define("ace/apply_delta",["require","exports","module"],(function(t,i){i.applyDelta=function(t,i){var n=i.start.row,e=i.start.column,r=t[n]||"";switch(i.action){case"insert":if(1===i.lines.length)t[n]=r.substring(0,e)+i.lines[0]+r.substring(e);else{var o=[n,1].concat(i.lines);t.splice.apply(t,o),t[n]=r.substring(0,e)+t[n],t[n+i.lines.length-1]+=r.substring(e)}break;case"remove":var s=i.end.column,a=i.end.row;n===a?t[n]=r.substring(0,e)+r.substring(s):t.splice(n,a-n+1,r.substring(0,e)+t[a].substring(s))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(t,i){var n=t("./lib/oop"),e=t("./lib/event_emitter").EventEmitter,r=i.Anchor=function(t,i,n){this.$onChange=this.onChange.bind(this),this.attach(t),void 0===n?this.setPosition(i.row,i.column):this.setPosition(i,n)};(function(){function t(t,i,n){return t.row<i.row||t.row==i.row&&(n?t.column<=i.column:t.column<i.column)}n.implement(this,e),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(i){if(!(i.start.row==i.end.row&&i.start.row!=this.row||i.start.row>this.row)){var n=function(i,n,e){var r="insert"==i.action,o=(r?1:-1)*(i.end.row-i.start.row),s=(r?1:-1)*(i.end.column-i.start.column),a=i.start,u=r?a:i.end;return t(n,a,e)?{row:n.row,column:n.column}:t(u,n,!e)?{row:n.row+o,column:n.column+(n.row==u.row?s:0)}:{row:a.row,column:a.column}}(i,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},this.setPosition=function(t,i,n){var e;if(e=n?{row:t,column:i}:this.$clipPositionToDocument(t,i),this.row!=e.row||this.column!=e.column){var r={row:this.row,column:this.column};this.row=e.row,this.column=e.column,this._signal("change",{old:r,value:e})}},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(t){this.document=t||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(t,i){var n={};return t>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):t<0?(n.row=0,n.column=0):(n.row=t,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,i))),i<0&&(n.column=0),n}}).call(r.prototype)})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(t,i){var n=t("./lib/oop"),e=t("./apply_delta").applyDelta,r=t("./lib/event_emitter").EventEmitter,o=t("./range").Range,s=t("./anchor").Anchor,a=function(t){this.$lines=[""],0===t.length?this.$lines=[""]:Array.isArray(t)?this.insertMergedLines({row:0,column:0},t):this.insert({row:0,column:0},t)};(function(){n.implement(this,r),this.setValue=function(t){var i=this.getLength()-1;this.remove(new o(0,0,i,this.getLine(i).length)),this.insert({row:0,column:0},t)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(t,i){return new s(this,t,i)},this.$split=0==="aaa".split(/a/).length?function(t){return t.replace(/\r\n|\r/g,"\n").split("\n")}:function(t){return t.split(/\r\n|\r|\n/)},this.$detectNewLine=function(t){var i=t.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=i?i[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(t){this.$newLineMode!==t&&(this.$newLineMode=t,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(t){return"\r\n"==t||"\r"==t||"\n"==t},this.getLine=function(t){return this.$lines[t]||""},this.getLines=function(t,i){return this.$lines.slice(t,i+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(t){return this.getLinesForRange(t).join(this.getNewLineCharacter())},this.getLinesForRange=function(t){var i;if(t.start.row===t.end.row)i=[this.getLine(t.start.row).substring(t.start.column,t.end.column)];else{(i=this.getLines(t.start.row,t.end.row))[0]=(i[0]||"").substring(t.start.column);var n=i.length-1;t.end.row-t.start.row==n&&(i[n]=i[n].substring(0,t.end.column))}return i},this.insertLines=function(t,i){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(t,i)},this.removeLines=function(t,i){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(t,i)},this.insertNewLine=function(t){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(t,["",""])},this.insert=function(t,i){return this.getLength()<=1&&this.$detectNewLine(i),this.insertMergedLines(t,this.$split(i))},this.insertInLine=function(t,i){var n=this.clippedPos(t.row,t.column),e=this.pos(t.row,t.column+i.length);return this.applyDelta({start:n,end:e,action:"insert",lines:[i]},!0),this.clonePos(e)},this.clippedPos=function(t,i){var n=this.getLength();void 0===t?t=n:t<0?t=0:t>=n&&(t=n-1,i=void 0);var e=this.getLine(t);return null==i&&(i=e.length),{row:t,column:i=Math.min(Math.max(i,0),e.length)}},this.clonePos=function(t){return{row:t.row,column:t.column}},this.pos=function(t,i){return{row:t,column:i}},this.$clipPosition=function(t){var i=this.getLength();return t.row>=i?(t.row=Math.max(0,i-1),t.column=this.getLine(i-1).length):(t.row=Math.max(0,t.row),t.column=Math.min(Math.max(t.column,0),this.getLine(t.row).length)),t},this.insertFullLines=function(t,i){var n=0;(t=Math.min(Math.max(t,0),this.getLength()))<this.getLength()?(i=i.concat([""]),n=0):(i=[""].concat(i),t--,n=this.$lines[t].length),this.insertMergedLines({row:t,column:n},i)},this.insertMergedLines=function(t,i){var n=this.clippedPos(t.row,t.column),e={row:n.row+i.length-1,column:(1==i.length?n.column:0)+i[i.length-1].length};return this.applyDelta({start:n,end:e,action:"insert",lines:i}),this.clonePos(e)},this.remove=function(t){var i=this.clippedPos(t.start.row,t.start.column),n=this.clippedPos(t.end.row,t.end.column);return this.applyDelta({start:i,end:n,action:"remove",lines:this.getLinesForRange({start:i,end:n})}),this.clonePos(i)},this.removeInLine=function(t,i,n){var e=this.clippedPos(t,i),r=this.clippedPos(t,n);return this.applyDelta({start:e,end:r,action:"remove",lines:this.getLinesForRange({start:e,end:r})},!0),this.clonePos(e)},this.removeFullLines=function(t,i){t=Math.min(Math.max(0,t),this.getLength()-1);var n=(i=Math.min(Math.max(0,i),this.getLength()-1))==this.getLength()-1&&t>0,e=i<this.getLength()-1,r=n?t-1:t,s=n?this.getLine(r).length:0,a=e?i+1:i,u=e?0:this.getLine(a).length,c=new o(r,s,a,u),h=this.$lines.slice(t,i+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),h},this.removeNewLine=function(t){t<this.getLength()-1&&t>=0&&this.applyDelta({start:this.pos(t,this.getLine(t).length),end:this.pos(t+1,0),action:"remove",lines:["",""]})},this.replace=function(t,i){return t instanceof o||(t=o.fromPoints(t.start,t.end)),0===i.length&&t.isEmpty()?t.start:i==this.getTextRange(t)?t.end:(this.remove(t),i?this.insert(t.start,i):t.start)},this.applyDeltas=function(t){for(var i=0;i<t.length;i++)this.applyDelta(t[i])},this.revertDeltas=function(t){for(var i=t.length-1;i>=0;i--)this.revertDelta(t[i])},this.applyDelta=function(t,i){var n="insert"==t.action;(n?t.lines.length<=1&&!t.lines[0]:!o.comparePoints(t.start,t.end))||(n&&t.lines.length>2e4?this.$splitAndapplyLargeDelta(t,2e4):(e(this.$lines,t,i),this._signal("change",t)))},this.$safeApplyDelta=function(t){var i=this.$lines.length;("remove"==t.action&&t.start.row<i&&t.end.row<i||"insert"==t.action&&t.start.row<=i)&&this.applyDelta(t)},this.$splitAndapplyLargeDelta=function(t,i){for(var n=t.lines,e=n.length-i+1,r=t.start.row,o=t.start.column,s=0,a=0;s<e;s=a){var u=n.slice(s,a+=i-1);u.push(""),this.applyDelta({start:this.pos(r+s,o),end:this.pos(r+a,o=0),action:t.action,lines:u},!0)}t.lines=n.slice(s),t.start.row=r+s,t.start.column=o,this.applyDelta(t,!0)},this.revertDelta=function(t){this.$safeApplyDelta({start:this.clonePos(t.start),end:this.clonePos(t.end),action:"insert"==t.action?"remove":"insert",lines:t.lines.slice()})},this.indexToPosition=function(t,i){for(var n=this.$lines||this.getAllLines(),e=this.getNewLineCharacter().length,r=i||0,o=n.length;r<o;r++)if((t-=n[r].length+e)<0)return{row:r,column:t+n[r].length+e};return{row:o-1,column:t+n[o-1].length+e}},this.positionToIndex=function(t,i){for(var n=this.$lines||this.getAllLines(),e=this.getNewLineCharacter().length,r=0,o=Math.min(t.row,n.length),s=i||0;s<o;++s)r+=n[s].length+e;return r+t.column}}).call(a.prototype),i.Document=a})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(t,i){var n=t("./lib/oop"),e=t("./lib/event_emitter").EventEmitter,r=function(t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=t;var i=this;this.$worker=function(){if(i.running){for(var t=new Date,n=i.currentLine,e=-1,r=i.doc,o=n;i.lines[n];)n++;var s=r.getLength(),a=0;for(i.running=!1;n<s;){i.$tokenizeRow(n),e=n;do{n++}while(i.lines[n]);if(++a%5==0&&new Date-t>20){i.running=setTimeout(i.$worker,20);break}}i.currentLine=n,-1==e&&(e=n),o<=e&&i.fireUpdateEvent(o,e)}}};(function(){n.implement(this,e),this.setTokenizer=function(t){this.tokenizer=t,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(t){this.doc=t,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(t,i){this._signal("update",{data:{first:t,last:i}})},this.start=function(t){this.currentLine=Math.min(t||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(t){var i=t.start.row,n=t.end.row-i;if(0===n)this.lines[i]=null;else if("remove"==t.action)this.lines.splice(i,n+1,null),this.states.splice(i,n+1,null);else{var e=Array(n+1);e.unshift(i,1),this.lines.splice.apply(this.lines,e),this.states.splice.apply(this.states,e)}this.currentLine=Math.min(i,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(t){return this.lines[t]||this.$tokenizeRow(t)},this.getState=function(t){return this.currentLine==t&&this.$tokenizeRow(t),this.states[t]||"start"},this.$tokenizeRow=function(t){var i=this.doc.getLine(t),n=this.tokenizer.getLineTokens(i,this.states[t-1],t);return this.states[t]+""!=n.state+""?(this.states[t]=n.state,this.lines[t+1]=null,this.currentLine>t+1&&(this.currentLine=t+1)):this.currentLine==t&&(this.currentLine=t+1),this.lines[t]=n.tokens}}).call(r.prototype),i.BackgroundTokenizer=r})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(t,i){var n=t("./lib/lang");t("./lib/oop");var e=t("./range").Range,r=function(t,i,n){this.setRegexp(t),this.clazz=i,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(t){this.regExp+""!=t+""&&(this.regExp=t,this.cache=[])},this.update=function(t,i,r,o){if(this.regExp)for(var s=o.lastRow,a=o.firstRow;a<=s;a++){var u=this.cache[a];null==u&&((u=n.getMatchOffsets(r.getLine(a),this.regExp)).length>this.MAX_RANGES&&(u=u.slice(0,this.MAX_RANGES)),u=u.map((function(t){return new e(a,t.offset,a,t.offset+t.length)})),this.cache[a]=u.length?u:"");for(var c=u.length;c--;)i.drawSingleLineMarker(t,u[c].toScreenRange(r),this.clazz,o)}}}).call(r.prototype),i.SearchHighlight=r})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(t,i){var n=t("../range").Range;function e(t,i){this.foldData=t,Array.isArray(i)?this.folds=i:i=this.folds=[i];var e=i[i.length-1];this.range=new n(i[0].start.row,i[0].start.column,e.end.row,e.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(t){t.setFoldLine(this)}),this)}(function(){this.shiftRow=function(t){this.start.row+=t,this.end.row+=t,this.folds.forEach((function(i){i.start.row+=t,i.end.row+=t}))},this.addFold=function(t){if(t.sameRow){if(t.start.row<this.startRow||t.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(t),this.folds.sort((function(t,i){return-t.range.compareEnd(i.start.row,i.start.column)})),this.range.compareEnd(t.start.row,t.start.column)>0?(this.end.row=t.end.row,this.end.column=t.end.column):this.range.compareStart(t.end.row,t.end.column)<0&&(this.start.row=t.start.row,this.start.column=t.start.column)}else if(t.start.row==this.end.row)this.folds.push(t),this.end.row=t.end.row,this.end.column=t.end.column;else{if(t.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(t),this.start.row=t.start.row,this.start.column=t.start.column}t.foldLine=this},this.containsRow=function(t){return t>=this.start.row&&t<=this.end.row},this.walk=function(t,i,n){var e,r,o=0,s=this.folds,a=!0;null==i&&(i=this.end.row,n=this.end.column);for(var u=0;u<s.length;u++){if(-1==(r=(e=s[u]).range.compareStart(i,n)))return void t(null,i,n,o,a);if(!t(null,e.start.row,e.start.column,o,a)&&t(e.placeholder,e.start.row,e.start.column,o)||0===r)return;a=!e.sameRow,o=e.end.column}t(null,i,n,o,a)},this.getNextFoldTo=function(t,i){for(var n,e,r=0;r<this.folds.length;r++){if(-1==(e=(n=this.folds[r]).range.compareEnd(t,i)))return{fold:n,kind:"after"};if(0===e)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(t,i,n){var e,r,o=this.getNextFoldTo(t,i);if(o)if(e=o.fold,"inside"==o.kind&&e.start.column!=i&&e.start.row!=t)window.console&&window.console.log(t,i,e);else if(e.start.row==t){var s=(r=this.folds).indexOf(e);for(0===s&&(this.start.column+=n);s<r.length;s++){if((e=r[s]).start.column+=n,!e.sameRow)return;e.end.column+=n}this.end.column+=n}},this.split=function(t,i){var n=this.getNextFoldTo(t,i);if(!n||"inside"==n.kind)return null;var r=this.folds,o=this.foldData,s=r.indexOf(n.fold),a=r[s-1];this.end.row=a.end.row,this.end.column=a.end.column;var u=new e(o,r=r.splice(s,r.length-s));return o.splice(o.indexOf(this)+1,0,u),u},this.merge=function(t){for(var i=t.folds,n=0;n<i.length;n++)this.addFold(i[n]);var e=this.foldData;e.splice(e.indexOf(t),1)},this.toString=function(){var t=[this.range.toString()+": ["];return this.folds.forEach((function(i){t.push("  "+i.toString())})),t.push("]"),t.join("\n")},this.idxToPosition=function(t){for(var i=0,n=0;n<this.folds.length;n++){var e=this.folds[n];if((t-=e.start.column-i)<0)return{row:e.start.row,column:e.start.column+t};if((t-=e.placeholder.length)<0)return e.start;i=e.end.column}return{row:this.end.row,column:this.end.column+t}}}).call(e.prototype),i.FoldLine=e})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(t,i){var n=t("./range").Range.comparePoints,e=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=n,this.pointIndex=function(t,i,e){for(var r=this.ranges,o=e||0;o<r.length;o++){var s=r[o],a=n(t,s.end);if(!(a>0)){var u=n(t,s.start);return 0===a?i&&0!==u?-o-2:o:u>0||0===u&&!i?o:-o-1}}return-o-1},this.add=function(t){var i=!t.isEmpty(),n=this.pointIndex(t.start,i);n<0&&(n=-n-1);var e=this.pointIndex(t.end,i,n);return e<0?e=-e-1:e++,this.ranges.splice(n,e-n,t)},this.addList=function(t){for(var i=[],n=t.length;n--;)i.push.apply(i,this.add(t[n]));return i},this.substractPoint=function(t){var i=this.pointIndex(t);if(i>=0)return this.ranges.splice(i,1)},this.merge=function(){for(var t,i=[],e=this.ranges,r=(e=e.sort((function(t,i){return n(t.start,i.start)})))[0],o=1;o<e.length;o++){var s=n((t=r).end,(r=e[o]).start);s<0||(0!=s||t.isEmpty()||r.isEmpty())&&(n(t.end,r.end)<0&&(t.end.row=r.end.row,t.end.column=r.end.column),e.splice(o,1),i.push(r),r=t,o--)}return this.ranges=e,i},this.contains=function(t,i){return this.pointIndex({row:t,column:i})>=0},this.containsPoint=function(t){return this.pointIndex(t)>=0},this.rangeAtPoint=function(t){var i=this.pointIndex(t);if(i>=0)return this.ranges[i]},this.clipRows=function(t,i){var n=this.ranges;if(n[0].start.row>i||n[n.length-1].start.row<t)return[];var e=this.pointIndex({row:t,column:0});e<0&&(e=-e-1);var r=this.pointIndex({row:i,column:0},e);r<0&&(r=-r-1);for(var o=[],s=e;s<r;s++)o.push(n[s]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(t){this.session&&this.detach(),this.session=t,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(t){for(var i=t.start,n=t.end,e=i.row,r=n.row,o=this.ranges,s=0,a=o.length;s<a&&!((h=o[s]).end.row>=e);s++);if("insert"==t.action){for(var u=r-e,c=-i.column+n.column;s<a&&!((h=o[s]).start.row>e);s++)if(h.start.row==e&&h.start.column>=i.column&&(h.start.column==i.column&&this.$bias<=0||(h.start.column+=c,h.start.row+=u)),h.end.row==e&&h.end.column>=i.column){if(h.end.column==i.column&&this.$bias<0)continue;h.end.column==i.column&&c>0&&s<a-1&&h.end.column>h.start.column&&h.end.column==o[s+1].start.column&&(h.end.column-=c),h.end.column+=c,h.end.row+=u}}else for(u=e-r,c=i.column-n.column;s<a&&!((h=o[s]).start.row>r);s++)h.end.row<r&&(e<h.end.row||e==h.end.row&&i.column<h.end.column)?(h.end.row=e,h.end.column=i.column):h.end.row==r?h.end.column<=n.column?(u||h.end.column>i.column)&&(h.end.column=i.column,h.end.row=i.row):(h.end.column+=c,h.end.row+=u):h.end.row>r&&(h.end.row+=u),h.start.row<r&&(e<h.start.row||e==h.start.row&&i.column<h.start.column)?(h.start.row=e,h.start.column=i.column):h.start.row==r?h.start.column<=n.column?(u||h.start.column>i.column)&&(h.start.column=i.column,h.start.row=i.row):(h.start.column+=c,h.start.row+=u):h.start.row>r&&(h.start.row+=u);if(0!=u&&s<a)for(;s<a;s++){var h;(h=o[s]).start.row+=u,h.end.row+=u}}}).call(e.prototype),i.RangeList=e})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],(function(t,i){var n=t("../range_list").RangeList,e=t("../lib/oop"),r=i.Fold=function(t,i){this.foldLine=null,this.placeholder=i,this.range=t,this.start=t.start,this.end=t.end,this.sameRow=t.start.row==t.end.row,this.subFolds=this.ranges=[]};function o(t,i){t.row-=i.row,0==t.row&&(t.column-=i.column)}function s(t,i){0==t.row&&(t.column+=i.column),t.row+=i.row}e.inherits(r,n),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(t){this.foldLine=t,this.subFolds.forEach((function(i){i.setFoldLine(t)}))},this.clone=function(){var t=this.range.clone(),i=new r(t,this.placeholder);return this.subFolds.forEach((function(t){i.subFolds.push(t.clone())})),i.collapseChildren=this.collapseChildren,i},this.addSubFold=function(t){if(!this.range.isEqual(t)){var i,n;o((i=t).start,n=this.start),o(i.end,n);for(var e=t.start.row,r=t.start.column,s=0,a=-1;s<this.subFolds.length&&1==(a=this.subFolds[s].range.compare(e,r));s++);var u=this.subFolds[s],c=0;if(0==a){if(u.range.containsRange(t))return u.addSubFold(t);c=1}e=t.range.end.row,r=t.range.end.column;var h=s;for(a=-1;h<this.subFolds.length&&1==(a=this.subFolds[h].range.compare(e,r));h++);0==a&&h++;for(var f=this.subFolds.splice(s,h-s,t),l=0==a?f.length-1:f.length,d=c;d<l;d++)t.addSubFold(f[d]);return t.setFoldLine(this.foldLine),t}},this.restoreRange=function(t){return function(t,i){s(t.start,i),s(t.end,i)}(t,this.start)}}.call(r.prototype)})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],(function(t,i){var n=t("../range").Range,e=t("./fold_line").FoldLine,r=t("./fold").Fold,o=t("../token_iterator").TokenIterator;i.Folding=function(){this.getFoldAt=function(t,i,n){var e=this.getFoldLine(t);if(!e)return null;for(var r=e.folds,o=0;o<r.length;o++){var s=r[o].range;if(s.contains(t,i)){if(1==n&&s.isEnd(t,i)&&!s.isEmpty())continue;if(-1==n&&s.isStart(t,i)&&!s.isEmpty())continue;return r[o]}}},this.getFoldsInRange=function(t){var i=t.start,n=t.end,e=this.$foldData,r=[];i.column+=1,n.column-=1;for(var o=0;o<e.length;o++){var s=e[o].range.compareRange(t);if(2!=s){if(-2==s)break;for(var a=e[o].folds,u=0;u<a.length;u++){var c=a[u];if(-2==(s=c.range.compareRange(t)))break;if(2!=s){if(42==s)break;r.push(c)}}}}return i.column-=1,n.column+=1,r},this.getFoldsInRangeList=function(t){if(Array.isArray(t)){var i=[];t.forEach((function(t){i=i.concat(this.getFoldsInRange(t))}),this)}else i=this.getFoldsInRange(t);return i},this.getAllFolds=function(){for(var t=[],i=this.$foldData,n=0;n<i.length;n++)for(var e=0;e<i[n].folds.length;e++)t.push(i[n].folds[e]);return t},this.getFoldStringAt=function(t,i,n,e){if(!(e=e||this.getFoldLine(t)))return null;for(var r,o,s={end:{column:0}},a=0;a<e.folds.length;a++){var u=(o=e.folds[a]).range.compareEnd(t,i);if(-1==u){r=this.getLine(o.start.row).substring(s.end.column,o.start.column);break}if(0===u)return null;s=o}return r||(r=this.getLine(o.start.row).substring(s.end.column)),-1==n?r.substring(0,i-s.end.column):1==n?r.substring(i-s.end.column):r},this.getFoldLine=function(t,i){var n=this.$foldData,e=0;for(i&&(e=n.indexOf(i)),-1==e&&(e=0);e<n.length;e++){var r=n[e];if(r.start.row<=t&&r.end.row>=t)return r;if(r.end.row>t)return null}return null},this.getNextFoldLine=function(t,i){var n=this.$foldData,e=0;for(i&&(e=n.indexOf(i)),-1==e&&(e=0);e<n.length;e++){var r=n[e];if(r.end.row>=t)return r}return null},this.getFoldedRowCount=function(t,i){for(var n=this.$foldData,e=i-t+1,r=0;r<n.length;r++){var o=n[r],s=o.end.row,a=o.start.row;if(s>=i){a<i&&(a>=t?e-=i-a:e=0);break}s>=t&&(e-=a>=t?s-a:s-t+1)}return e},this.$addFoldLine=function(t){return this.$foldData.push(t),this.$foldData.sort((function(t,i){return t.start.row-i.start.row})),t},this.addFold=function(t,i){var n,o=this.$foldData,s=!1;t instanceof r?n=t:(n=new r(i,t)).collapseChildren=i.collapseChildren,this.$clipRangeToDocument(n.range);var a=n.start.row,u=n.start.column,c=n.end.row,h=n.end.column,f=this.getFoldAt(a,u,1),l=this.getFoldAt(c,h,-1);if(f&&l==f)return f.addSubFold(n);f&&!f.range.isStart(a,u)&&this.removeFold(f),l&&!l.range.isEnd(c,h)&&this.removeFold(l);var d=this.getFoldsInRange(n.range);d.length>0&&(this.removeFolds(d),n.collapseChildren||d.forEach((function(t){n.addSubFold(t)})));for(var v=0;v<o.length;v++){var p=o[v];if(c==p.start.row){p.addFold(n),s=!0;break}if(a==p.end.row){if(p.addFold(n),s=!0,!n.sameRow){var m=o[v+1];if(m&&m.start.row==c){p.merge(m);break}}break}if(c<=p.start.row)break}return s||(p=this.$addFoldLine(new e(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(p.start.row,p.start.row):this.$updateRowLengthCache(p.start.row,p.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(t){t.forEach((function(t){this.addFold(t)}),this)},this.removeFold=function(t){var i=t.foldLine,n=i.start.row,e=i.end.row,r=this.$foldData,o=i.folds;if(1==o.length)r.splice(r.indexOf(i),1);else if(i.range.isEnd(t.end.row,t.end.column))o.pop(),i.end.row=o[o.length-1].end.row,i.end.column=o[o.length-1].end.column;else if(i.range.isStart(t.start.row,t.start.column))o.shift(),i.start.row=o[0].start.row,i.start.column=o[0].start.column;else if(t.sameRow)o.splice(o.indexOf(t),1);else{var s=i.split(t.start.row,t.start.column);(o=s.folds).shift(),s.start.row=o[0].start.row,s.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,e):this.$updateRowLengthCache(n,e)),this.$modified=!0,this._signal("changeFold",{data:t,action:"remove"})},this.removeFolds=function(t){for(var i=[],n=0;n<t.length;n++)i.push(t[n]);i.forEach((function(t){this.removeFold(t)}),this),this.$modified=!0},this.expandFold=function(t){this.removeFold(t),t.subFolds.forEach((function(i){t.restoreRange(i),this.addFold(i)}),this),t.collapseChildren>0&&this.foldAll(t.start.row+1,t.end.row,t.collapseChildren-1),t.subFolds=[]},this.expandFolds=function(t){t.forEach((function(t){this.expandFold(t)}),this)},this.unfold=function(t,i){var e,r;if(null==t)e=new n(0,0,this.getLength(),0),null==i&&(i=!0);else if("number"==typeof t)e=new n(t,0,t,this.getLine(t).length);else if("row"in t)e=n.fromPoints(t,t);else{if(Array.isArray(t))return r=[],t.forEach((function(t){r=r.concat(this.unfold(t))}),this),r;e=t}for(var o=r=this.getFoldsInRangeList(e);1==r.length&&n.comparePoints(r[0].start,e.start)<0&&n.comparePoints(r[0].end,e.end)>0;)this.expandFolds(r),r=this.getFoldsInRangeList(e);if(0!=i?this.removeFolds(r):this.expandFolds(r),o.length)return o},this.isRowFolded=function(t,i){return!!this.getFoldLine(t,i)},this.getRowFoldEnd=function(t,i){var n=this.getFoldLine(t,i);return n?n.end.row:t},this.getRowFoldStart=function(t,i){var n=this.getFoldLine(t,i);return n?n.start.row:t},this.getFoldDisplayLine=function(t,i,n,e,r){null==e&&(e=t.start.row),null==r&&(r=0),null==i&&(i=t.end.row),null==n&&(n=this.getLine(i).length);var o=this.doc,s="";return t.walk((function(t,i,n,a){if(!(i<e)){if(i==e){if(n<r)return;a=Math.max(r,a)}s+=null!=t?t:o.getLine(i).substring(a,n)}}),i,n),s},this.getDisplayLine=function(t,i,n,e){var r,o=this.getFoldLine(t);return o?this.getFoldDisplayLine(o,t,i,n,e):(r=this.doc.getLine(t)).substring(e||0,i||r.length)},this.$cloneFoldData=function(){var t=[];return t=this.$foldData.map((function(i){var n=i.folds.map((function(t){return t.clone()}));return new e(t,n)}))},this.toggleFold=function(t){var i,n,e=this.selection.getRange();if(e.isEmpty()){var r=e.start;if(i=this.getFoldAt(r.row,r.column))return void this.expandFold(i);(n=this.findMatchingBracket(r))?1==e.comparePoint(n)?e.end=n:(e.start=n,e.start.column++,e.end.column--):(n=this.findMatchingBracket({row:r.row,column:r.column+1}))?(1==e.comparePoint(n)?e.end=n:e.start=n,e.start.column++):e=this.getCommentFoldRange(r.row,r.column)||e}else{var o=this.getFoldsInRange(e);if(t&&o.length)return void this.expandFolds(o);1==o.length&&(i=o[0])}if(i||(i=this.getFoldAt(e.start.row,e.start.column)),i&&i.range.toString()==e.toString())this.expandFold(i);else{var s="...";if(!e.isMultiLine()){if((s=this.getTextRange(e)).length<4)return;s=s.trim().substring(0,2)+".."}this.addFold(s,e)}},this.getCommentFoldRange=function(t,i,e){var r=new o(this,t,i),s=r.getCurrentToken(),a=s&&s.type;if(s&&/^comment|string/.test(a)){"comment"==(a=a.match(/comment|string/)[0])&&(a+="|doc-start");var u=new RegExp(a),c=new n;if(1!=e){do{s=r.stepBackward()}while(s&&u.test(s.type));r.stepForward()}if(c.start.row=r.getCurrentTokenRow(),c.start.column=r.getCurrentTokenColumn()+2,r=new o(this,t,i),-1!=e){var h=-1;do{if(s=r.stepForward(),-1==h){var f=this.getState(r.$row);u.test(f)||(h=r.$row)}else if(r.$row>h)break}while(s&&u.test(s.type));s=r.stepBackward()}else s=r.getCurrentToken();return c.end.row=r.getCurrentTokenRow(),c.end.column=r.getCurrentTokenColumn()+s.value.length-2,c}},this.foldAll=function(t,i,n,e){null==n&&(n=1e5);var r=this.foldWidgets;if(r){i=i||this.getLength();for(var o=t=t||0;o<i;o++)if(null==r[o]&&(r[o]=this.getFoldWidget(o)),"start"==r[o]&&(!e||e(o))){var s=this.getFoldWidgetRange(o);s&&s.isMultiLine()&&s.end.row<=i&&s.start.row>=t&&(o=s.end.row,s.collapseChildren=n,this.addFold("...",s))}}},this.foldToLevel=function(t){for(this.foldAll();t-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var t=this;this.foldAll(null,null,null,(function(i){for(var n=t.getTokens(i),e=0;e<n.length;e++){var r=n[e];if("text"!=r.type||!/^\s+$/.test(r.value))return!!/comment/.test(r.type)}}))},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(t){if(!this.$foldStyles[t])throw new Error("invalid fold style: "+t+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=t){this.$foldStyle=t,"manual"==t&&this.unfold();var i=this.$foldMode;this.$setFolding(null),this.$setFolding(i)}},this.$setFolding=function(t){this.$foldMode!=t&&(this.$foldMode=t,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),t&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=t.getFoldWidget.bind(t,this,this.$foldStyle),this.getFoldWidgetRange=t.getFoldWidgetRange.bind(t,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(t,i){var n=this.foldWidgets;if(!n||i&&n[t])return{};for(var e,r=t-1;r>=0;){var o=n[r];if(null==o&&(o=n[r]=this.getFoldWidget(r)),"start"==o){var s=this.getFoldWidgetRange(r);if(e||(e=s),s&&s.end.row>=t)break}r--}return{range:-1!==r&&s,firstRange:e}},this.onFoldWidgetClick=function(t,i){if(!this.$toggleFoldWidget(t,{children:(i=i.domEvent).shiftKey,all:i.ctrlKey||i.metaKey,siblings:i.altKey})){var n=i.target||i.srcElement;n&&/ace_fold-widget/.test(n.className)&&(n.className+=" ace_invalid")}},this.$toggleFoldWidget=function(t,i){if(this.getFoldWidget){var n=this.getFoldWidget(t),e=this.getLine(t),r="end"===n?-1:1,o=this.getFoldAt(t,-1===r?0:e.length,r);if(o)return i.children||i.all?this.removeFold(o):this.expandFold(o),o;var s=this.getFoldWidgetRange(t,!0);if(s&&!s.isMultiLine()&&(o=this.getFoldAt(s.start.row,s.start.column,1))&&s.isEqual(o.range))return this.removeFold(o),o;if(i.siblings){var a=this.getParentFoldRangeData(t);if(a.range)var u=a.range.start.row+1,c=a.range.end.row;this.foldAll(u,c,i.all?1e4:0)}else i.children?(c=s?s.end.row:this.getLength(),this.foldAll(t+1,c,i.all?1e4:0)):s&&(i.all&&(s.collapseChildren=1e4),this.addFold("...",s));return s}},this.toggleFoldWidget=function(){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var i=this.$toggleFoldWidget(t,{});if(!i){var n=this.getParentFoldRangeData(t,!0);if(i=n.range||n.firstRange){var e=this.getFoldAt(t=i.start.row,this.getLine(t).length,1);e?this.removeFold(e):this.addFold("...",i)}}},this.updateFoldWidgets=function(t){var i=t.start.row,n=t.end.row-i;if(0===n)this.foldWidgets[i]=null;else if("remove"==t.action)this.foldWidgets.splice(i,n+1,null);else{var e=Array(n+1);e.unshift(i,1),this.foldWidgets.splice.apply(this.foldWidgets,e)}},this.tokenizerUpdateFoldWidgets=function(t){var i=t.data;i.first!=i.last&&this.foldWidgets.length>i.first&&this.foldWidgets.splice(i.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(t,i){var n=t("../token_iterator").TokenIterator,e=t("../range").Range;i.BracketMatch=function(){this.findMatchingBracket=function(t,i){if(0==t.column)return null;var n=i||this.getLine(t.row).charAt(t.column-1);if(""==n)return null;var e=n.match(/([\(\[\{])|([\)\]\}])/);return e?e[1]?this.$findClosingBracket(e[1],t):this.$findOpeningBracket(e[2],t):null},this.getBracketRange=function(t){var i,n=this.getLine(t.row),r=!0,o=n.charAt(t.column-1),s=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(s||(o=n.charAt(t.column),t={row:t.row,column:t.column+1},s=o&&o.match(/([\(\[\{])|([\)\]\}])/),r=!1),!s)return null;if(s[1]){if(!(a=this.$findClosingBracket(s[1],t)))return null;i=e.fromPoints(t,a),r||(i.end.column++,i.start.column--),i.cursor=i.end}else{var a;if(!(a=this.$findOpeningBracket(s[2],t)))return null;i=e.fromPoints(a,t),r||(i.start.column++,i.end.column--),i.cursor=i.start}return i},this.getMatchingBracketRanges=function(t){var i=this.getLine(t.row),n=i.charAt(t.column-1),r=n&&n.match(/([\(\[\{])|([\)\]\}])/);if(r||(n=i.charAt(t.column),t={row:t.row,column:t.column+1},r=n&&n.match(/([\(\[\{])|([\)\]\}])/)),!r)return null;var o=new e(t.row,t.column-1,t.row,t.column),s=r[1]?this.$findClosingBracket(r[1],t):this.$findOpeningBracket(r[2],t);return s?[o,new e(s.row,s.column,s.row,s.column+1)]:[o]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(t,i,e){var r=this.$brackets[t],o=1,s=new n(this,i.row,i.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){e||(e=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var u=i.column-s.getCurrentTokenColumn()-2,c=a.value;;){for(;u>=0;){var h=c.charAt(u);if(h==r){if(0==(o-=1))return{row:s.getCurrentTokenRow(),column:u+s.getCurrentTokenColumn()}}else h==t&&(o+=1);u-=1}do{a=s.stepBackward()}while(a&&!e.test(a.type));if(null==a)break;u=(c=a.value).length-1}return null}},this.$findClosingBracket=function(t,i,e){var r=this.$brackets[t],o=1,s=new n(this,i.row,i.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){e||(e=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var u=i.column-s.getCurrentTokenColumn();;){for(var c=a.value,h=c.length;u<h;){var f=c.charAt(u);if(f==r){if(0==(o-=1))return{row:s.getCurrentTokenRow(),column:u+s.getCurrentTokenColumn()}}else f==t&&(o+=1);u+=1}do{a=s.stepForward()}while(a&&!e.test(a.type));if(null==a)break;u=0}return null}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(t,i){var n=t("./lib/oop"),e=t("./lib/lang"),r=t("./bidihandler").BidiHandler,o=t("./config"),s=t("./lib/event_emitter").EventEmitter,a=t("./selection").Selection,u=t("./mode/text").Mode,c=t("./range").Range,h=t("./document").Document,f=t("./background_tokenizer").BackgroundTokenizer,l=t("./search_highlight").SearchHighlight,d=function(t,i){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++d.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof t&&t.getLine||(t=new h(t)),this.setDocument(t),this.selection=new a(this),this.$bidiHandler=new r(this),o.resetOptions(this),this.setMode(i),o._signal("session",this)};d.$uid=0,function(){n.implement(this,s),this.setDocument=function(t){this.doc&&this.doc.off("change",this.$onChange),this.doc=t,t.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(t){if(!t)return this.$docRowCache=[],void(this.$screenRowCache=[]);var i=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,t)+1;i>n&&(this.$docRowCache.splice(n,i),this.$screenRowCache.splice(n,i))},this.$getRowCacheIndex=function(t,i){for(var n=0,e=t.length-1;n<=e;){var r=n+e>>1,o=t[r];if(i>o)n=r+1;else{if(!(i<o))return r;e=r-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(t){this.$resetRowCache(t.data.start.row)},this.onChange=function(t){this.$modified=!0,this.$bidiHandler.onChange(t),this.$resetRowCache(t.start.row);var i=this.$updateInternalDataOnChange(t);!this.$fromUndo&&this.$undoManager&&(i&&i.length&&(this.$undoManager.add({action:"removeFolds",folds:i},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(t,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(t),this._signal("change",t)},this.setValue=function(t){this.doc.setValue(t),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(t){return this.bgTokenizer.getState(t)},this.getTokens=function(t){return this.bgTokenizer.getTokens(t)},this.getTokenAt=function(t,i){var n,e=this.bgTokenizer.getTokens(t),r=0;if(null==i){var o=e.length-1;r=this.getLine(t).length}else for(o=0;o<e.length&&!((r+=e[o].value.length)>=i);o++);return(n=e[o])?(n.index=o,n.start=r-n.value.length,n):null},this.setUndoManager=function(t){if(this.$undoManager=t,this.$informUndoManager&&this.$informUndoManager.cancel(),t){var i=this;t.addSession(this),this.$syncInformUndoManager=function(){i.$informUndoManager.cancel(),i.mergeUndoDeltas=!1},this.$informUndoManager=e.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?e.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(t){this.setOption("useSoftTabs",t)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(t){this.setOption("tabSize",t)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(t){return this.$useSoftTabs&&t.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(t){this.setOption("navigateWithinSoftTabs",t)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(t){this.setOption("overwrite",t)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(t,i){this.$decorations[t]||(this.$decorations[t]=""),this.$decorations[t]+=" "+i,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(t,i){this.$decorations[t]=(this.$decorations[t]||"").replace(" "+i,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(t){this.$breakpoints=[];for(var i=0;i<t.length;i++)this.$breakpoints[t[i]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(t,i){void 0===i&&(i="ace_breakpoint"),i?this.$breakpoints[t]=i:delete this.$breakpoints[t],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(t){delete this.$breakpoints[t],this._signal("changeBreakpoint",{})},this.addMarker=function(t,i,n,e){var r=this.$markerId++,o={range:t,type:n||"line",renderer:"function"==typeof n?n:null,clazz:i,inFront:!!e,id:r};return e?(this.$frontMarkers[r]=o,this._signal("changeFrontMarker")):(this.$backMarkers[r]=o,this._signal("changeBackMarker")),r},this.addDynamicMarker=function(t,i){if(t.update){var n=this.$markerId++;return t.id=n,t.inFront=!!i,i?(this.$frontMarkers[n]=t,this._signal("changeFrontMarker")):(this.$backMarkers[n]=t,this._signal("changeBackMarker")),t}},this.removeMarker=function(t){var i=this.$frontMarkers[t]||this.$backMarkers[t];i&&(delete(i.inFront?this.$frontMarkers:this.$backMarkers)[t],this._signal(i.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(t){return t?this.$frontMarkers:this.$backMarkers},this.highlight=function(t){if(!this.$searchHighlight){var i=new l(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(i)}this.$searchHighlight.setRegexp(t)},this.highlightLines=function(t,i,n,e){"number"!=typeof i&&(n=i,i=t),n||(n="ace_step");var r=new c(t,0,i,1/0);return r.id=this.addMarker(r,n,"fullLine",e),r},this.setAnnotations=function(t){this.$annotations=t,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(t){var i=t.match(/^.*?(\r?\n)/m);this.$autoNewLine=i?i[1]:"\n"},this.getWordRange=function(t,i){var n=this.getLine(t),e=!1;if(i>0&&(e=!!n.charAt(i-1).match(this.tokenRe)),e||(e=!!n.charAt(i).match(this.tokenRe)),e)var r=this.tokenRe;else r=/^\s+$/.test(n.slice(i-1,i+1))?/\s/:this.nonTokenRe;var o=i;if(o>0){do{o--}while(o>=0&&n.charAt(o).match(r));o++}for(var s=i;s<n.length&&n.charAt(s).match(r);)s++;return new c(t,o,t,s)},this.getAWordRange=function(t,i){for(var n=this.getWordRange(t,i),e=this.getLine(n.end.row);e.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(t){this.doc.setNewLineMode(t)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(t){this.setOption("useWorker",t)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(t){this.bgTokenizer.start(t.data.first),this._signal("tokenizerUpdate",t)},this.$modes=o.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(t,i){if(t&&"object"==typeof t){if(t.getTokenizer)return this.$onChangeMode(t);var n=t,e=t.path}else e=t||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new u),this.$modes[e]&&!n)return this.$onChangeMode(this.$modes[e]),void(i&&i());this.$modeId=e,o.loadModule(["mode",e],function(t){if(this.$modeId!==e)return i&&i();this.$modes[e]&&!n?this.$onChangeMode(this.$modes[e]):t&&t.Mode&&(t=new t.Mode(n),n||(this.$modes[e]=t,t.$id=e),this.$onChangeMode(t)),i&&i()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(t,i){if(i||(this.$modeId=t.$id),this.$mode!==t){var n=this.$mode;this.$mode=t,this.$stopWorker(),this.$useWorker&&this.$startWorker();var e=t.getTokenizer();if(void 0!==e.on){var r=this.onReloadTokenizer.bind(this);e.on("update",r)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(e);else{this.bgTokenizer=new f(e);var o=this;this.bgTokenizer.on("update",(function(t){o._signal("tokenizerUpdate",t)}))}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=t.tokenRe,this.nonTokenRe=t.nonTokenRe,i||(t.attachToSession&&t.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(t.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:n,mode:t}))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(t){o.warn("Could not load worker",t),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(t){this.$scrollTop===t||isNaN(t)||(this.$scrollTop=t,this._signal("changeScrollTop",t))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(t){this.$scrollLeft===t||isNaN(t)||(this.$scrollLeft=t,this._signal("changeScrollLeft",t))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var t=0;return this.lineWidgets.forEach((function(i){i&&i.screenWidth>t&&(t=i.screenWidth)})),this.lineWidgetWidth=t},this.$computeWidth=function(t){if(this.$modified||t){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var i=this.doc.getAllLines(),n=this.$rowLengthCache,e=0,r=0,o=this.$foldData[r],s=o?o.start.row:1/0,a=i.length,u=0;u<a;u++){if(u>s){if((u=o.end.row+1)>=a)break;s=(o=this.$foldData[r++])?o.start.row:1/0}null==n[u]&&(n[u]=this.$getStringScreenWidth(i[u])[0]),n[u]>e&&(e=n[u])}this.screenWidth=e}},this.getLine=function(t){return this.doc.getLine(t)},this.getLines=function(t,i){return this.doc.getLines(t,i)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(t){return this.doc.getTextRange(t||this.selection.getRange())},this.insert=function(t,i){return this.doc.insert(t,i)},this.remove=function(t){return this.doc.remove(t)},this.removeFullLines=function(t,i){return this.doc.removeFullLines(t,i)},this.undoChanges=function(t,i){if(t.length){this.$fromUndo=!0;for(var n=t.length-1;-1!=n;n--){var e=t[n];"insert"==e.action||"remove"==e.action?this.doc.revertDelta(e):e.folds&&this.addFolds(e.folds)}!i&&this.$undoSelect&&(t.selectionBefore?this.selection.fromJSON(t.selectionBefore):this.selection.setRange(this.$getUndoSelection(t,!0))),this.$fromUndo=!1}},this.redoChanges=function(t,i){if(t.length){this.$fromUndo=!0;for(var n=0;n<t.length;n++){var e=t[n];"insert"!=e.action&&"remove"!=e.action||this.doc.$safeApplyDelta(e)}!i&&this.$undoSelect&&(t.selectionAfter?this.selection.fromJSON(t.selectionAfter):this.selection.setRange(this.$getUndoSelection(t,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(t){this.$undoSelect=t},this.$getUndoSelection=function(t,i){function n(t){return i?"insert"!==t.action:"insert"===t.action}for(var e,r,o=0;o<t.length;o++){var s=t[o];s.start&&(e?n(s)?(-1==e.compare((r=s.start).row,r.column)&&e.setStart(r),1==e.compare((r=s.end).row,r.column)&&e.setEnd(r)):-1==e.compare((r=s.start).row,r.column)&&(e=c.fromPoints(s.start,s.start)):e=n(s)?c.fromPoints(s.start,s.end):c.fromPoints(s.start,s.start))}return e},this.replace=function(t,i){return this.doc.replace(t,i)},this.moveText=function(t,i,n){var e=this.getTextRange(t),r=this.getFoldsInRange(t),o=c.fromPoints(i,i);if(n||(this.remove(t),(h=(u=t.start.row-t.end.row)?-t.end.column:t.start.column-t.end.column)&&(o.start.row==t.end.row&&o.start.column>t.end.column&&(o.start.column+=h),o.end.row==t.end.row&&o.end.column>t.end.column&&(o.end.column+=h)),u&&o.start.row>=t.end.row&&(o.start.row+=u,o.end.row+=u)),o.end=this.insert(o.start,e),r.length){var s=t.start,a=o.start,u=a.row-s.row,h=a.column-s.column;this.addFolds(r.map((function(t){return(t=t.clone()).start.row==s.row&&(t.start.column+=h),t.end.row==s.row&&(t.end.column+=h),t.start.row+=u,t.end.row+=u,t})))}return o},this.indentRows=function(t,i,n){n=n.replace(/\t/g,this.getTabString());for(var e=t;e<=i;e++)this.doc.insertInLine({row:e,column:0},n)},this.outdentRows=function(t){for(var i=t.collapseRows(),n=new c(0,0,0,0),e=this.getTabSize(),r=i.start.row;r<=i.end.row;++r){var o=this.getLine(r);n.start.row=r,n.end.row=r;for(var s=0;s<e&&" "==o.charAt(s);++s);s<e&&"\t"==o.charAt(s)?(n.start.column=s,n.end.column=s+1):(n.start.column=0,n.end.column=s),this.remove(n)}},this.$moveLines=function(t,i,n){if(t=this.getRowFoldStart(t),i=this.getRowFoldEnd(i),n<0){if((r=this.getRowFoldStart(t+n))<0)return 0;var e=r-t}else if(n>0){var r;if((r=this.getRowFoldEnd(i+n))>this.doc.getLength()-1)return 0;e=r-i}else t=this.$clipRowToDocument(t),e=(i=this.$clipRowToDocument(i))-t+1;var o=new c(t,0,i,Number.MAX_VALUE),s=this.getFoldsInRange(o).map((function(t){return(t=t.clone()).start.row+=e,t.end.row+=e,t})),a=0==n?this.doc.getLines(t,i):this.doc.removeFullLines(t,i);return this.doc.insertFullLines(t+e,a),s.length&&this.addFolds(s),e},this.moveLinesUp=function(t,i){return this.$moveLines(t,i,-1)},this.moveLinesDown=function(t,i){return this.$moveLines(t,i,1)},this.duplicateLines=function(t,i){return this.$moveLines(t,i,0)},this.$clipRowToDocument=function(t){return Math.max(0,Math.min(t,this.doc.getLength()-1))},this.$clipColumnToRow=function(t,i){return i<0?0:Math.min(this.doc.getLine(t).length,i)},this.$clipPositionToDocument=function(t,i){if(i=Math.max(0,i),t<0)t=0,i=0;else{var n=this.doc.getLength();t>=n?(t=n-1,i=this.doc.getLine(n-1).length):i=Math.min(this.doc.getLine(t).length,i)}return{row:t,column:i}},this.$clipRangeToDocument=function(t){t.start.row<0?(t.start.row=0,t.start.column=0):t.start.column=this.$clipColumnToRow(t.start.row,t.start.column);var i=this.doc.getLength()-1;return t.end.row>i?(t.end.row=i,t.end.column=this.doc.getLine(i).length):t.end.column=this.$clipColumnToRow(t.end.row,t.end.column),t},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(t){if(t!=this.$useWrapMode){if(this.$useWrapMode=t,this.$modified=!0,this.$resetRowCache(0),t){var i=this.getLength();this.$wrapData=Array(i),this.$updateWrapData(0,i-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(t,i){this.$wrapLimitRange.min===t&&this.$wrapLimitRange.max===i||(this.$wrapLimitRange={min:t,max:i},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(t,i){var n=this.$wrapLimitRange;n.max<0&&(n={min:i,max:i});var e=this.$constrainWrapLimit(t,n.min,n.max);return e!=this.$wrapLimit&&e>1&&(this.$wrapLimit=e,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(t,i,n){return i&&(t=Math.max(i,t)),n&&(t=Math.min(n,t)),t},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(t){this.setWrapLimitRange(t,t)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(t){var i=this.$useWrapMode,n=t.action,e=t.start,r=t.end,o=e.row,s=r.row,a=s-o,u=null;if(this.$updating=!0,0!=a)if("remove"===n){this[i?"$wrapData":"$rowLengthCache"].splice(o,a);var c=this.$foldData;u=this.getFoldsInRange(t),this.removeFolds(u);var h=0;if(p=this.getFoldLine(r.row)){p.addRemoveChars(r.row,r.column,e.column-r.column),p.shiftRow(-a);var f=this.getFoldLine(o);f&&f!==p&&(f.merge(p),p=f),h=c.indexOf(p)+1}for(;h<c.length;h++)(p=c[h]).start.row>=r.row&&p.shiftRow(-a);s=o}else{var l=Array(a);l.unshift(o,0);var d=i?this.$wrapData:this.$rowLengthCache;if(d.splice.apply(d,l),c=this.$foldData,h=0,p=this.getFoldLine(o)){var v=p.range.compareInside(e.row,e.column);0==v?(p=p.split(e.row,e.column))&&(p.shiftRow(a),p.addRemoveChars(s,0,r.column-e.column)):-1==v&&(p.addRemoveChars(o,0,r.column-e.column),p.shiftRow(a)),h=c.indexOf(p)+1}for(;h<c.length;h++){var p;(p=c[h]).start.row>=o&&p.shiftRow(a)}}else a=Math.abs(t.start.column-t.end.column),"remove"===n&&(u=this.getFoldsInRange(t),this.removeFolds(u),a=-a),(p=this.getFoldLine(o))&&p.addRemoveChars(o,e.column,a);return i&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,i?this.$updateWrapData(o,s):this.$updateRowLengthCache(o,s),u},this.$updateRowLengthCache=function(t,i){this.$rowLengthCache[t]=null,this.$rowLengthCache[i]=null},this.$updateWrapData=function(n,e){var r,o,s=this.doc.getAllLines(),a=this.getTabSize(),u=this.$wrapData,c=this.$wrapLimit,h=n;for(e=Math.min(e,s.length-1);h<=e;)(o=this.getFoldLine(h,o))?(r=[],o.walk(function(n,e,o,a){var u;if(null!=n){(u=this.$getDisplayTokens(n,r.length))[0]=t;for(var c=1;c<u.length;c++)u[c]=i}else u=this.$getDisplayTokens(s[e].substring(a,o),r.length);r=r.concat(u)}.bind(this),o.end.row,s[o.end.row].length+1),u[o.start.row]=this.$computeWrapSplits(r,c,a),h=o.end.row+1):(r=this.$getDisplayTokens(s[h]),u[h]=this.$computeWrapSplits(r,c,a),h++)};var t=3,i=4;function r(t){return!(t<4352)&&(t>=4352&&t<=4447||t>=4515&&t<=4519||t>=4602&&t<=4607||t>=9001&&t<=9002||t>=11904&&t<=11929||t>=11931&&t<=12019||t>=12032&&t<=12245||t>=12272&&t<=12283||t>=12288&&t<=12350||t>=12353&&t<=12438||t>=12441&&t<=12543||t>=12549&&t<=12589||t>=12593&&t<=12686||t>=12688&&t<=12730||t>=12736&&t<=12771||t>=12784&&t<=12830||t>=12832&&t<=12871||t>=12880&&t<=13054||t>=13056&&t<=19903||t>=19968&&t<=42124||t>=42128&&t<=42182||t>=43360&&t<=43388||t>=44032&&t<=55203||t>=55216&&t<=55238||t>=55243&&t<=55291||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65106||t>=65108&&t<=65126||t>=65128&&t<=65131||t>=65281&&t<=65376||t>=65504&&t<=65510)}this.$computeWrapSplits=function(n,e,r){if(0==n.length)return[];var o=[],s=n.length,a=0,u=0,c=this.$wrapAsCode,h=this.$indentedSoftWrap,f=e<=Math.max(2*r,8)||!1===h?0:Math.floor(e/2);function l(t){for(var i=t-a,e=a;e<t;e++){var s=n[e];12!==s&&2!==s||(i-=1)}o.length||(d=function(){var t=0;if(0===f)return t;if(h)for(var i=0;i<n.length;i++){var e=n[i];if(10==e)t+=1;else{if(11!=e){if(12==e)continue;break}t+=r}}return c&&!1!==h&&(t+=r),Math.min(t,f)}(),o.indent=d),o.push(u+=i),a=t}for(var d=0;s-a>e-d;){var v=a+e-d;if(n[v-1]>=10&&n[v]>=10)l(v);else if(n[v]!=t&&n[v]!=i){for(var p=Math.max(v-(e-(e>>2)),a-1);v>p&&n[v]<t;)v--;if(c){for(;v>p&&n[v]<t;)v--;for(;v>p&&9==n[v];)v--}else for(;v>p&&n[v]<10;)v--;v>p?l(++v):(2==n[v=a+e]&&v--,l(v-d))}else{for(;v!=a-1&&n[v]!=t;v--);if(v>a){l(v);continue}for(v=a+e;v<n.length&&n[v]==i;v++);if(v==n.length)break;l(v)}}return o},this.$getDisplayTokens=function(t,i){var n,e=[];i=i||0;for(var o=0;o<t.length;o++){var s=t.charCodeAt(o);if(9==s){n=this.getScreenTabSize(e.length+i),e.push(11);for(var a=1;a<n;a++)e.push(12)}else 32==s?e.push(10):s>39&&s<48||s>57&&s<64?e.push(9):s>=4352&&r(s)?e.push(1,2):e.push(1)}return e},this.$getStringScreenWidth=function(t,i,n){if(0==i)return[0,0];var e,o;for(null==i&&(i=1/0),n=n||0,o=0;o<t.length&&(9==(e=t.charCodeAt(o))?n+=this.getScreenTabSize(n):e>=4352&&r(e)?n+=2:n+=1,!(n>i));o++);return[n,o]},this.lineWidgets=null,this.getRowLength=function(t){var i=1;return this.lineWidgets&&(i+=this.lineWidgets[t]&&this.lineWidgets[t].rowCount||0),this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+i:i},this.getRowLineCount=function(t){return this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1:1},this.getRowWrapIndent=function(t){if(this.$useWrapMode){var i=this.screenToDocumentPosition(t,Number.MAX_VALUE),n=this.$wrapData[i.row];return n.length&&n[0]<i.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(t){var i=this.screenToDocumentPosition(t,Number.MAX_VALUE);return this.documentToScreenColumn(i.row,i.column)},this.getDocumentLastRowColumn=function(t,i){var n=this.documentToScreenRow(t,i);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(t,i){var n=this.documentToScreenRow(t,i);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(t){return this.$useWrapMode?this.$wrapData[t]:void 0},this.getScreenTabSize=function(t){return this.$tabSize-(t%this.$tabSize|0)},this.screenToDocumentRow=function(t,i){return this.screenToDocumentPosition(t,i).row},this.screenToDocumentColumn=function(t,i){return this.screenToDocumentPosition(t,i).column},this.screenToDocumentPosition=function(t,i,n){if(t<0)return{row:0,column:0};var e,r,o=0,s=0,a=0,u=0,c=this.$screenRowCache,h=this.$getRowCacheIndex(c,t),f=c.length;if(f&&h>=0){a=c[h],o=this.$docRowCache[h];var l=t>c[f-1]}else l=!f;for(var d=this.getLength()-1,v=this.getNextFoldLine(o),p=v?v.start.row:1/0;a<=t&&!(a+(u=this.getRowLength(o))>t||o>=d);)a+=u,++o>p&&(p=(v=this.getNextFoldLine(o=v.end.row+1,v))?v.start.row:1/0),l&&(this.$docRowCache.push(o),this.$screenRowCache.push(a));if(v&&v.start.row<=o)e=this.getFoldDisplayLine(v),o=v.start.row;else{if(a+u<=t||o>d)return{row:d,column:this.getLine(d).length};e=this.getLine(o),v=null}var m=0,b=Math.floor(t-a);if(this.$useWrapMode){var g=this.$wrapData[o];g&&(r=g[b],b>0&&g.length&&(m=g.indent,e=e.substring(s=g[b-1]||g[g.length-1])))}return void 0!==n&&this.$bidiHandler.isBidiRow(a+b,o,b)&&(i=this.$bidiHandler.offsetToCol(n)),s+=this.$getStringScreenWidth(e,i-m)[1],this.$useWrapMode&&s>=r&&(s=r-1),v?v.idxToPosition(s):{row:o,column:s}},this.documentToScreenPosition=function(t,i){if(void 0===i)var n=this.$clipPositionToDocument(t.row,t.column);else n=this.$clipPositionToDocument(t,i);var e,r=0,o=null;(e=this.getFoldAt(t=n.row,i=n.column,1))&&(t=e.start.row,i=e.start.column);var s,a=0,u=this.$docRowCache,c=this.$getRowCacheIndex(u,t),h=u.length;if(h&&c>=0){a=u[c],r=this.$screenRowCache[c];var f=t>u[h-1]}else f=!h;for(var l=this.getNextFoldLine(a),d=l?l.start.row:1/0;a<t;){if(a>=d){if((s=l.end.row+1)>t)break;d=(l=this.getNextFoldLine(s,l))?l.start.row:1/0}else s=a+1;r+=this.getRowLength(a),a=s,f&&(this.$docRowCache.push(a),this.$screenRowCache.push(r))}var v="";l&&a>=d?(v=this.getFoldDisplayLine(l,t,i),o=l.start.row):(v=this.getLine(t).substring(0,i),o=t);var p=0;if(this.$useWrapMode){var m=this.$wrapData[o];if(m){for(var b=0;v.length>=m[b];)r++,b++;v=v.substring(m[b-1]||0,v.length),p=b>0?m.indent:0}}return this.lineWidgets&&this.lineWidgets[a]&&this.lineWidgets[a].rowsAbove&&(r+=this.lineWidgets[a].rowsAbove),{row:r,column:p+this.$getStringScreenWidth(v)[0]}},this.documentToScreenColumn=function(t,i){return this.documentToScreenPosition(t,i).column},this.documentToScreenRow=function(t,i){return this.documentToScreenPosition(t,i).row},this.getScreenLength=function(){var t=0,i=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,e=0,r=(a=0,(i=this.$foldData[a++])?i.start.row:1/0);e<n;){var o=this.$wrapData[e];t+=o?o.length+1:1,++e>r&&(e=i.end.row+1,r=(i=this.$foldData[a++])?i.start.row:1/0)}else{t=this.getLength();for(var s=this.$foldData,a=0;a<s.length;a++)t-=(i=s[a]).end.row-i.start.row}return this.lineWidgets&&(t+=this.$getWidgetScreenLength()),t},this.$setFontMetrics=function(t){this.$enableVarChar&&(this.$getStringScreenWidth=function(i,n,e){if(0===n)return[0,0];var r,o;for(n||(n=1/0),e=e||0,o=0;o<i.length&&!((e+="\t"===(r=i.charAt(o))?this.getScreenTabSize(e):t.getCharacterWidth(r))>n);o++);return[e,o]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},this.isFullWidth=r}.call(d.prototype),t("./edit_session/folding").Folding.call(d.prototype),t("./edit_session/bracket_match").BracketMatch.call(d.prototype),o.defineOptions(d.prototype,"session",{wrap:{set:function(t){if(t&&"off"!=t?"free"==t?t=!0:"printMargin"==t?t=-1:"string"==typeof t&&(t=parseInt(t,10)||!1):t=!1,this.$wrap!=t)if(this.$wrap=t,t){var i="number"==typeof t?t:null;this.setWrapLimitRange(i,i),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(t){(t="auto"==t?"text"!=this.$mode.type:"text"!=t)!=this.$wrapAsCode&&(this.$wrapAsCode=t,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(t){this.$useWorker=t,this.$stopWorker(),t&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(t){(t=parseInt(t))>0&&this.$tabSize!==t&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=t,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(t){this.setFoldStyle(t)},handlesSet:!0},overwrite:{set:function(){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(t){this.doc.setNewLineMode(t)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(t){this.setMode(t)},get:function(){return this.$modeId},handlesSet:!0}}),i.EditSession=d})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(t,i){var n=t("./lib/lang"),e=t("./lib/oop"),r=t("./range").Range,o=function(){this.$options={}};(function(){this.set=function(t){return e.mixin(this.$options,t),this},this.getOptions=function(){return n.copyObject(this.$options)},this.setOptions=function(t){this.$options=t},this.find=function(t){var i=this.$options,n=this.$matchIterator(t,i);if(!n)return!1;var e=null;return n.forEach((function(t,n,o,s){return e=new r(t,n,o,s),!(n==s&&i.start&&i.start.start&&0!=i.skipCurrent&&e.isEqual(i.start)&&(e=null,1))})),e},this.findAll=function(t){var i=this.$options;if(!i.needle)return[];this.$assembleRegExp(i);var e=i.range,o=e?t.getLines(e.start.row,e.end.row):t.doc.getAllLines(),s=[],a=i.re;if(i.$isMultiLine){var u,c=a.length,h=o.length-c;t:for(var f=a.offset||0;f<=h;f++){for(var l=0;l<c;l++)if(-1==o[f+l].search(a[l]))continue t;var d=o[f],v=o[f+c-1],p=d.length-d.match(a[0])[0].length,m=v.match(a[c-1])[0].length;u&&u.end.row===f&&u.end.column>p||(s.push(u=new r(f,p,f+c-1,m)),c>2&&(f=f+c-2))}}else for(var b=0;b<o.length;b++){var g=n.getMatchOffsets(o[b],a);for(l=0;l<g.length;l++){var y=g[l];s.push(new r(b,y.offset,b,y.offset+y.length))}}if(e){var w=e.start.column,x=e.start.column;for(b=0,l=s.length-1;b<l&&s[b].start.column<w&&s[b].start.row==e.start.row;)b++;for(;b<l&&s[l].end.column>x&&s[l].end.row==e.end.row;)l--;for(s=s.slice(b,l+1),b=0,l=s.length;b<l;b++)s[b].start.row+=e.start.row,s[b].end.row+=e.start.row}return s},this.replace=function(t,i){var n=this.$options,e=this.$assembleRegExp(n);if(n.$isMultiLine)return i;if(e){var r=e.exec(t);if(!r||r[0].length!=t.length)return null;if(i=t.replace(e,i),n.preserveCase){i=i.split("");for(var o=Math.min(t.length,t.length);o--;){var s=t[o];i[o]=s&&s.toLowerCase()!=s?i[o].toUpperCase():i[o].toLowerCase()}i=i.join("")}return i}},this.$assembleRegExp=function(t,i){if(t.needle instanceof RegExp)return t.re=t.needle;var e=t.needle;if(!t.needle)return t.re=!1;t.regExp||(e=n.escapeRegExp(e)),t.wholeWord&&(e=function(t,i){function n(t){return/\w/.test(t)||i.regExp?"\\b":""}return n(t[0])+t+n(t[t.length-1])}(e,t));var r=t.caseSensitive?"gm":"gmi";if(t.$isMultiLine=!i&&/[\n\r]/.test(e),t.$isMultiLine)return t.re=this.$assembleMultilineRegExp(e,r);try{var o=new RegExp(e,r)}catch(t){o=!1}return t.re=o},this.$assembleMultilineRegExp=function(t,i){for(var n=t.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),e=[],r=0;r<n.length;r++)try{e.push(new RegExp(n[r],i))}catch(t){return!1}return e},this.$matchIterator=function(t,i){var n=this.$assembleRegExp(i);if(!n)return!1;var e=1==i.backwards,r=0!=i.skipCurrent,o=i.range,s=i.start;s||(s=o?o[e?"end":"start"]:t.selection.getRange()),s.start&&(s=s[r!=e?"end":"start"]);var a=o?o.start.row:0,u=o?o.end.row:t.getLength()-1;if(e)var c=function(t){var n=s.row;if(!f(n,s.column,t)){for(n--;n>=a;n--)if(f(n,Number.MAX_VALUE,t))return;if(0!=i.wrap)for(n=u,a=s.row;n>=a;n--)if(f(n,Number.MAX_VALUE,t))return}};else c=function(t){var n=s.row;if(!f(n,s.column,t)){for(n+=1;n<=u;n++)if(f(n,0,t))return;if(0!=i.wrap)for(n=a,u=s.row;n<=u;n++)if(f(n,0,t))return}};if(i.$isMultiLine)var h=n.length,f=function(i,r,o){var s=e?i-h+1:i;if(!(s<0||s+h>t.getLength())){var a=t.getLine(s),u=a.search(n[0]);if(!(!e&&u<r||-1===u)){for(var c=1;c<h;c++)if(-1==(a=t.getLine(s+c)).search(n[c]))return;var f=a.match(n[h-1])[0].length;if(!(e&&f>r))return!!o(s,u,s+h-1,f)||void 0}}};else f=e?function(i,e,r){var o,s=t.getLine(i),a=[],u=0;for(n.lastIndex=0;o=n.exec(s);){if(u=o.index,!(h=o[0].length)){if(u>=s.length)break;n.lastIndex=u+=1}if(o.index+h>e)break;a.push(o.index,h)}for(var c=a.length-1;c>=0;c-=2){var h,f=a[c-1];if(r(i,f,i,f+(h=a[c])))return!0}}:function(i,e,r){var o,s,a=t.getLine(i);for(n.lastIndex=e;s=n.exec(a);){var u=s[0].length;if(r(i,o=s.index,i,o+u))return!0;if(!u&&(n.lastIndex=o+=1,o>=a.length))return!1}};return{forEach:c}}}).call(o.prototype),i.Search=o})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(t,i){var n=t("../lib/keys"),e=t("../lib/useragent"),r=n.KEY_MODS;function o(t,i){this.platform=i||(e.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(t),this.$singleCommand=!0}function s(t,i){o.call(this,t,i),this.$singleCommand=!1}s.prototype=o.prototype,function(){function t(t){return"object"==typeof t&&t.bindKey&&t.bindKey.position||(t.isDefault?-100:0)}this.addCommand=function(t){this.commands[t.name]&&this.removeCommand(t),this.commands[t.name]=t,t.bindKey&&this._buildKeyHash(t)},this.removeCommand=function(t,i){var n=t&&("string"==typeof t?t:t.name);t=this.commands[n],i||delete this.commands[n];var e=this.commandKeyBinding;for(var r in e){var o=e[r];if(o==t)delete e[r];else if(Array.isArray(o)){var s=o.indexOf(t);-1!=s&&(o.splice(s,1),1==o.length&&(e[r]=o[0]))}}},this.bindKey=function(t,i,n){if("object"==typeof t&&t&&(null==n&&(n=t.position),t=t[this.platform]),t)return"function"==typeof i?this.addCommand({exec:i,bindKey:t,name:i.name||t}):void t.split("|").forEach((function(t){var e="";if(-1!=t.indexOf(" ")){var o=t.split(/\s+/);t=o.pop(),o.forEach((function(t){var i=this.parseKeys(t);this._addCommandToBinding(e+=(e?" ":"")+(r[i.hashId]+i.key),"chainKeys")}),this),e+=" "}var s=this.parseKeys(t);this._addCommandToBinding(e+(r[s.hashId]+s.key),i,n)}),this)},this._addCommandToBinding=function(i,n,e){var r,o=this.commandKeyBinding;if(n)if(!o[i]||this.$singleCommand)o[i]=n;else{Array.isArray(o[i])?-1!=(r=o[i].indexOf(n))&&o[i].splice(r,1):o[i]=[o[i]],"number"!=typeof e&&(e=t(n));var s=o[i];for(r=0;r<s.length&&!(t(s[r])>e);r++);s.splice(r,0,n)}else delete o[i]},this.addCommands=function(t){t&&Object.keys(t).forEach((function(i){var n=t[i];if(n){if("string"==typeof n)return this.bindKey(n,i);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=i),this.addCommand(n))}}),this)},this.removeCommands=function(t){Object.keys(t).forEach((function(i){this.removeCommand(t[i])}),this)},this.bindKeys=function(t){Object.keys(t).forEach((function(i){this.bindKey(i,t[i])}),this)},this._buildKeyHash=function(t){this.bindKey(t.bindKey,t)},this.parseKeys=function(t){var i=t.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(t){return t})),e=i.pop(),r=n[e];if(n.FUNCTION_KEYS[r])e=n.FUNCTION_KEYS[r].toLowerCase();else{if(!i.length)return{key:e,hashId:-1};if(1==i.length&&"shift"==i[0])return{key:e.toUpperCase(),hashId:-1}}for(var o=0,s=i.length;s--;){var a=n.KEY_MODS[i[s]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+i[s]+" in "+t),!1;o|=a}return{key:e,hashId:o}},this.findKeyCommand=function(t,i){return this.commandKeyBinding[r[t]+i]},this.handleKeyboard=function(t,i,n,e){if(!(e<0)){var o=r[i]+n,s=this.commandKeyBinding[o];return t.$keyChain&&(t.$keyChain+=" "+o,s=this.commandKeyBinding[t.$keyChain]||s),!s||"chainKeys"!=s&&"chainKeys"!=s[s.length-1]?(t.$keyChain&&(i&&4!=i||1!=n.length?(-1==i||e>0)&&(t.$keyChain=""):t.$keyChain=t.$keyChain.slice(0,-o.length-1)),{command:s}):(t.$keyChain=t.$keyChain||o,{command:"null"})}},this.getStatusText=function(t,i){return i.$keyChain||""}}.call(o.prototype),i.HashHandler=o,i.MultiHashHandler=s})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(t,i){var n=t("../lib/oop"),e=t("../keyboard/hash_handler").MultiHashHandler,r=t("../lib/event_emitter").EventEmitter,o=function(t,i){e.call(this,i,t),this.byName=this.commands,this.setDefaultHandler("exec",(function(t){return t.command.exec(t.editor,t.args||{})}))};n.inherits(o,e),function(){n.implement(this,r),this.exec=function(t,i,n){if(Array.isArray(t)){for(var e=t.length;e--;)if(this.exec(t[e],i,n))return!0;return!1}if("string"==typeof t&&(t=this.commands[t]),!t)return!1;if(i&&i.$readOnly&&!t.readOnly)return!1;if(0!=this.$checkCommandState&&t.isAvailable&&!t.isAvailable(i))return!1;var r={editor:i,command:t,args:n};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),!1!==r.returnValue},this.toggleRecording=function(t){if(!this.$inReplay)return t&&t._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(t){this.macro.push([t.command,t.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(t){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(t);try{this.$inReplay=!0,this.macro.forEach((function(i){"string"==typeof i?this.exec(i,t):this.exec(i[0],t,i[1])}),this)}finally{this.$inReplay=!1}}},this.trimMacro=function(t){return t.map((function(t){return"string"!=typeof t[0]&&(t[0]=t[0].name),t[1]||(t=t[0]),t}))}}.call(o.prototype),i.CommandManager=o})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(t,i){var n=t("../lib/lang"),e=t("../config"),r=t("../range").Range;function o(t,i){return{win:t,mac:i}}i.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:o("Ctrl-,","Command-,"),exec:function(t){e.loadModule("ace/ext/settings_menu",(function(i){i.init(t),t.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:o("Alt-E","F4"),exec:function(t){e.loadModule("./ext/error_marker",(function(i){i.showErrorMarker(t,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:o("Alt-Shift-E","Shift-F4"),exec:function(t){e.loadModule("./ext/error_marker",(function(i){i.showErrorMarker(t,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:o("Ctrl-A","Command-A"),exec:function(t){t.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:o(null,"Ctrl-L"),exec:function(t){t.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:o("Ctrl-L","Command-L"),exec:function(t,i){"number"!=typeof i||isNaN(i)||t.gotoLine(i),t.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:o("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(t){t.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:o("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(t){t.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:o("F2","F2"),exec:function(t){t.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:o("Alt-F2","Alt-F2"),exec:function(t){t.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:o(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:o(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:o("Alt-0","Command-Option-0"),exec:function(t){t.session.foldAll(),t.session.unfold(t.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:o("Alt-Shift-0","Command-Option-Shift-0"),exec:function(t){t.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:o("Ctrl-K","Command-G"),exec:function(t){t.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:o("Ctrl-Shift-K","Command-Shift-G"),exec:function(t){t.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:o("Alt-K","Ctrl-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:o("Alt-Shift-K","Ctrl-Shift-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:o("Ctrl-F","Command-F"),exec:function(t){e.loadModule("ace/ext/searchbox",(function(i){i.Search(t)}))},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(t){t.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:o("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(t){t.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:o("Ctrl-Home","Command-Home|Command-Up"),exec:function(t){t.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:o("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(t){t.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:o("Up","Up|Ctrl-P"),exec:function(t,i){t.navigateUp(i.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:o("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(t){t.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:o("Ctrl-End","Command-End|Command-Down"),exec:function(t){t.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:o("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(t){t.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:o("Down","Down|Ctrl-N"),exec:function(t,i){t.navigateDown(i.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:o("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(t){t.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:o("Ctrl-Left","Option-Left"),exec:function(t){t.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:o("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:o("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(t){t.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:o("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(t){t.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:o("Left","Left|Ctrl-B"),exec:function(t,i){t.navigateLeft(i.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:o("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(t){t.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:o("Ctrl-Right","Option-Right"),exec:function(t){t.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:o("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:o("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(t){t.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:o("Shift-Right","Shift-Right"),exec:function(t){t.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:o("Right","Right|Ctrl-F"),exec:function(t,i){t.navigateRight(i.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(t){t.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:o(null,"Option-PageDown"),exec:function(t){t.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:o("PageDown","PageDown|Ctrl-V"),exec:function(t){t.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(t){t.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:o(null,"Option-PageUp"),exec:function(t){t.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(t){t.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:o("Ctrl-Up",null),exec:function(t){t.renderer.scrollBy(0,-2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:o("Ctrl-Down",null),exec:function(t){t.renderer.scrollBy(0,2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:o("Ctrl-Alt-E","Command-Option-E"),exec:function(t){t.commands.toggleRecording(t)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:o("Ctrl-Shift-E","Command-Shift-E"),exec:function(t){t.commands.replay(t)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:o("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(t){t.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:o("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(t){t.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:o("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(t){t.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:o(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(){},readOnly:!0},{name:"cut",description:"Cut",exec:function(t){var i=t.$copyWithEmptySelection&&t.selection.isEmpty()?t.selection.getLineRange():t.selection.getRange();t._emit("cut",i),i.isEmpty()||t.session.remove(i),t.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(t,i){t.$handlePaste(i)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:o("Ctrl-D","Command-D"),exec:function(t){t.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:o("Ctrl-Shift-D","Command-Shift-D"),exec:function(t){t.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:o("Ctrl-Alt-S","Command-Alt-S"),exec:function(t){t.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:o("Ctrl-/","Command-/"),exec:function(t){t.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:o("Ctrl-Shift-/","Command-Shift-/"),exec:function(t){t.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:o("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(t){t.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:o("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(t){t.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:o("Ctrl-H","Command-Option-F"),exec:function(t){e.loadModule("ace/ext/searchbox",(function(i){i.Search(t,!0)}))}},{name:"undo",description:"Undo",bindKey:o("Ctrl-Z","Command-Z"),exec:function(t){t.undo()}},{name:"redo",description:"Redo",bindKey:o("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(t){t.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:o("Alt-Shift-Up","Command-Option-Up"),exec:function(t){t.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:o("Alt-Up","Option-Up"),exec:function(t){t.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:o("Alt-Shift-Down","Command-Option-Down"),exec:function(t){t.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:o("Alt-Down","Option-Down"),exec:function(t){t.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:o("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(t){t.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:o("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(t){t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:o("Shift-Delete",null),exec:function(t){if(!t.selection.isEmpty())return!1;t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:o("Alt-Backspace","Command-Backspace"),exec:function(t){t.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:o("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(t){t.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:o("Ctrl-Shift-Backspace",null),exec:function(t){var i=t.selection.getRange();i.start.column=0,t.session.remove(i)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:o("Ctrl-Shift-Delete",null),exec:function(t){var i=t.selection.getRange();i.end.column=Number.MAX_VALUE,t.session.remove(i)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:o("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(t){t.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:o("Ctrl-Delete","Alt-Delete"),exec:function(t){t.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:o("Shift-Tab","Shift-Tab"),exec:function(t){t.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:o("Tab","Tab"),exec:function(t){t.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:o("Ctrl-[","Ctrl-["),exec:function(t){t.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:o("Ctrl-]","Ctrl-]"),exec:function(t){t.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(t,i){t.insert(i)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(t,i){t.insert(n.stringRepeat(i.text||"",i.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:o(null,"Ctrl-O"),exec:function(t){t.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:o("Alt-Shift-X","Ctrl-T"),exec:function(t){t.transposeLetters()},multiSelectAction:function(t){t.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:o("Ctrl-U","Ctrl-U"),exec:function(t){t.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:o("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(t){t.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:o(null,null),exec:function(t){t.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:o("Ctrl-Shift-L","Command-Shift-L"),exec:function(t){var i=t.selection.getRange();i.start.column=i.end.column=0,i.end.row++,t.selection.setRange(i,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",description:"Join lines",bindKey:o(null,null),exec:function(t){for(var i=t.selection.isBackwards(),e=i?t.selection.getSelectionLead():t.selection.getSelectionAnchor(),o=i?t.selection.getSelectionAnchor():t.selection.getSelectionLead(),s=t.session.doc.getLine(e.row).length,a=t.session.doc.getTextRange(t.selection.getRange()).replace(/\n\s*/," ").length,u=t.session.doc.getLine(e.row),c=e.row+1;c<=o.row+1;c++){var h=n.stringTrimLeft(n.stringTrimRight(t.session.doc.getLine(c)));0!==h.length&&(h=" "+h),u+=h}o.row+1<t.session.doc.getLength()-1&&(u+=t.session.doc.getNewLineCharacter()),t.clearSelection(),t.session.doc.replace(new r(e.row,0,o.row+2,0),u),a>0?(t.selection.moveCursorTo(e.row,e.column),t.selection.selectTo(e.row,e.column+a)):(s=t.session.doc.getLine(e.row).length>s?s+1:s,t.selection.moveCursorTo(e.row,s))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:o(null,null),exec:function(t){var i=t.session.doc.getLength()-1,n=t.session.doc.getLine(i).length,e=t.selection.rangeList.ranges,o=[];e.length<1&&(e=[t.selection.getRange()]);for(var s=0;s<e.length;s++)s==e.length-1&&(e[s].end.row===i&&e[s].end.column===n||o.push(new r(e[s].end.row,e[s].end.column,i,n))),0===s?0===e[s].start.row&&0===e[s].start.column||o.push(new r(0,0,e[s].start.row,e[s].start.column)):o.push(new r(e[s-1].end.row,e[s-1].end.column,e[s].start.row,e[s].start.column));for(t.exitMultiSelectMode(),t.clearSelection(),s=0;s<o.length;s++)t.selection.addRange(o[s],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(t){t.selection.clearSelection(),t.navigateLineEnd(),t.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(t){t.selection.clearSelection();var i=t.getCursorPosition();t.selection.moveTo(i.row-1,Number.MAX_VALUE),t.insert("\n"),0===i.row&&t.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command pallete",bindKey:o("F1","F1"),exec:function(t){t.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:o(null,null),exec:function(t){t.prompt({$type:"modes"})},readOnly:!0}];for(var s=1;s<9;s++)i.commands.push({name:"foldToLevel"+s,description:"Fold To Level "+s,level:s,exec:function(t){t.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})})),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],(function(t,i){t("./lib/fixoldbrowsers");var n=t("./lib/oop"),e=t("./lib/dom"),r=t("./lib/lang"),o=t("./lib/useragent"),s=t("./keyboard/textinput").TextInput,a=t("./mouse/mouse_handler").MouseHandler,u=t("./mouse/fold_handler").FoldHandler,c=t("./keyboard/keybinding").KeyBinding,h=t("./edit_session").EditSession,f=t("./search").Search,l=t("./range").Range,d=t("./lib/event_emitter").EventEmitter,v=t("./commands/command_manager").CommandManager,p=t("./commands/default_commands").commands,m=t("./config"),b=t("./token_iterator").TokenIterator,g=t("./clipboard"),y=function(t,i,n){this.$toDestroy=[];var e=t.getContainerElement();this.container=e,this.renderer=t,this.id="editor"+ ++y.$uid,this.commands=new v(o.isMac?"mac":"win",p),"object"==typeof document&&(this.textInput=new s(t.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new a(this),new u(this)),this.keyBinding=new c(this),this.$search=(new f).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=r.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(t,i){i._$emitInputEvent.schedule(31)})),this.setSession(i||n&&n.session||new h("")),m.resetOptions(this),n&&this.setOptions(n),m._signal("editor",this)};y.$uid=0,function(){n.implement(this,d),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=r.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(t){if(this.curOp){if(!t||this.curOp.command)return;this.prevOp=this.curOp}t||(this.previousCommand=null,t={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:t.command||{},args:t.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(t){if(this.curOp&&this.session){if(t&&!1===t.returnValue||!this.session)return this.curOp=null;if(1==t&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var i=this.curOp.command,n=i&&i.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var e=this.selection.getRange(),r=this.renderer.layerConfig;(e.start.row>=r.lastRow||e.end.row<=r.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}var o=this.selection.toJSON();this.curOp.selectionAfter=o,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(o),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(t){if(this.$mergeUndoDeltas){var i=this.prevOp,n=this.$mergeableCommands,e=i.command&&t.command.name==i.command.name;if("insertstring"==t.command.name){var r=t.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),e=e&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(i.args)),this.mergeNextCommand=!0}else e=e&&-1!==n.indexOf(t.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(e=!1),e?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(t.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(t,i){if(t&&"string"==typeof t&&"ace"!=t){this.$keybindingId=t;var n=this;m.loadModule(["keybinding",t],(function(e){n.$keybindingId==t&&n.keyBinding.setKeyboardHandler(e&&e.handler),i&&i()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(t),i&&i()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(t){if(this.session!=t){this.curOp&&this.endOperation(),this.curOp={};var i=this.session;if(i){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=t,t?(this.$onDocumentChange=this.onDocumentChange.bind(this),t.on("change",this.$onDocumentChange),this.renderer.setSession(t),this.$onChangeMode=this.onChangeMode.bind(this),t.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),t.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),t.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),t.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),t.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),t.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=t.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(t)),this._signal("changeSession",{session:t,oldSession:i}),this.curOp=null,i&&i._signal("changeEditor",{oldEditor:this}),t&&t._signal("changeEditor",{editor:this}),t&&t.bgTokenizer&&t.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(t,i){return this.session.doc.setValue(t),i?1==i?this.navigateFileEnd():-1==i&&this.navigateFileStart():this.selectAll(),t},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(t){this.renderer.onResize(t)},this.setTheme=function(t,i){this.renderer.setTheme(t,i)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(t){this.renderer.setStyle(t)},this.unsetStyle=function(t){this.renderer.unsetStyle(t)},this.getFontSize=function(){return this.getOption("fontSize")||e.computedStyle(this.container).fontSize},this.setFontSize=function(t){this.setOption("fontSize",t)},this.$highlightBrackets=function(){if(!this.$highlightPending){var t=this;this.$highlightPending=!0,setTimeout((function(){t.$highlightPending=!1;var i=t.session;if(i&&i.bgTokenizer){i.$bracketHighlight&&(i.$bracketHighlight.markerIds.forEach((function(t){i.removeMarker(t)})),i.$bracketHighlight=null);var n=i.getMatchingBracketRanges(t.getCursorPosition());if(!n&&i.$mode.getMatching&&(n=i.$mode.getMatching(t.session)),n){var e="ace_bracket";Array.isArray(n)?1==n.length&&(e="ace_error_bracket"):n=[n],2==n.length&&(0==l.comparePoints(n[0].end,n[1].start)?n=[l.fromPoints(n[0].start,n[1].end)]:0==l.comparePoints(n[0].start,n[1].end)&&(n=[l.fromPoints(n[1].start,n[0].end)])),i.$bracketHighlight={ranges:n,markerIds:n.map((function(t){return i.addMarker(t,e,"text")}))}}}}),50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var t=this;this.$highlightTagPending=!0,setTimeout((function(){t.$highlightTagPending=!1;var i=t.session;if(i&&i.bgTokenizer){var n=t.getCursorPosition(),e=new b(t.session,n.row,n.column),r=e.getCurrentToken();if(!r||!/\b(?:tag-open|tag-name)/.test(r.type))return i.removeMarker(i.$tagHighlight),void(i.$tagHighlight=null);if(-1===r.type.indexOf("tag-open")||(r=e.stepForward())){var o=r.value,s=r.value,a=0,u=e.stepBackward();if("<"===u.value)do{u=r,(r=e.stepForward())&&(-1!==r.type.indexOf("tag-name")?o===(s=r.value)&&("<"===u.value?a++:"</"===u.value&&a--):o===s&&"/>"===r.value&&a--)}while(r&&a>=0);else{do{if(r=u,u=e.stepBackward(),r)if(-1!==r.type.indexOf("tag-name"))o===r.value&&("<"===u.value?a++:"</"===u.value&&a--);else if("/>"===r.value){for(var c=0,h=u;h;){if(-1!==h.type.indexOf("tag-name")&&h.value===o){a--;break}if("<"===h.value)break;h=e.stepBackward(),c++}for(var f=0;f<c;f++)e.stepForward()}}while(u&&a<=0);e.stepForward()}if(!r)return i.removeMarker(i.$tagHighlight),void(i.$tagHighlight=null);var d=e.getCurrentTokenRow(),v=e.getCurrentTokenColumn(),p=new l(d,v,d,v+r.value.length),m=i.$backMarkers[i.$tagHighlight];i.$tagHighlight&&null!=m&&0!==p.compareRange(m.range)&&(i.removeMarker(i.$tagHighlight),i.$tagHighlight=null),i.$tagHighlight||(i.$tagHighlight=i.addMarker(p,"ace_bracket","text"))}}}),50)}},this.focus=function(){var t=this;setTimeout((function(){t.isFocused()||t.textInput.focus()})),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(t){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",t))},this.onBlur=function(t){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",t))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(t){this.renderer.updateLines(t.start.row,t.start.row==t.end.row?t.end.row:1/0,this.session.$useWrapMode),this._signal("change",t),this.$cursorChange()},this.onTokenizerUpdate=function(t){var i=t.data;this.renderer.updateLines(i.first,i.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var t,i=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(t=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(t=!1),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(t=!1)),i.$highlightLineMarker&&!t)i.removeMarker(i.$highlightLineMarker.id),i.$highlightLineMarker=null;else if(!i.$highlightLineMarker&&t){var n=new l(t.row,t.column,t.row,1/0);n.id=i.addMarker(n,"ace_active-line","screenLine"),i.$highlightLineMarker=n}else t&&(i.$highlightLineMarker.start.row=t.row,i.$highlightLineMarker.end.row=t.row,i.$highlightLineMarker.start.column=t.column,i._signal("changeBackMarker"))},this.onSelectionChange=function(){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var i=this.selection.getRange(),n=this.getSelectionStyle();t.$selectionMarker=t.addMarker(i,"ace_selection",n)}var e=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(e),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var t=this.session,i=this.getSelectionRange();if(!i.isEmpty()&&!i.isMultiLine()){var n=i.start.column,e=i.end.column,r=t.getLine(i.start.row),o=r.substring(n,e);if(!(o.length>5e3)&&/[\w\d]/.test(o)){var s=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o}),a=r.substring(n-1,e+1);if(s.test(a))return s}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(t){this.renderer.updateText(),this._emit("changeMode",t)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var t=this.getSelectedText(),i=this.session.doc.getNewLineCharacter(),n=!1;if(!t&&this.$copyWithEmptySelection){n=!0;for(var e=this.selection.getAllRanges(),r=0;r<e.length;r++){var o=e[r];r&&e[r-1].start.row==o.start.row||(t+=this.session.getLine(o.start.row)+i)}}var s={text:t};return this._signal("copy",s),g.lineMode=!!n&&s.text,s.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(t,i){this.commands.exec("paste",this,{text:t,event:i})},this.$handlePaste=function(t){"string"==typeof t&&(t={text:t}),this._signal("paste",t);var i=t.text,n=i===g.lineMode,e=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)n?e.insert({row:this.selection.lead.row,column:0},i):this.insert(i);else if(n)this.selection.rangeList.ranges.forEach((function(t){e.insert({row:t.start.row,column:0},i)}));else{var r=i.split(/\r\n|\r|\n/),o=this.selection.rangeList.ranges;if(r.length!=o.length||!(2!=r.length||r[0]&&r[1]))return this.commands.exec("insertstring",this,i);for(var s=o.length;s--;){var a=o[s];a.isEmpty()||e.remove(a),e.insert(a.start,r[s])}}},this.execCommand=function(t,i){return this.commands.exec(t,this,i)},this.insert=function(t,i){var n=this.session,e=n.getMode(),r=this.getCursorPosition();if(this.getBehavioursEnabled()&&!i){var o=e.transformAction(n.getState(r.row),"insertion",this,n,t);o&&(t!==o.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),t=o.text)}if("\t"==t&&(t=this.session.getTabString()),this.selection.isEmpty())this.session.getOverwrite()&&-1==t.indexOf("\n")&&((s=new l.fromPoints(r,r)).end.column+=t.length,this.session.remove(s));else{var s=this.getSelectionRange();r=this.session.remove(s),this.clearSelection()}if("\n"==t||"\r\n"==t){var a=n.getLine(r.row);if(r.column>a.search(/\S|$/)){var u=a.substr(r.column).search(/\S|$/);n.doc.removeInLine(r.row,r.column,r.column+u)}}this.clearSelection();var c=r.column,h=n.getState(r.row),f=(a=n.getLine(r.row),e.checkOutdent(h,a,t));if(n.insert(r,t),o&&o.selection&&this.selection.setSelectionRange(2==o.selection.length?new l(r.row,c+o.selection[0],r.row,c+o.selection[1]):new l(r.row+o.selection[0],o.selection[1],r.row+o.selection[2],o.selection[3])),this.$enableAutoIndent){if(n.getDocument().isNewLine(t)){var d=e.getNextLineIndent(h,a.slice(0,r.column),n.getTabString());n.insert({row:r.row+1,column:0},d)}f&&e.autoOutdent(h,n,r.row)}},this.autoIndent=function(){var t,i,n=this.session,e=n.getMode();if(this.selection.isEmpty())t=0,i=n.doc.getLength()-1;else{var r=this.getSelectionRange();t=r.start.row,i=r.end.row}for(var o,s,a,u="",c="",h="",f=n.getTabString(),d=t;d<=i;d++)d>0&&(u=n.getState(d-1),c=n.getLine(d-1),h=e.getNextLineIndent(u,c,f)),o=n.getLine(d),h!==(s=e.$getIndent(o))&&(s.length>0&&(a=new l(d,0,d,s.length),n.remove(a)),h.length>0&&n.insert({row:d,column:0},h)),e.autoOutdent(u,n,d)},this.onTextInput=function(t,i){if(!i)return this.keyBinding.onTextInput(t);this.startOperation({command:{name:"insertstring"}});var n=this.applyComposition.bind(this,t,i);this.selection.rangeCount?this.forEachSelection(n):n(),this.endOperation()},this.applyComposition=function(t,i){var n;(i.extendLeft||i.extendRight)&&((n=this.selection.getRange()).start.column-=i.extendLeft,n.end.column+=i.extendRight,n.start.column<0&&(n.start.row--,n.start.column+=this.session.getLine(n.start.row).length+1),this.selection.setRange(n),t||n.isEmpty()||this.remove()),!t&&this.selection.isEmpty()||this.insert(t,!0),(i.restoreStart||i.restoreEnd)&&((n=this.selection.getRange()).start.column-=i.restoreStart,n.end.column-=i.restoreEnd,this.selection.setRange(n))},this.onCommandKey=function(t,i,n){return this.keyBinding.onCommandKey(t,i,n)},this.setOverwrite=function(t){this.session.setOverwrite(t)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(t){this.setOption("scrollSpeed",t)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(t){this.setOption("dragDelay",t)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(t){this.setOption("selectionStyle",t)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(t){this.setOption("highlightActiveLine",t)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(t){this.setOption("highlightSelectedWord",t)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(t){this.renderer.setAnimatedScroll(t)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(t){this.renderer.setShowInvisibles(t)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(t){this.renderer.setDisplayIndentGuides(t)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(t){this.renderer.setShowPrintMargin(t)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(t){this.renderer.setPrintMarginColumn(t)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(t){this.setOption("readOnly",t)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(t){this.setOption("behavioursEnabled",t)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(t){this.setOption("wrapBehavioursEnabled",t)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(t){this.setOption("showFoldWidgets",t)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(t){this.selection.isEmpty()&&("left"==t?this.selection.selectLeft():this.selection.selectRight());var i=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,e=n.getState(i.start.row),r=n.getMode().transformAction(e,"deletion",this,n,i);if(0===i.end.column){var o=n.getTextRange(i);if("\n"==o[o.length-1]){var s=n.getLine(i.end.row);/^\s+$/.test(s)&&(i.end.column=s.length)}}r&&(i=r)}this.session.remove(i),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var t=this.getSelectionRange();t.start.column==t.end.column&&t.start.row==t.end.row&&(t.end.column=0,t.end.row++),this.session.remove(t),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var t=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(t)},this.transposeLetters=function(){if(this.selection.isEmpty()){var t=this.getCursorPosition(),i=t.column;if(0!==i){var n,e,r=this.session.getLine(t.row);i<r.length?(n=r.charAt(i)+r.charAt(i-1),e=new l(t.row,i-1,t.row,i+1)):(n=r.charAt(i-1)+r.charAt(i-2),e=new l(t.row,i-2,t.row,i)),this.session.replace(e,n),this.session.selection.moveToPosition(e.end)}}},this.toLowerCase=function(){var t=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var i=this.getSelectionRange(),n=this.session.getTextRange(i);this.session.replace(i,n.toLowerCase()),this.selection.setSelectionRange(t)},this.toUpperCase=function(){var t=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var i=this.getSelectionRange(),n=this.session.getTextRange(i);this.session.replace(i,n.toUpperCase()),this.selection.setSelectionRange(t)},this.indent=function(){var t=this.session,i=this.getSelectionRange();if(!(i.start.row<i.end.row)){if(i.start.column<i.end.column){var n=t.getTextRange(i);if(!/^\s+$/.test(n))return h=this.$getSelectedRows(),void t.indentRows(h.first,h.last,"\t")}var e=t.getLine(i.start.row),o=i.start,s=t.getTabSize(),a=t.documentToScreenColumn(o.row,o.column);if(this.session.getUseSoftTabs())var u=r.stringRepeat(" ",c=s-a%s);else{for(var c=a%s;" "==e[i.start.column-1]&&c;)i.start.column--,c--;this.selection.setSelectionRange(i),u="\t"}return this.insert(u)}var h=this.$getSelectedRows();t.indentRows(h.first,h.last,"\t")},this.blockIndent=function(){var t=this.$getSelectedRows();this.session.indentRows(t.first,t.last,"\t")},this.blockOutdent=function(){var t=this.session.getSelection();this.session.outdentRows(t.getRange())},this.sortLines=function(){for(var t=this.$getSelectedRows(),i=this.session,n=[],e=t.first;e<=t.last;e++)n.push(i.getLine(e));n.sort((function(t,i){return t.toLowerCase()<i.toLowerCase()?-1:t.toLowerCase()>i.toLowerCase()?1:0}));var r=new l(0,0,0,0);for(e=t.first;e<=t.last;e++){var o=i.getLine(e);r.start.row=e,r.end.row=e,r.end.column=o.length,i.replace(r,n[e-t.first])}},this.toggleCommentLines=function(){var t=this.session.getState(this.getCursorPosition().row),i=this.$getSelectedRows();this.session.getMode().toggleCommentLines(t,this.session,i.first,i.last)},this.toggleBlockComment=function(){var t=this.getCursorPosition(),i=this.session.getState(t.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(i,this.session,n,t)},this.getNumberAt=function(t,i){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var e=this.session.getLine(t);n.lastIndex<i;){var r=n.exec(e);if(r.index<=i&&r.index+r[0].length>=i)return{value:r[0],start:r.index,end:r.index+r[0].length}}return null},this.modifyNumber=function(t){var i=this.selection.getCursor().row,n=this.selection.getCursor().column,e=new l(i,n-1,i,n),r=this.session.getTextRange(e);if(!isNaN(parseFloat(r))&&isFinite(r)){var o=this.getNumberAt(i,n);if(o){var s=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,a=o.start+o.value.length-s,u=parseFloat(o.value);u*=Math.pow(10,a),u+=t*=s!==o.end&&n<s?Math.pow(10,o.end-n-1):Math.pow(10,o.end-n);var c=(u/=Math.pow(10,a)).toFixed(a),h=new l(i,o.start,i,o.end);this.session.replace(h,c),this.moveCursorTo(i,Math.max(o.start+1,n+c.length-o.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var t=this.selection.getCursor().row,i=this.selection.getCursor().column;this.selection.selectWord();var n=this.getSelectedText(),e=this.selection.getWordRange().start.column,o=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),s=i-e-1;s<0&&(s=0);var a=0,u=0,c=this;n.match(/[A-Za-z0-9_]+/)&&o.forEach((function(i){u=a+i.length,s>=a&&s<=u&&(n=i,c.selection.clearSelection(),c.moveCursorTo(t,a+e),c.selection.selectTo(t,u+e)),a=u}));for(var h,f=this.$toggleWordPairs,l=0;l<f.length;l++)for(var d=f[l],v=0;v<=1;v++){var p=+!v,m=n.match(new RegExp("^\\s?_?("+r.escapeRegExp(d[v])+")\\s?$","i"));m&&n.match(new RegExp("([_]|^|\\s)("+r.escapeRegExp(m[1])+")($|\\s)","g"))&&(h=n.replace(new RegExp(r.escapeRegExp(d[v]),"i"),(function(t){var i=d[p];return t.toUpperCase()==t?i=i.toUpperCase():t.charAt(0).toUpperCase()==t.charAt(0)&&(i=i.substr(0,0)+d[p].charAt(0).toUpperCase()+i.substr(1)),i})),this.insert(h),h="")}},this.removeLines=function(){var t=this.$getSelectedRows();this.session.removeFullLines(t.first,t.last),this.clearSelection()},this.duplicateSelection=function(){var t=this.selection,i=this.session,n=t.getRange(),e=t.isBackwards();if(n.isEmpty()){var r=n.start.row;i.duplicateLines(r,r)}else{var o=e?n.start:n.end,s=i.insert(o,i.getTextRange(n),!1);n.start=o,n.end=s,t.setSelectionRange(n,e)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(t,i,n){return this.session.moveText(t,i,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(t,i){var n,e,r=this.selection;if(!r.inMultiSelectMode||this.inVirtualSelectionMode){var o=r.toOrientedRange();n=this.$getSelectedRows(o),e=this.session.$moveLines(n.first,n.last,i?0:t),i&&-1==t&&(e=0),o.moveBy(e,0),r.fromOrientedRange(o)}else{var s=r.rangeList.ranges;r.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,u=0,c=s.length,h=0;h<c;h++){var f=h;s[h].moveBy(a,0);for(var l=(n=this.$getSelectedRows(s[h])).first,d=n.last;++h<c;){u&&s[h].moveBy(u,0);var v=this.$getSelectedRows(s[h]);if(i&&v.first!=d)break;if(!i&&v.first>d+1)break;d=v.last}for(h--,a=this.session.$moveLines(l,d,i?0:t),i&&-1==t&&(f=h+1);f<=h;)s[f].moveBy(a,0),f++;i||(a=0),u+=a}r.fromOrientedRange(r.ranges[0]),r.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(t){return t=(t||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(t.start.row),last:this.session.getRowFoldEnd(t.end.row)}},this.onCompositionStart=function(t){this.renderer.showComposition(t)},this.onCompositionUpdate=function(t){this.renderer.setCompositionText(t)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(t){return t>=this.getFirstVisibleRow()&&t<=this.getLastVisibleRow()},this.isRowFullyVisible=function(t){return t>=this.renderer.getFirstFullyVisibleRow()&&t<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(t,i){var n=this.renderer,e=this.renderer.layerConfig,r=t*Math.floor(e.height/e.lineHeight);!0===i?this.selection.$moveSelection((function(){this.moveCursorBy(r,0)})):!1===i&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection());var o=n.scrollTop;n.scrollBy(0,r*e.lineHeight),null!=i&&n.scrollCursorIntoView(null,.5),n.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(t){this.renderer.scrollToRow(t)},this.scrollToLine=function(t,i,n,e){this.renderer.scrollToLine(t,i,n,e)},this.centerSelection=function(){var t=this.getSelectionRange(),i={row:Math.floor(t.start.row+(t.end.row-t.start.row)/2),column:Math.floor(t.start.column+(t.end.column-t.start.column)/2)};this.renderer.alignCursor(i,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(t,i){this.selection.moveCursorTo(t,i)},this.moveCursorToPosition=function(t){this.selection.moveCursorToPosition(t)},this.jumpToMatching=function(t,i){var n=this.getCursorPosition(),e=new b(this.session,n.row,n.column),r=e.getCurrentToken(),o=r||e.stepForward();if(o){var s,a,u=!1,c={},h=n.column-o.start,f={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;h<o.value.length&&!u;h++)if(f[o.value[h]])switch(a=f[o.value[h]]+"."+o.type.replace("rparen","lparen"),isNaN(c[a])&&(c[a]=0),o.value[h]){case"(":case"[":case"{":c[a]++;break;case")":case"]":case"}":c[a]--,-1===c[a]&&(s="bracket",u=!0)}}else-1!==o.type.indexOf("tag-name")&&(isNaN(c[o.value])&&(c[o.value]=0),"<"===r.value?c[o.value]++:"</"===r.value&&c[o.value]--,-1===c[o.value]&&(s="tag",u=!0));u||(r=o,o=e.stepForward(),h=0)}while(o&&!u);if(s){var d,v;if("bracket"===s)(d=this.session.getBracketRange(n))||(v=(d=new l(e.getCurrentTokenRow(),e.getCurrentTokenColumn()+h-1,e.getCurrentTokenRow(),e.getCurrentTokenColumn()+h-1)).start,(i||v.row===n.row&&Math.abs(v.column-n.column)<2)&&(d=this.session.getBracketRange(v)));else if("tag"===s){if(!o||-1===o.type.indexOf("tag-name"))return;var p=o.value;if(0===(d=new l(e.getCurrentTokenRow(),e.getCurrentTokenColumn()-2,e.getCurrentTokenRow(),e.getCurrentTokenColumn()-2)).compare(n.row,n.column)){u=!1;do{o=r,(r=e.stepBackward())&&(-1!==r.type.indexOf("tag-close")&&d.setEnd(e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1),o.value===p&&-1!==o.type.indexOf("tag-name")&&("<"===r.value?c[p]++:"</"===r.value&&c[p]--,0===c[p]&&(u=!0)))}while(r&&!u)}o&&o.type.indexOf("tag-name")&&(v=d.start).row==n.row&&Math.abs(v.column-n.column)<2&&(v=d.end)}(v=d&&d.cursor||v)&&(t?d&&i?this.selection.setRange(d):d&&d.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(v.row,v.column):this.selection.moveTo(v.row,v.column))}}},this.gotoLine=function(t,i,n){this.selection.clearSelection(),this.session.unfold({row:t-1,column:i||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(t-1,i||0),this.isRowFullyVisible(t-1)||this.scrollToLine(t-1,!0,n)},this.navigateTo=function(t,i){this.selection.moveTo(t,i)},this.navigateUp=function(t){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var i=this.selection.anchor.getPosition();return this.moveCursorToPosition(i)}this.selection.clearSelection(),this.selection.moveCursorBy(-t||-1,0)},this.navigateDown=function(t){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var i=this.selection.anchor.getPosition();return this.moveCursorToPosition(i)}this.selection.clearSelection(),this.selection.moveCursorBy(t||1,0)},this.navigateLeft=function(t){if(this.selection.isEmpty())for(t=t||1;t--;)this.selection.moveCursorLeft();else{var i=this.getSelectionRange().start;this.moveCursorToPosition(i)}this.clearSelection()},this.navigateRight=function(t){if(this.selection.isEmpty())for(t=t||1;t--;)this.selection.moveCursorRight();else{var i=this.getSelectionRange().end;this.moveCursorToPosition(i)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(t,i){i&&this.$search.set(i);var n=this.$search.find(this.session),e=0;return n?(this.$tryReplace(n,t)&&(e=1),this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end),e):e},this.replaceAll=function(t,i){i&&this.$search.set(i);var n=this.$search.findAll(this.session),e=0;if(!n.length)return e;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=n.length-1;o>=0;--o)this.$tryReplace(n[o],t)&&e++;return this.selection.setSelectionRange(r),e},this.$tryReplace=function(t,i){var n=this.session.getTextRange(t);return null!==(i=this.$search.replace(n,i))?(t.end=this.session.replace(t,i),t):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(t,i,e){i||(i={}),"string"==typeof t||t instanceof RegExp?i.needle=t:"object"==typeof t&&n.mixin(i,t);var r=this.selection.getRange();null==i.needle&&((t=this.session.getTextRange(r)||this.$search.$options.needle)||(r=this.session.getWordRange(r.start.row,r.start.column),t=this.session.getTextRange(r)),this.$search.set({needle:t})),this.$search.set(i),i.start||this.$search.set({start:r});var o=this.$search.find(this.session);return i.preventScroll?o:o?(this.revealRange(o,e),o):(i.backwards?r.start=r.end:r.end=r.start,void this.selection.setRange(r))},this.findNext=function(t,i){this.find({skipCurrent:!0,backwards:!1},t,i)},this.findPrevious=function(t,i){this.find(t,{skipCurrent:!0,backwards:!0},i)},this.revealRange=function(t,i){this.session.unfold(t),this.selection.setSelectionRange(t);var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(t.start,t.end,.5),!1!==i&&this.renderer.animateScrolling(n)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach((function(t){t.destroy()})),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(t){if(t){var i,n=this,e=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var r=this.$scrollAnchor;r.style.cssText="position:absolute",this.container.insertBefore(r,this.container.firstChild);var o=this.on("changeSelection",(function(){e=!0})),s=this.renderer.on("beforeRender",(function(){e&&(i=n.renderer.container.getBoundingClientRect())})),a=this.renderer.on("afterRender",(function(){if(e&&i&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var t=n.renderer,o=t.$cursorLayer.$pixelPos,s=t.layerConfig,a=o.top-s.offset;null!=(e=o.top>=0&&a+i.top<0||!(o.top<s.height&&o.top+i.top+s.lineHeight>window.innerHeight)&&null)&&(r.style.top=a+"px",r.style.left=o.left+"px",r.style.height=s.lineHeight+"px",r.scrollIntoView(e)),e=i=null}}));this.setAutoScrollEditorIntoView=function(t){t||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",o),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",s))}}},this.$resetCursorStyle=function(){var t=this.$cursorStyle||"ace",i=this.renderer.$cursorLayer;i&&(i.setSmoothBlinking(/smooth/.test(t)),i.isBlinking=!this.$readOnly&&"wide"!=t,e.setCssClass(i.element,"ace_slim-cursors",/slim/.test(t)))},this.prompt=function(t,i,n){var e=this;m.loadModule("./ext/prompt",(function(r){r.prompt(e,t,i,n)}))}}.call(y.prototype),m.defineOptions(y.prototype,"editor",{selectionStyle:{set:function(t){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:t})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(t){this.textInput.setReadOnly(t),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(t){this.textInput.setCopyWithEmptySelection(t)},initialValue:!1},cursorStyle:{set:function(){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(t){this.setAutoScrollEditorIntoView(t)}},keyboardHandler:{set:function(t){this.setKeyboardHandler(t)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(t){this.session.setValue(t)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(t){this.setSession(t)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(t){this.renderer.$gutterLayer.setShowLineNumbers(t),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),t&&this.$relativeLineNumbers?w.attach(this):w.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(t){this.$showLineNumbers&&t?w.attach(this):w.detach(this)}},placeholder:{set:function(){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var t=this.session&&(this.renderer.$composition||this.getValue());if(t&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),e.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(t||this.renderer.placeholderNode)!t&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),e.addCssClass(this.container,"ace_hasPlaceholder");var i=e.createElement("div");i.className="ace_placeholder",i.textContent=this.$placeholder||"",this.renderer.placeholderNode=i,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var w={getText:function(t,i){return(Math.abs(t.selection.lead.row-i)||i+1+(i<9?"·":""))+""},getWidth:function(t,i,n){return Math.max(i.toString().length,(n.lastRow+1).toString().length,2)*n.characterWidth},update:function(t,i){i.renderer.$loop.schedule(i.renderer.CHANGE_GUTTER)},attach:function(t){t.renderer.$gutterLayer.$renderer=this,t.on("changeSelection",this.update),this.update(null,t)},detach:function(t){t.renderer.$gutterLayer.$renderer==this&&(t.renderer.$gutterLayer.$renderer=null),t.off("changeSelection",this.update),this.update(null,t)}};i.Editor=y})),ace.define("ace/undomanager",["require","exports","module","ace/range"],(function(t,i){var n=function(){this.$maxRev=0,this.$fromUndo=!1,this.reset()};(function(){this.addSession=function(t){this.$session=t},this.add=function(t,i){this.$fromUndo||t!=this.$lastDelta&&(this.$keepRedoStack||(this.$redoStack.length=0),!1!==i&&this.lastDeltas||(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),t.id=this.$rev=++this.$maxRev),"remove"!=t.action&&"insert"!=t.action||(this.$lastDelta=t),this.lastDeltas.push(t))},this.addSelection=function(t,i){this.selections.push({value:t,rev:i||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(t,i){null==i&&(i=this.$rev+1);for(var n=this.$undoStack,e=n.length;e--;){var r=n[e][0];if(r.id<=t)break;r.id<i&&(r.ignore=!0)}this.lastDeltas=null},this.getSelection=function(t,i){for(var n=this.selections,e=n.length;e--;){var r=n[e];if(r.rev<t)return i&&(r=n[e+1]),r}},this.getRevision=function(){return this.$rev},this.getDeltas=function(t,i){null==i&&(i=this.$rev+1);for(var n=this.$undoStack,e=null,r=0,o=n.length;o--;){var s=n[o][0];if(s.id<i&&!e&&(e=o+1),s.id<=t){r=o+1;break}}return n.slice(r,e)},this.getChangedRanges=function(){},this.getChangedLines=function(){},this.undo=function(t,i){this.lastDeltas=null;var n=this.$undoStack;if(function(t,i){for(var n=i;n--;){var e=t[n];if(e&&!e[0].ignore){for(;n<i-1;){var r=c(t[n],t[n+1]);t[n]=r[0],t[n+1]=r[1],n++}return!0}}}(n,n.length)){t||(t=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var e=n.pop(),r=null;return e&&(r=t.undoChanges(e,i),this.$redoStack.push(e),this.$syncRev()),this.$fromUndo=!1,r}},this.redo=function(t,i){if(this.lastDeltas=null,t||(t=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var n=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);!function(t,i){for(var n=0;n<i.length;n++)for(var e=i[n],r=0;r<e.length;r++)v(t,e[r])}(this.$redoStack,n),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach((function(t){t[0].id=++this.$maxRev}),this)}var e=this.$redoStack.pop(),r=null;return e&&(r=t.redoChanges(e,i),this.$undoStack.push(e),this.$syncRev()),this.$fromUndo=!1,r},this.$syncRev=function(){var t=this.$undoStack,i=t[t.length-1],n=i&&i[0].id||0;this.$redoStackBaseRev=n,this.$rev=n},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(t){null==t&&(t=this.$rev),this.mark=t},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(t){return t?s(t):s(this.$undoStack)+"\n---\n"+s(this.$redoStack)}}).call(n.prototype);var e=t("./range").Range,r=e.comparePoints;function o(t){return{row:t.row,column:t.column}}function s(t){if(t=t||this,Array.isArray(t))return t.map(s).join("\n");var i="";return t.action?(i="insert"==t.action?"+":"-",i+="["+t.lines+"]"):t.value&&(i=Array.isArray(t.value)?t.value.map(a).join("\n"):a(t.value)),t.start&&(i+=a(t)),(t.id||t.rev)&&(i+="\t("+(t.id||t.rev)+")"),i}function a(t){return t.start.row+":"+t.start.column+"=>"+t.end.row+":"+t.end.column}function u(t,i){var n="insert"==t.action,e="insert"==i.action;if(n&&e)if(r(i.start,t.end)>=0)f(i,t,-1);else{if(!(r(i.start,t.start)<=0))return null;f(t,i,1)}else if(n&&!e)if(r(i.start,t.end)>=0)f(i,t,-1);else{if(!(r(i.end,t.start)<=0))return null;f(t,i,-1)}else if(!n&&e)if(r(i.start,t.start)>=0)f(i,t,1);else{if(!(r(i.start,t.start)<=0))return null;f(t,i,1)}else if(!n&&!e)if(r(i.start,t.start)>=0)f(i,t,1);else{if(!(r(i.end,t.start)<=0))return null;f(t,i,-1)}return[i,t]}function c(t,i){for(var n=t.length;n--;)for(var e=0;e<i.length;e++)if(!u(t[n],i[e])){for(;n<t.length;){for(;e--;)u(i[e],t[n]);e=i.length,n++}return[t,i]}return t.selectionBefore=i.selectionBefore=t.selectionAfter=i.selectionAfter=null,[i,t]}function h(t,i){var n="insert"==t.action,o="insert"==i.action;if(n&&o)r(t.start,i.start)<0?f(i,t,1):f(t,i,1);else if(n&&!o)r(t.start,i.end)>=0?f(t,i,-1):(r(t.start,i.start)<=0||f(t,e.fromPoints(i.start,t.start),-1),f(i,t,1));else if(!n&&o)r(i.start,t.end)>=0?f(i,t,-1):(r(i.start,t.start)<=0||f(i,e.fromPoints(t.start,i.start),-1),f(t,i,1));else if(!n&&!o)if(r(i.start,t.end)>=0)f(i,t,-1);else{var s,a;if(!(r(i.end,t.start)<=0))return r(t.start,i.start)<0&&(s=t,t=d(t,i.start)),r(t.end,i.end)>0&&(a=d(t,i.end)),l(i.end,t.start,t.end,-1),a&&!s&&(t.lines=a.lines,t.start=a.start,t.end=a.end,a=t),[i,s,a].filter(Boolean);f(t,i,-1)}return[i,t]}function f(t,i,n){l(t.start,i.start,i.end,n),l(t.end,i.start,i.end,n)}function l(t,i,n,e){t.row==(1==e?i:n).row&&(t.column+=e*(n.column-i.column)),t.row+=e*(n.row-i.row)}function d(t,i){var n=t.lines,e=t.end;t.end=o(i);var r=t.end.row-t.start.row,s=n.splice(r,n.length),a=r?i.column:i.column-t.start.column;return n.push(s[0].substring(0,a)),s[0]=s[0].substr(a),{start:o(i),end:e,lines:s,action:t.action}}function v(t,i){i=function(t){return{start:o(t.start),end:o(t.end),action:t.action,lines:t.lines.slice()}}(i);for(var n=t.length;n--;){for(var e=t[n],r=0;r<e.length;r++){var s=h(e[r],i);i=s[0],2!=s.length&&(s[2]?(e.splice(r+1,1,s[1],s[2]),r++):s[1]||(e.splice(r,1),r--))}e.length||t.splice(n,1)}return t}i.UndoManager=n})),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],(function(t,i){var n=t("../lib/dom"),e=function(t,i){this.element=t,this.canvasHeight=i||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(t){n.translate(this.element,0,-t.firstRowScreen*t.lineHeight%this.canvasHeight-t.offset*this.$offsetCoefficient)},this.pageChanged=function(t,i){return Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)!==Math.floor(i.firstRowScreen*i.lineHeight/this.canvasHeight)},this.computeLineTop=function(t,i,n){var e=Math.floor(i.firstRowScreen*i.lineHeight/this.canvasHeight);return n.documentToScreenRow(t,0)*i.lineHeight-e*this.canvasHeight},this.computeLineHeight=function(t,i,n){return i.lineHeight*n.getRowLineCount(t)},this.getLength=function(){return this.cells.length},this.get=function(t){return this.cells[t]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(t){if(Array.isArray(t)){this.cells.push.apply(this.cells,t);for(var i=n.createFragment(this.element),e=0;e<t.length;e++)i.appendChild(t[e].element);this.element.appendChild(i)}else this.cells.push(t),this.element.appendChild(t.element)},this.unshift=function(t){if(Array.isArray(t)){this.cells.unshift.apply(this.cells,t);for(var i=n.createFragment(this.element),e=0;e<t.length;e++)i.appendChild(t[e].element);this.element.firstChild?this.element.insertBefore(i,this.element.firstChild):this.element.appendChild(i)}else this.cells.unshift(t),this.element.insertAdjacentElement("afterbegin",t.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(t){t&&(t.element.remove(),this.cellCache.push(t))},this.createCell=function(t,i,e,r){var o=this.cellCache.pop();if(!o){var s=n.createElement("div");r&&r(s),this.element.appendChild(s),o={element:s,text:"",row:t}}return o.row=t,o}}).call(e.prototype),i.Lines=e})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],(function(t,i){var n=t("../lib/dom"),e=t("../lib/oop"),r=t("../lib/lang"),o=t("../lib/event_emitter").EventEmitter,s=t("./lines").Lines,a=function(t){this.element=n.createElement("div"),this.element.className="ace_layer ace_gutter-layer",t.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new s(this.element),this.$lines.$offsetCoefficient=1};function u(t){var i=document.createTextNode("");t.appendChild(i);var e=n.createElement("span");return t.appendChild(e),t}(function(){e.implement(this,o),this.setSession=function(t){this.session&&this.session.off("change",this.$updateAnnotations),this.session=t,t&&t.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(t,i){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(t,i)},this.removeGutterDecoration=function(t,i){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(t,i)},this.setAnnotations=function(t){this.$annotations=[];for(var i=0;i<t.length;i++){var n=t[i],e=n.row,o=this.$annotations[e];o||(o=this.$annotations[e]={text:[]});var s=n.text;s=s?r.escapeHTML(s):n.html||"",-1===o.text.indexOf(s)&&o.text.push(s);var a=n.type;"error"==a?o.className=" ace_error":"warning"==a&&" ace_error"!=o.className?o.className=" ace_warning":"info"!=a||o.className||(o.className=" ace_info")}},this.$updateAnnotations=function(t){if(this.$annotations.length){var i=t.start.row,n=t.end.row-i;if(0===n);else if("remove"==t.action)this.$annotations.splice(i,n+1,null);else{var e=new Array(n+1);e.unshift(i,1),this.$annotations.splice.apply(this.$annotations,e)}}},this.update=function(t){this.config=t;var i=this.session,n=t.firstRow,e=Math.min(t.lastRow+t.gutterOffset,i.getLength()-1);this.oldLastRow=e,this.config=t,this.$lines.moveContainer(t),this.$updateCursorRow();for(var r=i.getNextFoldLine(n),o=r?r.start.row:1/0,s=null,a=-1,c=n;;){if(c>o&&(o=(r=i.getNextFoldLine(c=r.end.row+1,r))?r.start.row:1/0),c>e){for(;this.$lines.getLength()>a+1;)this.$lines.pop();break}(s=this.$lines.get(++a))?s.row=c:(s=this.$lines.createCell(c,t,this.session,u),this.$lines.push(s)),this.$renderCell(s,t,r,c),c++}this._signal("afterRender"),this.$updateGutterWidth(t)},this.$updateGutterWidth=function(t){var i=this.session,n=i.gutterRenderer||this.$renderer,e=i.$firstLineNumber,r=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||i.$useWrapMode)&&(r=i.getLength()+e-1);var o=n?n.getWidth(i,r,t):r.toString().length*t.characterWidth,s=this.$padding||this.$computePadding();(o+=s.left+s.right)===this.gutterWidth||isNaN(o)||(this.gutterWidth=o,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",o))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var t=this.session.selection.getCursor();this.$cursorRow!==t.row&&(this.$cursorRow=t.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var t=this.session.selection.cursor.row;if(this.$cursorRow=t,!this.$cursorCell||this.$cursorCell.row!=t){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var i=this.$lines.cells;this.$cursorCell=null;for(var n=0;n<i.length;n++){var e=i[n];if(e.row>=this.$cursorRow){if(e.row>this.$cursorRow){var r=this.session.getFoldLine(this.$cursorRow);if(!(n>0&&r&&r.start.row==i[n-1].row))break;e=i[n-1]}e.element.className="ace_gutter-active-line "+e.element.className,this.$cursorCell=e;break}}}}},this.scrollLines=function(t){var i=this.config;if(this.config=t,this.$updateCursorRow(),this.$lines.pageChanged(i,t))return this.update(t);this.$lines.moveContainer(t);var n=Math.min(t.lastRow+t.gutterOffset,this.session.getLength()-1),e=this.oldLastRow;if(this.oldLastRow=n,!i||e<t.firstRow)return this.update(t);if(n<i.firstRow)return this.update(t);if(i.firstRow<t.firstRow)for(var r=this.session.getFoldedRowCount(i.firstRow,t.firstRow-1);r>0;r--)this.$lines.shift();if(e>n)for(r=this.session.getFoldedRowCount(n+1,e);r>0;r--)this.$lines.pop();t.firstRow<i.firstRow&&this.$lines.unshift(this.$renderLines(t,t.firstRow,i.firstRow-1)),n>e&&this.$lines.push(this.$renderLines(t,e+1,n)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(t)},this.$renderLines=function(t,i,n){for(var e=[],r=i,o=this.session.getNextFoldLine(r),s=o?o.start.row:1/0;r>s&&(s=(o=this.session.getNextFoldLine(r=o.end.row+1,o))?o.start.row:1/0),!(r>n);){var a=this.$lines.createCell(r,t,this.session,u);this.$renderCell(a,t,o,r),e.push(a),r++}return e},this.$renderCell=function(t,i,e,r){var o=t.element,s=this.session,a=o.childNodes[0],u=o.childNodes[1],c=s.$firstLineNumber,h=s.$breakpoints,f=s.$decorations,l=s.gutterRenderer||this.$renderer,d=this.$showFoldWidgets&&s.foldWidgets,v=e?e.start.row:Number.MAX_VALUE,p="ace_gutter-cell ";if(this.$highlightGutterLine&&(r==this.$cursorRow||e&&r<this.$cursorRow&&r>=v&&this.$cursorRow<=e.end.row)&&(p+="ace_gutter-active-line ",this.$cursorCell!=t&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=t)),h[r]&&(p+=h[r]),f[r]&&(p+=f[r]),this.$annotations[r]&&(p+=this.$annotations[r].className),o.className!=p&&(o.className=p),d){var m=d[r];null==m&&(m=d[r]=s.getFoldWidget(r))}m?(p="ace_fold-widget ace_"+m,u.className!=(p+="start"==m&&r==v&&r<e.end.row?" ace_closed":" ace_open")&&(u.className=p),n.setStyle(u.style,"height",i.lineHeight+"px"),n.setStyle(u.style,"display","inline-block")):u&&n.setStyle(u.style,"display","none");var b=(l?l.getText(s,r):r+c).toString();return b!==a.data&&(a.data=b),n.setStyle(t.element.style,"height",this.$lines.computeLineHeight(r,i,s)+"px"),n.setStyle(t.element.style,"top",this.$lines.computeLineTop(r,i,s)+"px"),t.text=b,t},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(t){this.$highlightGutterLine=t},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(t){this.$renderer=!t&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(t){t?n.addCssClass(this.element,"ace_folding-enabled"):n.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=t,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var t=n.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(t.borderLeftWidth)||0)+(parseInt(t.paddingLeft)||0)+1,this.$padding.right=(parseInt(t.borderRightWidth)||0)+(parseInt(t.paddingRight)||0),this.$padding},this.getRegion=function(t){var i=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return t.x<i.left+n.left?"markers":this.$showFoldWidgets&&t.x>n.right-i.right?"foldWidgets":void 0}}).call(a.prototype),i.Gutter=a})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(t,i){var n=t("../range").Range,e=t("../lib/dom"),r=function(t){this.element=e.createElement("div"),this.element.className="ace_layer ace_marker-layer",t.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(t){this.$padding=t},this.setSession=function(t){this.session=t},this.setMarkers=function(t){this.markers=t},this.elt=function(t,i){var n=-1!=this.i&&this.element.childNodes[this.i];n?this.i++:(n=document.createElement("div"),this.element.appendChild(n),this.i=-1),n.style.cssText=i,n.className=t},this.update=function(t){if(t){var i;for(var n in this.config=t,this.i=0,this.markers){var e=this.markers[n];if(e.range){var r=e.range.clipRows(t.firstRow,t.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),e.renderer){var o=this.$getTop(r.start.row,t);e.renderer(i,r,this.$padding+r.start.column*t.characterWidth,o,t)}else"fullLine"==e.type?this.drawFullLineMarker(i,r,e.clazz,t):"screenLine"==e.type?this.drawScreenLineMarker(i,r,e.clazz,t):r.isMultiLine()?"text"==e.type?this.drawTextMarker(i,r,e.clazz,t):this.drawMultiLineMarker(i,r,e.clazz,t):this.drawSingleLineMarker(i,r,e.clazz+" ace_start ace_br15",t)}else e.update(i,this,this.session,t)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(t,i){return(t-i.firstRowScreen)*i.lineHeight},this.drawTextMarker=function(t,i,e,r,o){for(var s=this.session,a=i.start.row,u=i.end.row,c=a,h=0,f=0,l=s.getScreenLastRowColumn(c),d=new n(c,i.start.column,c,f);c<=u;c++)d.start.row=d.end.row=c,d.start.column=c==a?i.start.column:s.getRowWrapIndent(c),d.end.column=l,h=f,f=l,l=c+1<u?s.getScreenLastRowColumn(c+1):c==u?0:i.end.column,this.drawSingleLineMarker(t,d,e+(c==a?" ace_start":"")+" ace_br"+((c==a||c==a+1&&i.start.column?1:0)|(h<f?2:0)|(f>l?4:0)|(c==u?8:0)),r,c==u?0:1,o)},this.drawMultiLineMarker=function(t,i,n,e,r){var o,s=this.$padding,a=e.lineHeight,u=this.$getTop(i.start.row,e),c=s+i.start.column*e.characterWidth;if(r=r||"",this.session.$bidiHandler.isBidiRow(i.start.row)?((o=i.clone()).end.row=o.start.row,o.end.column=this.session.getLine(o.start.row).length,this.drawBidiSingleLineMarker(t,o,n+" ace_br1 ace_start",e,null,r)):this.elt(n+" ace_br1 ace_start","height:"+a+"px;right:0;top:"+u+"px;left:"+c+"px;"+(r||"")),this.session.$bidiHandler.isBidiRow(i.end.row)?((o=i.clone()).start.row=o.end.row,o.start.column=0,this.drawBidiSingleLineMarker(t,o,n+" ace_br12",e,null,r)):(u=this.$getTop(i.end.row,e),this.elt(n+" ace_br12","height:"+a+"px;width:"+i.end.column*e.characterWidth+"px;top:"+u+"px;left:"+s+"px;"+(r||""))),!((a=(i.end.row-i.start.row-1)*e.lineHeight)<=0)){u=this.$getTop(i.start.row+1,e);var h=(i.start.column?1:0)|(i.end.column?0:8);this.elt(n+(h?" ace_br"+h:""),"height:"+a+"px;right:0;top:"+u+"px;left:"+s+"px;"+(r||""))}},this.drawSingleLineMarker=function(t,i,n,e,r,o){if(this.session.$bidiHandler.isBidiRow(i.start.row))return this.drawBidiSingleLineMarker(t,i,n,e,r,o);var s=e.lineHeight,a=(i.end.column+(r||0)-i.start.column)*e.characterWidth,u=this.$getTop(i.start.row,e);this.elt(n,"height:"+s+"px;width:"+a+"px;top:"+u+"px;left:"+(this.$padding+i.start.column*e.characterWidth)+"px;"+(o||""))},this.drawBidiSingleLineMarker=function(t,i,n,e,r,o){var s=e.lineHeight,a=this.$getTop(i.start.row,e),u=this.$padding;this.session.$bidiHandler.getSelections(i.start.column,i.end.column).forEach((function(t){this.elt(n,"height:"+s+"px;width:"+t.width+(r||0)+"px;top:"+a+"px;left:"+(u+t.left)+"px;"+(o||""))}),this)},this.drawFullLineMarker=function(t,i,n,e,r){var o=this.$getTop(i.start.row,e),s=e.lineHeight;i.start.row!=i.end.row&&(s+=this.$getTop(i.end.row,e)-o),this.elt(n,"height:"+s+"px;top:"+o+"px;left:0;right:0;"+(r||""))},this.drawScreenLineMarker=function(t,i,n,e,r){var o=this.$getTop(i.start.row,e);this.elt(n,"height:"+e.lineHeight+"px;top:"+o+"px;left:0;right:0;"+(r||""))}}).call(r.prototype),i.Marker=r})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],(function(t,i){var n=t("../lib/oop"),e=t("../lib/dom"),r=t("../lib/lang"),o=t("./lines").Lines,s=t("../lib/event_emitter").EventEmitter,a=function(t){this.dom=e,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",t.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new o(this.element)};(function(){n.implement(this,s),this.EOF_CHAR="¶",this.EOL_CHAR_LF="¬",this.EOL_CHAR_CRLF="¤",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="—",this.SPACE_CHAR="·",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var t=this.session.doc,i="\n"==t.getNewLineCharacter()&&"windows"!=t.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=i)return this.EOL_CHAR=i,!0},this.setPadding=function(t){this.$padding=t,this.element.style.margin="0 "+t+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(t){this.$fontMetrics=t,this.$fontMetrics.on("changeCharacterSize",function(t){this._signal("changeCharacterSize",t)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(t){this.session=t,t&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(t){return this.showInvisibles!=t&&(this.showInvisibles=t,"string"==typeof t?(this.showSpaces=/tab/i.test(t),this.showTabs=/space/i.test(t),this.showEOL=/eol/i.test(t)):this.showSpaces=this.showTabs=this.showEOL=t,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(t){return this.displayIndentGuides!=t&&(this.displayIndentGuides=t,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var t=this.session.getTabSize();this.tabSize=t;for(var i=this.$tabStrings=[0],n=1;n<t+1;n++)this.showTabs?((e=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",e.textContent=r.stringRepeat(this.TAB_CHAR,n),i.push(e)):i.push(this.dom.createTextNode(r.stringRepeat(" ",n),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var e,o="ace_indent-guide",s=this.showSpaces?" ace_invisible ace_invisible_space":"",a=r.stringRepeat(this.showSpaces?this.SPACE_CHAR:" ",this.tabSize),u=this.showTabs?" ace_invisible ace_invisible_tab":"",c=this.showTabs?r.stringRepeat(this.TAB_CHAR,this.tabSize):a;(e=this.dom.createElement("span")).className=o+s,e.textContent=a,this.$tabStrings[" "]=e,(e=this.dom.createElement("span")).className=o+u,e.textContent=c,this.$tabStrings["\t"]=e}},this.updateLines=function(t,i,n){if(this.config.lastRow!=t.lastRow||this.config.firstRow!=t.firstRow)return this.update(t);this.config=t;for(var e=Math.max(i,t.firstRow),r=Math.min(n,t.lastRow),o=this.element.childNodes,s=0,a=t.firstRow;a<e;a++){if(u=this.session.getFoldLine(a)){if(u.containsRow(e)){e=u.start.row;break}a=u.end.row}s++}for(var u,c=!1,h=(u=this.session.getNextFoldLine(a=e))?u.start.row:1/0;a>h&&(h=(u=this.session.getNextFoldLine(a=u.end.row+1,u))?u.start.row:1/0),!(a>r);){var f=o[s++];if(f){this.dom.removeChildren(f),this.$renderLine(f,a,a==h&&u),c&&(f.style.top=this.$lines.computeLineTop(a,t,this.session)+"px");var l=t.lineHeight*this.session.getRowLength(a)+"px";f.style.height!=l&&(c=!0,f.style.height=l)}a++}if(c)for(;s<this.$lines.cells.length;){var d=this.$lines.cells[s++];d.element.style.top=this.$lines.computeLineTop(d.row,t,this.session)+"px"}},this.scrollLines=function(t){var i=this.config;if(this.config=t,this.$lines.pageChanged(i,t))return this.update(t);this.$lines.moveContainer(t);var n=t.lastRow;if(!i||(i?i.lastRow:-1)<t.firstRow)return this.update(t);if(n<i.firstRow)return this.update(t);if(!i||i.lastRow<t.firstRow)return this.update(t);if(t.lastRow<i.firstRow)return this.update(t);if(i.firstRow<t.firstRow)for(var e=this.session.getFoldedRowCount(i.firstRow,t.firstRow-1);e>0;e--)this.$lines.shift();if(i.lastRow>t.lastRow)for(e=this.session.getFoldedRowCount(t.lastRow+1,i.lastRow);e>0;e--)this.$lines.pop();t.firstRow<i.firstRow&&this.$lines.unshift(this.$renderLinesFragment(t,t.firstRow,i.firstRow-1)),t.lastRow>i.lastRow&&this.$lines.push(this.$renderLinesFragment(t,i.lastRow+1,t.lastRow))},this.$renderLinesFragment=function(t,i,n){for(var r=[],o=i,s=this.session.getNextFoldLine(o),a=s?s.start.row:1/0;o>a&&(a=(s=this.session.getNextFoldLine(o=s.end.row+1,s))?s.start.row:1/0),!(o>n);){var u=this.$lines.createCell(o,t,this.session),c=u.element;this.dom.removeChildren(c),e.setStyle(c.style,"height",this.$lines.computeLineHeight(o,t,this.session)+"px"),e.setStyle(c.style,"top",this.$lines.computeLineTop(o,t,this.session)+"px"),this.$renderLine(c,o,o==a&&s),c.className=this.$useLineGroups()?"ace_line_group":"ace_line",r.push(u),o++}return r},this.update=function(t){this.$lines.moveContainer(t),this.config=t;for(var i=t.firstRow,n=t.lastRow,e=this.$lines;e.getLength();)e.pop();e.push(this.$renderLinesFragment(t,i,n))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(t,i,n,e){for(var o,s=this,a=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,u=this.dom.createFragment(this.element),c=0;o=a.exec(e);){var h=o[1],f=o[2],l=o[3],d=o[4],v=o[5];if(s.showSpaces||!f){var p=c!=o.index?e.slice(c,o.index):"";if(c=o.index+o[0].length,p&&u.appendChild(this.dom.createTextNode(p,this.element)),h){var m=s.session.getScreenTabSize(i+o.index);u.appendChild(s.$tabStrings[m].cloneNode(!0)),i+=m-1}else f?s.showSpaces?((g=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",g.textContent=r.stringRepeat(s.SPACE_CHAR,f.length),u.appendChild(g)):u.appendChild(this.com.createTextNode(f,this.element)):l?((g=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",g.textContent=r.stringRepeat(s.SPACE_CHAR,l.length),u.appendChild(g)):d?(i+=1,(g=this.dom.createElement("span")).style.width=2*s.config.characterWidth+"px",g.className=s.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",g.textContent=s.showSpaces?s.SPACE_CHAR:d,u.appendChild(g)):v&&(i+=1,(g=this.dom.createElement("span")).style.width=2*s.config.characterWidth+"px",g.className="ace_cjk",g.textContent=v,u.appendChild(g))}}if(u.appendChild(this.dom.createTextNode(c?e.slice(c):e,this.element)),this.$textToken[n.type])t.appendChild(u);else{var b="ace_"+n.type.replace(/\./g," ace_"),g=this.dom.createElement("span");"fold"==n.type&&(g.style.width=n.value.length*this.config.characterWidth+"px"),g.className=b,g.appendChild(u),t.appendChild(g)}return i+e.length},this.renderIndentGuide=function(t,i,n){var e=i.search(this.$indentGuideRe);if(e<=0||e>=n)return i;if(" "==i[0]){for(var r=(e-=e%this.tabSize)/this.tabSize,o=0;o<r;o++)t.appendChild(this.$tabStrings[" "].cloneNode(!0));return i.substr(e)}if("\t"==i[0]){for(o=0;o<e;o++)t.appendChild(this.$tabStrings["\t"].cloneNode(!0));return i.substr(e)}return i},this.$createLineElement=function(){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t},this.$renderWrappedLine=function(t,i,n){var e=0,o=0,s=n[0],a=0,u=this.$createLineElement();t.appendChild(u);for(var c=0;c<i.length;c++){var h=i[c],f=h.value;if(0==c&&this.displayIndentGuides){if(e=f.length,!(f=this.renderIndentGuide(u,f,s)))continue;e-=f.length}if(e+f.length<s)a=this.$renderToken(u,a,h,f),e+=f.length;else{for(;e+f.length>=s;)a=this.$renderToken(u,a,h,f.substring(0,s-e)),f=f.substring(s-e),e=s,u=this.$createLineElement(),t.appendChild(u),u.appendChild(this.dom.createTextNode(r.stringRepeat(" ",n.indent),this.element)),a=0,s=n[++o]||Number.MAX_VALUE;0!=f.length&&(e+=f.length,a=this.$renderToken(u,a,h,f))}}n[n.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(u,a,null,"",!0)},this.$renderSimpleLine=function(t,i){var n=0,e=i[0],r=e.value;this.displayIndentGuides&&(r=this.renderIndentGuide(t,r)),r&&(n=this.$renderToken(t,n,e,r));for(var o=1;o<i.length;o++){if(n+(r=(e=i[o]).value).length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(t,n,e,r);n=this.$renderToken(t,n,e,r)}},this.$renderOverflowMessage=function(t,i,n,e,r){n&&this.$renderToken(t,i,n,e.slice(0,this.MAX_LINE_LENGTH-i));var o=this.dom.createElement("span");o.className="ace_inline_button ace_keyword ace_toggle_wrap",o.textContent=r?"<hide>":"<click to see more...>",t.appendChild(o)},this.$renderLine=function(t,i,n){if(n||0==n||(n=this.session.getFoldLine(i)),n)var e=this.$getFoldLineTokens(i,n);else e=this.session.getTokens(i);var r=t;if(e.length){var o=this.session.getRowSplitData(i);o&&o.length?(this.$renderWrappedLine(t,e,o),r=t.lastChild):(r=t,this.$useLineGroups()&&(r=this.$createLineElement(),t.appendChild(r)),this.$renderSimpleLine(r,e))}else this.$useLineGroups()&&(r=this.$createLineElement(),t.appendChild(r));if(this.showEOL&&r){n&&(i=n.end.row);var s=this.dom.createElement("span");s.className="ace_invisible ace_invisible_eol",s.textContent=i==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,r.appendChild(s)}},this.$getFoldLineTokens=function(t,i){var n=this.session,e=[],r=n.getTokens(t);return i.walk((function(t,i,o,s,a){null!=t?e.push({type:"fold",value:t}):(a&&(r=n.getTokens(i)),r.length&&function(t,i,n){for(var r=0,o=0;o+t[r].value.length<i;)if(o+=t[r].value.length,++r==t.length)return;for(o!=i&&((s=t[r].value.substring(i-o)).length>n-i&&(s=s.substring(0,n-i)),e.push({type:t[r].type,value:s}),o=i+s.length,r+=1);o<n&&r<t.length;){var s;e.push((s=t[r].value).length+o>n?{type:t[r].type,value:s.substring(0,n-o)}:t[r]),o+=s.length,r+=1}}(r,s,o))}),i.end.row,this.session.getLine(i.end.row).length),e},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(a.prototype),i.Text=a})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(t,i){var n=t("../lib/dom"),e=function(t){this.element=n.createElement("div"),this.element.className="ace_layer ace_cursor-layer",t.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),n.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(t){for(var i=this.cursors,e=i.length;e--;)n.setStyle(i[e].style,"opacity",t?"":"0")},this.$startCssAnimation=function(){for(var t=this.cursors,i=t.length;i--;)t[i].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&n.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){this.$isAnimating=!1,n.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(t){this.$padding=t},this.setSession=function(t){this.session=t},this.setBlinking=function(t){t!=this.isBlinking&&(this.isBlinking=t,this.restartTimer())},this.setBlinkInterval=function(t){t!=this.blinkInterval&&(this.blinkInterval=t,this.restartTimer())},this.setSmoothBlinking=function(t){t!=this.smoothBlinking&&(this.smoothBlinking=t,n.setCssClass(this.element,"ace_smooth-blinking",t),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var t=n.createElement("div");return t.className="ace_cursor",this.element.appendChild(t),this.cursors.push(t),t},this.removeCursor=function(){if(this.cursors.length>1){var t=this.cursors.pop();return t.parentNode.removeChild(t),t}},this.hideCursor=function(){this.isVisible=!1,n.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,n.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var t=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,n.removeCssClass(this.element,"ace_smooth-blinking")),t(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&n.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),n.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var i=function(){this.timeoutId=setTimeout((function(){t(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){t(!0),i()}),this.blinkInterval),i()}else this.$stopCssAnimation()},this.getPixelPosition=function(t,i){if(!this.config||!this.session)return{left:0,top:0};t||(t=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(t);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,t.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),top:(n.row-(i?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(t,i){return t.top>=0&&t.top<i.maxHeight},this.update=function(t){this.config=t;var i=this.session.$selectionMarkers,e=0,r=0;void 0!==i&&0!==i.length||(i=[{cursor:null}]),e=0;for(var o=i.length;e<o;e++){var s=this.getPixelPosition(i[e].cursor,!0);if(!((s.top>t.height+t.offset||s.top<0)&&e>1)){var a=this.cursors[r++]||this.addCursor(),u=a.style;this.drawCursor?this.drawCursor(a,s,t,i[e],this.session):this.isCursorInView(s,t)?(n.setStyle(u,"display","block"),n.translate(a,s.left,s.top),n.setStyle(u,"width",Math.round(t.characterWidth)+"px"),n.setStyle(u,"height",t.lineHeight+"px")):n.setStyle(u,"display","none")}}for(;this.cursors.length>r;)this.removeCursor();var c=this.session.getOverwrite();this.$setOverwrite(c),this.$pixelPos=s,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(t){t!=this.overwrite&&(this.overwrite=t,t?n.addCssClass(this.element,"ace_overwrite-cursors"):n.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(e.prototype),i.Cursor=e})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(t,i){var n=t("./lib/oop"),e=t("./lib/dom"),r=t("./lib/event"),o=t("./lib/event_emitter").EventEmitter,s=32768,a=function(t){this.element=e.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=e.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent=" ",this.element.appendChild(this.inner),t.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,r.addListener(this.element,"scroll",this.onScroll.bind(this)),r.addListener(this.element,"mousedown",r.preventDefault)};(function(){n.implement(this,o),this.setVisible=function(t){this.element.style.display=t?"":"none",this.isVisible=t,this.coeff=1}}).call(a.prototype);var u=function(t,i){a.call(this,t),this.scrollTop=0,this.scrollHeight=0,i.$scrollbarWidth=this.width=e.scrollbarWidth(t.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};n.inherits(u,a),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var t=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-t)/(this.coeff-t)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(t){this.element.style.height=t+"px"},this.setInnerHeight=this.setScrollHeight=function(t){this.scrollHeight=t,t>s?(this.coeff=s/t,t=s):1!=this.coeff&&(this.coeff=1),this.inner.style.height=t+"px"},this.setScrollTop=function(t){this.scrollTop!=t&&(this.skipEvent=!0,this.scrollTop=t,this.element.scrollTop=t*this.coeff)}}.call(u.prototype);var c=function(t,i){a.call(this,t),this.scrollLeft=0,this.height=i.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};n.inherits(c,a),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(t){this.element.style.width=t+"px"},this.setInnerWidth=function(t){this.inner.style.width=t+"px"},this.setScrollWidth=function(t){this.inner.style.width=t+"px"},this.setScrollLeft=function(t){this.scrollLeft!=t&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=t)}}.call(c.prototype),i.ScrollBar=u,i.ScrollBarV=u,i.ScrollBarH=c,i.VScrollBar=u,i.HScrollBar=c})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(t,i){var n=t("./lib/event"),e=function(t,i){this.onRender=t,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=i||window;var e=this;this._flush=function(){e.pending=!1;var t=e.changes;if(t&&(n.blockIdle(100),e.changes=0,e.onRender(t)),e.changes){if(e.$recursionLimit--<0)return;e.schedule()}else e.$recursionLimit=2}};(function(){this.schedule=function(t){this.changes=this.changes|t,this.changes&&!this.pending&&(n.nextFrame(this._flush),this.pending=!0)},this.clear=function(){var t=this.changes;return this.changes=0,t}}).call(e.prototype),i.RenderLoop=e})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],(function(t,i){var n=t("../lib/oop"),e=t("../lib/dom"),r=t("../lib/lang"),o=t("../lib/event"),s=t("../lib/useragent"),a=t("../lib/event_emitter").EventEmitter,u=256,c="function"==typeof ResizeObserver,h=200,f=i.FontMetrics=function(t){this.el=e.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=e.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=e.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),t.appendChild(this.el),this.$measureNode.textContent=r.stringRepeat("X",u),this.$characterSize={width:0,height:0},c?this.$addObserver():this.checkForSizeChanges()};(function(){n.implement(this,a),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(t,i){t.width=t.height="auto",t.left=t.top="0px",t.visibility="hidden",t.position="absolute",t.whiteSpace="pre",s.isIE<8?t["font-family"]="inherit":t.font="inherit",t.overflow=i?"hidden":"visible"},this.checkForSizeChanges=function(t){if(void 0===t&&(t=this.$measureSizes()),t&&(this.$characterSize.width!==t.width||this.$characterSize.height!==t.height)){this.$measureNode.style.fontWeight="bold";var i=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=t,this.charSizes=Object.create(null),this.allowBoldFonts=i&&i.width===t.width&&i.height===t.height,this._emit("changeCharacterSize",{data:t})}},this.$addObserver=function(){var t=this;this.$observer=new window.ResizeObserver((function(){t.checkForSizeChanges()})),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var t=this;return this.$pollSizeChangesTimer=o.onIdle((function i(){t.checkForSizeChanges(),o.onIdle(i,500)}),500)},this.setPolling=function(t){t?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(t){var i={height:(t||this.$measureNode).clientHeight,width:(t||this.$measureNode).clientWidth/u};return 0===i.width||0===i.height?null:i},this.$measureCharWidth=function(t){return this.$main.textContent=r.stringRepeat(t,u),this.$main.getBoundingClientRect().width/u},this.getCharacterWidth=function(t){var i=this.charSizes[t];return void 0===i&&(i=this.charSizes[t]=this.$measureCharWidth(t)/this.$characterSize.width),i},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function t(i){return i&&i.parentElement?(window.getComputedStyle(i).zoom||1)*t(i.parentElement):1},this.$initTransformMeasureNodes=function(){var t=function(t,i){return["div",{style:"position: absolute;top:"+t+"px;left:"+i+"px;"}]};this.els=e.buildDom([t(0,0),t(h,0),t(0,h),t(h,h)],this.el)},this.transformCoordinates=function(t,i){function n(t,i,n){var e=t[1]*i[0]-t[0]*i[1];return[(-i[1]*n[0]+i[0]*n[1])/e,(+t[1]*n[0]-t[0]*n[1])/e]}function e(t,i){return[t[0]-i[0],t[1]-i[1]]}function r(t,i){return[t[0]+i[0],t[1]+i[1]]}function o(t,i){return[t*i[0],t*i[1]]}function s(t){var i=t.getBoundingClientRect();return[i.left,i.top]}t&&(t=o(1/this.$getZoom(this.el),t)),this.els||this.$initTransformMeasureNodes();var a=s(this.els[0]),u=s(this.els[1]),c=s(this.els[2]),f=s(this.els[3]),l=n(e(f,u),e(f,c),e(r(u,c),r(f,a))),d=o(1+l[0],e(u,a)),v=o(1+l[1],e(c,a));if(i){var p=i,m=l[0]*p[0]/h+l[1]*p[1]/h+1,b=r(o(p[0],d),o(p[1],v));return r(o(1/m/h,b),a)}var g=e(t,a),y=n(e(d,o(l[0],g)),e(v,o(l[1],g)),g);return o(h,y)}}).call(f.prototype)})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/lib/useragent"],(function(t,i){var n=t("./lib/oop"),e=t("./lib/dom"),r=t("./config"),o=t("./layer/gutter").Gutter,s=t("./layer/marker").Marker,a=t("./layer/text").Text,u=t("./layer/cursor").Cursor,c=t("./scrollbar").HScrollBar,h=t("./scrollbar").VScrollBar,f=t("./renderloop").RenderLoop,l=t("./layer/font_metrics").FontMetrics,d=t("./lib/event_emitter").EventEmitter,v='.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;padding: 0;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;font-variant-ligatures: no-common-ligatures;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_error_bracket {position: absolute;border-bottom: 1px solid #DE5555;border-radius: 0;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);transform-origin: left;white-space: pre;opacity: 0.7;margin: 0 10px;}',p=t("./lib/useragent"),m=p.isIE;e.importCssString(v,"ace_editor.css",!1);var b=function(t,i){var n=this;this.container=t||e.createElement("div"),e.addCssClass(this.container,"ace_editor"),e.HI_DPI&&e.addCssClass(this.container,"ace_hidpi"),this.setTheme(i),null==r.get("useStrictCSP")&&r.set("useStrictCSP",!1),this.$gutter=e.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=e.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=e.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new o(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new s(this.content);var d=this.$textLayer=new a(this.content);this.canvas=d.element,this.$markerFront=new s(this.content),this.$cursorLayer=new u(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new h(this.container,this),this.scrollBarH=new c(this.container,this),this.scrollBarV.on("scroll",(function(t){n.$scrollAnimation||n.session.setScrollTop(t.data-n.scrollMargin.top)})),this.scrollBarH.on("scroll",(function(t){n.$scrollAnimation||n.session.setScrollLeft(t.data-n.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new l(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",(function(t){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",t)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!p.isIOS,this.$loop=new f(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),r.resetOptions(this),r._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,n.implement(this,d),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),e.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(t){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=t,t&&this.scrollMargin.top&&t.getScrollTop()<=0&&t.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(t),this.$markerBack.setSession(t),this.$markerFront.setSession(t),this.$gutterLayer.setSession(t),this.$textLayer.setSession(t),t&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(t,i,n){if(void 0===i&&(i=1/0),this.$changedLines?(this.$changedLines.firstRow>t&&(this.$changedLines.firstRow=t),this.$changedLines.lastRow<i&&(this.$changedLines.lastRow=i)):this.$changedLines={firstRow:t,lastRow:i},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(t){t?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(t,i,n,e){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=t?1:0;var r=this.container;e||(e=r.clientHeight||r.scrollHeight),n||(n=r.clientWidth||r.scrollWidth);var o=this.$updateCachedSize(t,i,n,e);if(!this.$size.scrollerHeight||!n&&!e)return this.resizing=0;t&&(this.$gutterLayer.$padding=null),t?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(t,i,n,r){var o=0,s=this.$size,a={width:s.width,height:s.height,scrollerHeight:s.scrollerHeight,scrollerWidth:s.scrollerWidth};if((r-=this.$extraHeight||0)&&(t||s.height!=r)&&(s.height=r,o|=this.CHANGE_SIZE,s.scrollerHeight=s.height,this.$horizScroll&&(s.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",o|=this.CHANGE_SCROLL),n&&(t||s.width!=n)){o|=this.CHANGE_SIZE,s.width=n,null==i&&(i=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=i,e.setStyle(this.scrollBarH.element.style,"left",i+"px"),e.setStyle(this.scroller.style,"left",i+this.margin.left+"px"),s.scrollerWidth=Math.max(0,n-i-this.scrollBarV.getWidth()-this.margin.h),e.setStyle(this.$gutter.style,"left",this.margin.left+"px");var u=this.scrollBarV.getWidth()+"px";e.setStyle(this.scrollBarH.element.style,"right",u),e.setStyle(this.scroller.style,"right",u),e.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||t)&&(o|=this.CHANGE_FULL)}return s.$dirty=!n||!r,o&&this._signal("resize",a),o},this.onGutterResize=function(t){var i=this.$showGutter?t:0;i!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,i,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var t=Math.floor((this.$size.scrollerWidth-2*this.$padding)/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(t){this.setOption("animatedScroll",t)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(t){this.setOption("showInvisibles",t),this.session.$bidiHandler.setShowInvisibles(t)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(t){this.setOption("displayIndentGuides",t)},this.setShowPrintMargin=function(t){this.setOption("showPrintMargin",t)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(t){this.setOption("printMarginColumn",t)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(t){return this.setOption("showGutter",t)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},this.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var t=e.createElement("div");t.className="ace_layer ace_print-margin-layer",this.$printMarginEl=e.createElement("div"),this.$printMarginEl.className="ace_print-margin",t.appendChild(this.$printMarginEl),this.content.insertBefore(t,this.content.firstChild)}var i=this.$printMarginEl.style;i.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",i.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var t=this.textarea.style,i=this.$composition;if(this.$keepTextAreaAtCursor||i){var n=this.$cursorLayer.$pixelPos;if(n){i&&i.markerRange&&(n=this.$cursorLayer.getPixelPosition(i.markerRange.start,!0));var r=this.layerConfig,o=n.top,s=n.left,a=i&&i.useTextareaForIME?this.lineHeight:m?0:1;if((o-=r.offset)<0||o>r.height-a)e.translate(this.textarea,0,0);else{var u=1,c=this.$size.height-a;i?i.useTextareaForIME?u=this.characterWidth*this.session.$getStringScreenWidth(this.textarea.value)[0]:o+=this.lineHeight+2:o+=this.lineHeight,(s-=this.scrollLeft)>this.$size.scrollerWidth-u&&(s=this.$size.scrollerWidth-u),s+=this.gutterWidth+this.margin.left,e.setStyle(t,"height",a+"px"),e.setStyle(t,"width",u+"px"),e.translate(this.textarea,Math.min(s,this.$size.scrollerWidth-u),Math.min(o,c))}}}else e.translate(this.textarea,-100,0)}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var t=this.layerConfig,i=t.lastRow;return this.session.documentToScreenRow(i,0)*t.lineHeight-this.session.getScrollTop()>t.height-t.lineHeight?i-1:i},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(t){this.$padding=t,this.$textLayer.setPadding(t),this.$cursorLayer.setPadding(t),this.$markerFront.setPadding(t),this.$markerBack.setPadding(t),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(t,i,n,e){var r=this.scrollMargin;r.top=0|t,r.bottom=0|i,r.right=0|e,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()},this.setMargin=function(t,i,n,e){var r=this.margin;r.top=0|t,r.bottom=0|i,r.right=0|e,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(t){this.setOption("hScrollBarAlwaysVisible",t)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(t){this.setOption("vScrollBarAlwaysVisible",t)},this.$updateScrollBarV=function(){var t=this.layerConfig.maxHeight,i=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&this.scrollTop>(t-=(i-this.lineHeight)*this.$scrollPastEnd)-i&&(t=this.scrollTop+i,this.scrollBarV.scrollTop=null),this.scrollBarV.setScrollHeight(t+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(t,i){if(this.$changes&&(t|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(t||i)){if(this.$size.$dirty)return this.$changes|=t,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",t),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var n=this.layerConfig;if(t&this.CHANGE_FULL||t&this.CHANGE_SIZE||t&this.CHANGE_TEXT||t&this.CHANGE_LINES||t&this.CHANGE_SCROLL||t&this.CHANGE_H_SCROLL){if(t|=this.$computeLayerConfig()|this.$loop.clear(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var r=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;r>0&&(this.scrollTop=r,t|=this.CHANGE_SCROLL,t|=this.$computeLayerConfig()|this.$loop.clear())}n=this.layerConfig,this.$updateScrollBarV(),t&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),e.translate(this.content,-this.scrollLeft,-n.offset);var o=n.minHeight+"px";e.setStyle(this.content.style,"width",n.width+2*this.$padding+"px"),e.setStyle(this.content.style,"height",o)}if(t&this.CHANGE_H_SCROLL&&(e.translate(this.content,-this.scrollLeft,-n.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),t&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",t);if(t&this.CHANGE_SCROLL)return this.$changedLines=null,t&this.CHANGE_TEXT||t&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&(t&this.CHANGE_GUTTER||t&this.CHANGE_LINES?this.$gutterLayer.update(n):this.$gutterLayer.scrollLines(n)),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",t);t&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):t&this.CHANGE_LINES?(this.$updateLines()||t&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):t&this.CHANGE_TEXT||t&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(n):t&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(n),t&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor()),t&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),t&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal("afterRender",t)}else this.$changes|=t},this.$autosize=function(){var t=this.session.getScreenLength()*this.lineHeight,i=this.$maxLines*this.lineHeight,n=Math.min(i,Math.max((this.$minLines||1)*this.lineHeight,t))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var e=!(n<=2*this.lineHeight)&&t>i;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||e!=this.$vScroll){e!=this.$vScroll&&(this.$vScroll=e,this.scrollBarV.setVisible(e));var r=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,r,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var t=this.session,i=this.$size,n=i.height<=2*this.lineHeight,e=this.session.getScreenLength()*this.lineHeight,r=this.$getLongestLine(),o=!n&&(this.$hScrollBarAlwaysVisible||i.scrollerWidth-r-2*this.$padding<0),s=this.$horizScroll!==o;s&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var a=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var u=i.scrollerHeight+this.lineHeight,c=!this.$maxLines&&this.$scrollPastEnd?(i.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;e+=c;var h=this.scrollMargin;this.session.setScrollTop(Math.max(-h.top,Math.min(this.scrollTop,e-i.scrollerHeight+h.bottom))),this.session.setScrollLeft(Math.max(-h.left,Math.min(this.scrollLeft,r+2*this.$padding-i.scrollerWidth+h.right)));var f=!n&&(this.$vScrollBarAlwaysVisible||i.scrollerHeight-e+c<0||this.scrollTop>h.top),l=a!==f;l&&(this.$vScroll=f,this.scrollBarV.setVisible(f));var d,v,p=this.scrollTop%this.lineHeight,m=Math.ceil(u/this.lineHeight)-1,b=Math.max(0,Math.round((this.scrollTop-p)/this.lineHeight)),g=b+m,y=this.lineHeight;b=t.screenToDocumentRow(b,0);var w=t.getFoldLine(b);w&&(b=w.start.row),d=t.documentToScreenRow(b,0),v=t.getRowLength(b)*y,g=Math.min(t.screenToDocumentRow(g,0),t.getLength()-1),u=i.scrollerHeight+t.getRowLength(g)*y+v,p=this.scrollTop-d*y;var x=0;return(this.layerConfig.width!=r||s)&&(x=this.CHANGE_H_SCROLL),(s||l)&&(x|=this.$updateCachedSize(!0,this.gutterWidth,i.width,i.height),this._signal("scrollbarVisibilityChanged"),l&&(r=this.$getLongestLine())),this.layerConfig={width:r,padding:this.$padding,firstRow:b,firstRowScreen:d,lastRow:g,lineHeight:y,characterWidth:this.characterWidth,minHeight:u,maxHeight:e,offset:p,gutterOffset:y?Math.max(0,Math.ceil((p+i.height-i.scrollerHeight)/y)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(r-this.$padding),x},this.$updateLines=function(){if(this.$changedLines){var t=this.$changedLines.firstRow,i=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(t>n.lastRow+1||i<n.firstRow))return i===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,t,i),!0)}},this.$getLongestLine=function(){var t=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(t+=1),this.$textLayer&&t>this.$textLayer.MAX_LINE_LENGTH&&(t=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(t*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(t,i){this.$gutterLayer.addGutterDecoration(t,i)},this.removeGutterDecoration=function(t,i){this.$gutterLayer.removeGutterDecoration(t,i)},this.updateBreakpoints=function(){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(t){this.$gutterLayer.setAnnotations(t),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(t,i,n){this.scrollCursorIntoView(t,n),this.scrollCursorIntoView(i,n)},this.scrollCursorIntoView=function(t,i,n){if(0!==this.$size.scrollerHeight){var e=this.$cursorLayer.getPixelPosition(t),r=e.left,o=e.top,s=n&&n.top||0,a=n&&n.bottom||0,u=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;u+s>o?(i&&u+s>o+this.lineHeight&&(o-=i*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):u+this.$size.scrollerHeight-a<o+this.lineHeight&&(i&&u+this.$size.scrollerHeight-a<o-this.lineHeight&&(o+=i*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight+a-this.$size.scrollerHeight));var c=this.scrollLeft;c>r?(r<this.$padding+2*this.layerConfig.characterWidth&&(r=-this.scrollMargin.left),this.session.setScrollLeft(r)):c+this.$size.scrollerWidth<r+this.characterWidth?this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&r-c<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(t){this.session.setScrollTop(t*this.lineHeight)},this.alignCursor=function(t,i){"number"==typeof t&&(t={row:t,column:0});var n=this.$cursorLayer.getPixelPosition(t).top-(this.$size.scrollerHeight-this.lineHeight)*(i||0);return this.session.setScrollTop(n),n},this.STEPS=8,this.$calcSteps=function(t,i){var n,e=0,r=this.STEPS,o=[];for(e=0;e<r;++e)o.push((n=t,(i-t)*(Math.pow(e/this.STEPS-1,3)+1)+n));return o},this.scrollToLine=function(t,i,n,e){var r=this.$cursorLayer.getPixelPosition({row:t,column:0}).top;i&&(r-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(r),!1!==n&&this.animateScrolling(o,e)},this.animateScrolling=function(t,i){var n=this.scrollTop;if(this.$animatedScroll){var e=this;if(t!=n){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(t=r[0])==n)return}var o=e.$calcSteps(t,n);this.$scrollAnimation={from:t,to:n,steps:o},clearInterval(this.$timer),e.session.setScrollTop(o.shift()),e.session.$scrollTop=n,this.$timer=setInterval((function(){if(!e.session)return clearInterval(e.$timer);o.length?(e.session.setScrollTop(o.shift()),e.session.$scrollTop=n):null!=n?(e.session.$scrollTop=-1,e.session.setScrollTop(n),n=null):(e.$timer=clearInterval(e.$timer),e.$scrollAnimation=null,i&&i())}),10)}}},this.scrollToY=function(t){this.scrollTop!==t&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=t)},this.scrollToX=function(t){this.scrollLeft!==t&&(this.scrollLeft=t),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(t,i){this.session.setScrollTop(i),this.session.setScrollLeft(t)},this.scrollBy=function(t,i){i&&this.session.setScrollTop(this.session.getScrollTop()+i),t&&this.session.setScrollLeft(this.session.getScrollLeft()+t)},this.isScrollableBy=function(t,i){return i<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||i>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||t<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||t>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0},this.pixelToScreenCoordinates=function(t,i){var n;if(this.$hasCssTransforms){n={top:0,left:0};var e=this.$fontMetrics.transformCoordinates([t,i]);t=e[1]-this.gutterWidth-this.margin.left,i=e[0]}else n=this.scroller.getBoundingClientRect();var r=t+this.scrollLeft-n.left-this.$padding,o=r/this.characterWidth,s=Math.floor((i+this.scrollTop-n.top)/this.lineHeight),a=this.$blockCursor?Math.floor(o):Math.round(o);return{row:s,column:a,side:o-a>0?1:-1,offsetX:r}},this.screenToTextCoordinates=function(t,i){var n;if(this.$hasCssTransforms){n={top:0,left:0};var e=this.$fontMetrics.transformCoordinates([t,i]);t=e[1]-this.gutterWidth-this.margin.left,i=e[0]}else n=this.scroller.getBoundingClientRect();var r=t+this.scrollLeft-n.left-this.$padding,o=r/this.characterWidth,s=this.$blockCursor?Math.floor(o):Math.round(o),a=Math.floor((i+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(a,Math.max(s,0),r)},this.textToScreenCoordinates=function(t,i){var n=this.scroller.getBoundingClientRect(),e=this.session.documentToScreenPosition(t,i),r=this.$padding+(this.session.$bidiHandler.isBidiRow(e.row,t)?this.session.$bidiHandler.getPosLeft(e.column):Math.round(e.column*this.characterWidth));return{pageX:n.left+r-this.scrollLeft,pageY:n.top+e.row*this.lineHeight-this.scrollTop}},this.visualizeFocus=function(){e.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){e.removeCssClass(this.container,"ace_focus")},this.showComposition=function(t){this.$composition=t,t.cssText||(t.cssText=this.textarea.style.cssText),null==t.useTextareaForIME&&(t.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(e.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):t.markerId=this.session.addMarker(t.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(t){var i=this.session.selection.cursor;this.addToken(t,"composition_placeholder",i.row,i.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),e.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var t=this.session.selection.cursor;this.removeExtraToken(t.row,t.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},this.addToken=function(t,i,n,e){var r=this.session;r.bgTokenizer.lines[n]=null;var o={type:i,value:t},s=r.getTokens(n);if(null==e)s.push(o);else for(var a=0,u=0;u<s.length;u++){var c=s[u];if(e<=(a+=c.value.length)){var h=c.value.length-(a-e),f=c.value.slice(0,h),l=c.value.slice(h);s.splice(u,1,{type:c.type,value:f},o,{type:c.type,value:l});break}}this.updateLines(n,n)},this.removeExtraToken=function(t){this.updateLines(t,t)},this.setTheme=function(t,i){var n=this;function o(r){if(n.$themeId!=t)return i&&i();if(!r||!r.cssClass)throw new Error("couldn't load module "+t+" or it didn't call define");r.$id&&(n.$themeId=r.$id),e.importCssString(r.cssText,r.cssClass,n.container),n.theme&&e.removeCssClass(n.container,n.theme.cssClass);var o="padding"in r?r.padding:"padding"in(n.theme||{})?4:n.$padding;n.$padding&&o!=n.$padding&&n.setPadding(o),n.$theme=r.cssClass,n.theme=r,e.addCssClass(n.container,r.cssClass),e.setCssClass(n.container,"ace_dark",r.isDark),n.$size&&(n.$size.width=0,n.$updateSizeAsync()),n._dispatchEvent("themeLoaded",{theme:r}),i&&i()}this.$themeId=t,n._dispatchEvent("themeChange",{theme:t}),t&&"string"!=typeof t?o(t):r.loadModule(["theme",t||this.$options.theme.initialValue],o)},this.getTheme=function(){return this.$themeId},this.setStyle=function(t,i){e.setCssClass(this.container,t,!1!==i)},this.unsetStyle=function(t){e.removeCssClass(this.container,t)},this.setCursorStyle=function(t){e.setStyle(this.scroller.style,"cursor",t)},this.setMouseCursor=function(t){e.setStyle(this.scroller.style,"cursor",t)},this.attachToShadowRoot=function(){e.importCssString(v,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""}}).call(b.prototype),r.defineOptions(b.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(t){this.$textLayer.setShowInvisibles(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(t){"number"==typeof t&&(this.$printMarginColumn=t),this.$showPrintMargin=!!t,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(t){this.$gutter.style.display=t?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(t){e.setCssClass(this.$gutter,"ace_fade-fold-widgets",t)},initialValue:!1},showFoldWidgets:{set:function(t){this.$gutterLayer.setShowFoldWidgets(t),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(t){this.$textLayer.setDisplayIndentGuides(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(t){this.$gutterLayer.setHighlightGutterLine(t),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(t){"number"==typeof t&&(t+="px"),this.container.style.fontSize=t,this.updateFontSize()},initialValue:12},fontFamily:{set:function(t){this.container.style.fontFamily=t,this.updateFontSize()}},maxLines:{set:function(){this.updateFull()}},minLines:{set:function(){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(t){this.$scrollPastEnd!=(t=+t||0)&&(this.$scrollPastEnd=t,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(t){this.$gutterLayer.$fixedWidth=!!t,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(t){this.setTheme(t)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!p.isMobile&&!p.isIE}}),i.VirtualRenderer=b})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(t,i){var n=t("../lib/oop"),e=t("../lib/net"),r=t("../lib/event_emitter").EventEmitter,o=t("../config");function s(t){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(o.get("loadWorkerFromBlob")){var i=function(t){var i="importScripts('"+e.qualifyURL(t)+"');";try{return new Blob([i],{type:"application/javascript"})}catch(t){var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return n.append(i),n.getBlob("application/javascript")}}(t),n=(window.URL||window.webkitURL).createObjectURL(i);return new Worker(n)}return new Worker(t)}var a=function(t){t.postMessage||(t=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=t,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){n.implement(this,r),this.$createWorkerFromOldConfig=function(i,n,e,r,a){if(t.nameToUrl&&!t.toUrl&&(t.toUrl=t.nameToUrl),o.get("packaged")||!t.toUrl)r=r||o.moduleUrl(n,"worker");else{var u=this.$normalizePath;r=r||u(t.toUrl("ace/worker/worker.js",null,"_"));var c={};i.forEach((function(i){c[i]=u(t.toUrl(i,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}return this.$worker=s(r),a&&this.send("importScripts",a),this.$worker.postMessage({init:!0,tlns:c,module:n,classname:e}),this.$worker},this.onMessage=function(t){var i=t.data;switch(i.type){case"event":this._signal(i.name,{data:i.data});break;case"call":var n=this.callbacks[i.id];n&&(n(i.data),delete this.callbacks[i.id]);break;case"error":this.reportError(i.data);break;case"log":window.console&&console.log&&console.log.apply(console,i.data)}},this.reportError=function(t){window.console&&console.error&&console.error(t)},this.$normalizePath=function(t){return e.qualifyURL(t)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(t,i){this.$worker.postMessage({command:t,args:i})},this.call=function(t,i,n){if(n){var e=this.callbackId++;this.callbacks[e]=n,i.push(e)}this.send(t,i)},this.emit=function(t,i){try{i.data&&i.data.err&&(i.data.err={message:i.data.err.message,stack:i.data.err.stack,code:i.data.err.code}),this.$worker.postMessage({event:t,data:{data:i.data}})}catch(t){console.error(t.stack)}},this.attachToDocument=function(t){this.$doc&&this.terminate(),this.$doc=t,this.call("setValue",[t.getValue()]),t.on("change",this.changeListener)},this.changeListener=function(t){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),this.deltaQueue.push(t.start,"insert"==t.action?t.lines:t.end)},this.$sendDeltaQueue=function(){var t=this.deltaQueue;t&&(this.deltaQueue=null,t.length>50&&t.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:t}))}}).call(a.prototype),i.UIWorkerClient=function(t,i,n){var e=null,s=!1,u=Object.create(r),c=[],h=new a({messageBuffer:c,terminate:function(){},postMessage:function(t){c.push(t),e&&(s?setTimeout(f):f())}});h.setEmitSync=function(t){s=t};var f=function(){var t=c.shift();t.command?e[t.command].apply(e,t.args):t.event&&u._signal(t.event,t.data)};return u.postMessage=function(t){h.onMessage({data:t})},u.callback=function(t,i){this.postMessage({type:"call",id:i,data:t})},u.emit=function(t,i){this.postMessage({type:"event",name:t,data:i})},o.loadModule(["worker",i],(function(t){for(e=new t[n](u);c.length;)f()})),h},i.WorkerClient=a,i.createWorker=s})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(t,i){var n=t("./range").Range,e=t("./lib/event_emitter").EventEmitter,r=t("./lib/oop"),o=function(t,i,n,e,r,o){var s=this;this.length=i,this.session=t,this.doc=t.getDocument(),this.mainClass=r,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=e,this.$onCursorChange=function(){setTimeout((function(){s.onCursorChange()}))},this.$pos=n;var a=t.getUndoManager().$undoStack||t.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),t.selection.on("changeCursor",this.$onCursorChange)};(function(){r.implement(this,e),this.setup=function(){var t=this,i=this.doc,e=this.session;this.selectionBefore=e.selection.toJSON(),e.selection.inMultiSelectMode&&e.selection.toSingleRange(),this.pos=i.createAnchor(this.$pos.row,this.$pos.column);var r=this.pos;r.$insertRight=!0,r.detach(),r.markerId=e.addMarker(new n(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(n){var e=i.createAnchor(n.row,n.column);e.$insertRight=!0,e.detach(),t.others.push(e)})),e.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var t=this.session,i=this;this.othersActive=!0,this.others.forEach((function(e){e.markerId=t.addMarker(new n(e.row,e.column,e.row,e.column+i.length),i.othersClass,null,!1)}))}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var t=0;t<this.others.length;t++)this.session.removeMarker(this.others[t].markerId)}},this.onUpdate=function(t){if(this.$updating)return this.updateAnchors(t);var i=t;if(i.start.row===i.end.row&&i.start.row===this.pos.row){this.$updating=!0;var e="insert"===t.action?i.end.column-i.start.column:i.start.column-i.end.column,r=i.start.column>=this.pos.column&&i.start.column<=this.pos.column+this.length+1,o=i.start.column-this.pos.column;if(this.updateAnchors(t),r&&(this.length+=e),r&&!this.session.$fromUndo)if("insert"===t.action)for(var s=this.others.length-1;s>=0;s--)this.doc.insertMergedLines(u={row:(a=this.others[s]).row,column:a.column+o},t.lines);else if("remove"===t.action)for(s=this.others.length-1;s>=0;s--){var a,u;this.doc.remove(new n((u={row:(a=this.others[s]).row,column:a.column+o}).row,u.column,u.row,u.column-e))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(t){this.pos.onChange(t);for(var i=this.others.length;i--;)this.others[i].onChange(t);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var t=this,i=this.session,e=function(e,r){i.removeMarker(e.markerId),e.markerId=i.addMarker(new n(e.row,e.column,e.row,e.column+t.length),r,null,!1)};e(this.pos,this.mainClass);for(var r=this.others.length;r--;)e(this.others[r],this.othersClass)}},this.onCursorChange=function(t){if(!this.$updating&&this.session){var i=this.session.selection.getCursor();i.row===this.pos.row&&i.column>=this.pos.column&&i.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",t)):(this.hideOtherMarkers(),this._emit("cursorLeave",t))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var t=this.session.getUndoManager(),i=(t.$undoStack||t.$undostack).length-this.$undoStackDepth,n=0;n<i;n++)t.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(o.prototype),i.PlaceHolder=o})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(t,i){var n=t("../lib/event"),e=t("../lib/useragent");function r(t,i){return t.row==i.row&&t.column==i.column}i.onMouseDown=function(t){var i=t.domEvent,o=i.altKey,s=i.shiftKey,a=i.ctrlKey,u=t.getAccelKey(),c=t.getButton();if(a&&e.isMac&&(c=i.button),t.editor.inMultiSelectMode&&2==c)t.editor.textInput.onContextMenu(t.domEvent);else if(a||o||u){if(0===c){var h,f=t.editor,l=f.selection,d=f.inMultiSelectMode,v=t.getDocumentPosition(),p=l.getCursor(),m=t.inSelection()||l.isEmpty()&&r(v,p),b=t.x,g=t.y,y=f.session,w=f.renderer.pixelToScreenCoordinates(b,g),x=w;if(f.$mouseHandler.$enableJumpToDef)a&&o||u&&o?h=s?"block":"add":o&&f.$blockSelectEnabled&&(h="block");else if(u&&!o){if(h="add",!d&&s)return}else o&&f.$blockSelectEnabled&&(h="block");if(h&&e.isMac&&i.ctrlKey&&f.$mouseHandler.cancelContextMenu(),"add"==h){if(!d&&m)return;if(!d){var k=l.toOrientedRange();f.addSelectionMarker(k)}var _=l.rangeList.rangeAtPoint(v);f.inVirtualSelectionMode=!0,s&&(_=null,f.removeSelectionMarker(k=l.ranges[0]||k)),f.once("mouseup",(function(){var t=l.toOrientedRange();_&&t.isEmpty()&&r(_.cursor,t.cursor)?l.substractPoint(t.cursor):(s?l.substractPoint(k.cursor):k&&(f.removeSelectionMarker(k),l.addRange(k)),l.addRange(t)),f.inVirtualSelectionMode=!1}))}else if("block"==h){var A;t.stop(),f.inVirtualSelectionMode=!0;var S=[],E=function(){var t=f.renderer.pixelToScreenCoordinates(b,g),i=y.screenToDocumentPosition(t.row,t.column,t.offsetX);r(x,t)&&r(i,l.lead)||(x=t,f.selection.moveToPosition(i),f.renderer.scrollCursorIntoView(),f.removeSelectionMarkers(S),S=l.rectangularRangeBlock(x,w),f.$mouseHandler.$clickSelection&&1==S.length&&S[0].isEmpty()&&(S[0]=f.$mouseHandler.$clickSelection.clone()),S.forEach(f.addSelectionMarker,f),f.updateSelectionMarkers())};d&&!u?l.toSingleRange():!d&&u&&(A=l.toOrientedRange(),f.addSelectionMarker(A)),s?w=y.documentToScreenPosition(l.lead):l.moveToPosition(v),x={row:-1,column:-1};var M=E;n.capture(f.container,(function(t){b=t.clientX,g=t.clientY}),(function(){E(),clearInterval(C),f.removeSelectionMarkers(S),S.length||(S=[l.toOrientedRange()]),A&&(f.removeSelectionMarker(A),l.toSingleRange(A));for(var t=0;t<S.length;t++)l.addRange(S[t]);f.inVirtualSelectionMode=!1,f.$mouseHandler.$clickSelection=null}));var C=setInterval((function(){M()}),20);return t.preventDefault()}}}else 0===c&&t.editor.inMultiSelectMode&&t.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(t,i){i.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(t){t.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(t){t.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(t){t.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(t){t.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(t){t.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(t){t.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(t){t.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(t){t.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(t){t.multiSelect.rangeCount>1?t.multiSelect.joinSelections():t.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(t){t.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(t){t.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(t){t.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],i.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(t){t.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(t){return t&&t.inMultiSelectMode}}];var n=t("../keyboard/hash_handler").HashHandler;i.keyboardHandler=new n(i.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(t,i){var n=t("./range_list").RangeList,e=t("./range").Range,r=t("./selection").Selection,o=t("./mouse/multi_select_handler").onMouseDown,s=t("./lib/event"),a=t("./lib/lang"),u=t("./commands/multi_select_commands");i.commands=u.defaultCommands.concat(u.multiSelectCommands);var c=new(0,t("./search").Search),h=t("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(h.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(t,i){if(t){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(t),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),i||this.fromOrientedRange(t);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}t.cursor||(t.cursor=t.end);var e=this.rangeList.add(t);return this.$onAddRange(t),e.length&&this.$onRemoveRange(e),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),i||this.fromOrientedRange(t)}},this.toSingleRange=function(t){t=t||this.ranges[0];var i=this.rangeList.removeAll();i.length&&this.$onRemoveRange(i),t&&this.fromOrientedRange(t)},this.substractPoint=function(t){var i=this.rangeList.substractPoint(t);if(i)return this.$onRemoveRange(i),i[0]},this.mergeOverlappingRanges=function(){var t=this.rangeList.merge();t.length&&this.$onRemoveRange(t)},this.$onAddRange=function(t){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(t),this._signal("addRange",{range:t})},this.$onRemoveRange=function(t){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var i=this.rangeList.ranges.pop();t.push(i),this.rangeCount=0}for(var n=t.length;n--;){var e=this.ranges.indexOf(t[n]);this.ranges.splice(e,1)}this._signal("removeRange",{ranges:t}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(i=i||this.ranges[0])&&!i.isEqual(this.getRange())&&this.fromOrientedRange(i)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new n,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var t=this.ranges.length?this.ranges:[this.getRange()],i=[],n=0;n<t.length;n++){var r=t[n],o=r.start.row,s=r.end.row;if(o===s)i.push(r.clone());else{for(i.push(new e(o,r.start.column,o,this.session.getLine(o).length));++o<s;)i.push(this.getLineRange(o,!0));i.push(new e(s,0,s,r.end.column))}0!=n||this.isBackwards()||(i=i.reverse())}for(this.toSingleRange(),n=i.length;n--;)this.addRange(i[n])},this.joinSelections=function(){var t=this.rangeList.ranges,i=t[t.length-1],n=e.fromPoints(t[0].start,i.end);this.toSingleRange(),this.setSelectionRange(n,i.cursor==i.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var t=this.rangeList.ranges,i=t[t.length-1],n=e.fromPoints(t[0].start,i.end);this.toSingleRange(),this.setSelectionRange(n,i.cursor==i.start)}else{var r=this.session.documentToScreenPosition(this.cursor),o=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(r,o).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(t,i,n){var r=[],o=t.column<i.column;if(o)var s=t.column,a=i.column,u=t.offsetX,c=i.offsetX;else s=i.column,a=t.column,u=i.offsetX,c=t.offsetX;var h,f,l,d=t.row<i.row;if(d)var v=t.row,p=i.row;else v=i.row,p=t.row;s<0&&(s=0),v<0&&(v=0),v==p&&(n=!0);for(var m=v;m<=p;m++){var b=e.fromPoints(this.session.screenToDocumentPosition(m,s,u),this.session.screenToDocumentPosition(m,a,c));if(b.isEmpty()){if(h&&(f=b.end).row==(l=h).row&&f.column==l.column)break;h=b.end}b.cursor=o?b.start:b.end,r.push(b)}if(d&&r.reverse(),!n){for(var g=r.length-1;r[g].isEmpty()&&g>0;)g--;if(g>0)for(var y=0;r[y].isEmpty();)y++;for(var w=g;w>=y;w--)r[w].isEmpty()&&r.splice(w,1)}return r}}.call(r.prototype);var f=t("./editor").Editor;function l(t){t.$multiselectOnSessionChange||(t.$onAddRange=t.$onAddRange.bind(t),t.$onRemoveRange=t.$onRemoveRange.bind(t),t.$onMultiSelect=t.$onMultiSelect.bind(t),t.$onSingleSelect=t.$onSingleSelect.bind(t),t.$multiselectOnSessionChange=i.onSessionChange.bind(t),t.$checkMultiselectChange=t.$checkMultiselectChange.bind(t),t.$multiselectOnSessionChange(t),t.on("changeSession",t.$multiselectOnSessionChange),t.on("mousedown",o),t.commands.addCommands(u.defaultCommands),function(t){if(t.textInput){var i=t.textInput.getElement(),n=!1;s.addListener(i,"keydown",(function(i){t.$blockSelectEnabled&&18==i.keyCode&&!(i.ctrlKey||i.shiftKey||i.metaKey)?n||(t.renderer.setMouseCursor("crosshair"),n=!0):n&&e()}),t),s.addListener(i,"keyup",e,t),s.addListener(i,"blur",e,t)}function e(){n&&(t.renderer.setMouseCursor(""),n=!1)}}(t))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(t){t.cursor||(t.cursor=t.end);var i=this.getSelectionStyle();return t.marker=this.session.addMarker(t,"ace_selection",i),this.session.$selectionMarkers.push(t),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,t},this.removeSelectionMarker=function(t){if(t.marker){this.session.removeMarker(t.marker);var i=this.session.$selectionMarkers.indexOf(t);-1!=i&&this.session.$selectionMarkers.splice(i,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(t){for(var i=this.session.$selectionMarkers,n=t.length;n--;){var e=t[n];if(e.marker){this.session.removeMarker(e.marker);var r=i.indexOf(e);-1!=r&&i.splice(r,1)}}this.session.selectionMarkerCount=i.length},this.$onAddRange=function(t){this.addSelectionMarker(t.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(t){this.removeSelectionMarkers(t.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(u.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(u.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(t){var i=t.command,n=t.editor;if(n.multiSelect){if(i.multiSelectAction)"forEach"==i.multiSelectAction?e=n.forEachSelection(i,t.args):"forEachLine"==i.multiSelectAction?e=n.forEachSelection(i,t.args,!0):"single"==i.multiSelectAction?(n.exitMultiSelectMode(),e=i.exec(n,t.args||{})):e=i.multiSelectAction(n,t.args||{});else{var e=i.exec(n,t.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return e}},this.forEachSelection=function(t,i,n){if(!this.inVirtualSelectionMode){var e,o=1==n||n&&n.$byLines,s=this.session,a=this.selection,u=(n&&n.keepOrder?a:a.rangeList).ranges;if(!u.length)return t.exec?t.exec(this,i||{}):t(this,i||{});var c=a._eventRegistry;a._eventRegistry={};var h=new r(s);this.inVirtualSelectionMode=!0;for(var f=u.length;f--;){if(o)for(;f>0&&u[f].start.row==u[f-1].end.row;)f--;h.fromOrientedRange(u[f]),h.index=f,this.selection=s.selection=h;var l=t.exec?t.exec(this,i||{}):t(this,i||{});e||void 0===l||(e=l),h.toOrientedRange(u[f])}h.detach(),this.selection=s.selection=a,this.inVirtualSelectionMode=!1,a._eventRegistry=c,a.mergeOverlappingRanges(),a.ranges[0]&&a.fromOrientedRange(a.ranges[0]);var d=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),d&&d.from==d.to&&this.renderer.animateScrolling(d.from),e}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var t="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var i=this.multiSelect.rangeList.ranges,n=[],e=0;e<i.length;e++)n.push(this.session.getTextRange(i[e]));var r=this.session.getDocument().getNewLineCharacter();(t=n.join(r)).length==(n.length-1)*r.length&&(t="")}else this.selection.isEmpty()||(t=this.session.getTextRange(this.getSelectionRange()));return t},this.$checkMultiselectChange=function(t,i){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&i==this.multiSelect.anchor)return;var e=i==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;e.row!=i.row||this.session.$clipPositionToDocument(e.row,e.column).column!=i.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(t,i,n){if((i=i||{}).needle=t||i.needle,null==i.needle){var e=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();i.needle=this.session.getTextRange(e)}this.$search.set(i);var r=this.$search.findAll(this.session);if(!r.length)return 0;var o=this.multiSelect;n||o.toSingleRange(r[0]);for(var s=r.length;s--;)o.addRange(r[s],!0);return e&&o.rangeList.rangeAtPoint(e.start)&&o.addRange(e,!0),r.length},this.selectMoreLines=function(t,i){var n=this.selection.toOrientedRange(),r=n.cursor==n.end,o=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(o.column=this.selection.$desiredColumn);var s,a=this.session.screenToDocumentPosition(o.row+t,o.column);if(n.isEmpty())c=a;else var u=this.session.documentToScreenPosition(r?n.end:n.start),c=this.session.screenToDocumentPosition(u.row+t,u.column);if(r?(s=e.fromPoints(a,c)).cursor=s.start:(s=e.fromPoints(c,a)).cursor=s.end,s.desiredColumn=o.column,this.selection.inMultiSelectMode){if(i)var h=n.cursor}else this.selection.addRange(n);this.selection.addRange(s),h&&this.selection.substractPoint(h)},this.transposeSelections=function(t){for(var i=this.session,n=i.multiSelect,e=n.ranges,r=e.length;r--;)if((a=e[r]).isEmpty()){var o=i.getWordRange(a.start.row,a.start.column);a.start.row=o.start.row,a.start.column=o.start.column,a.end.row=o.end.row,a.end.column=o.end.column}n.mergeOverlappingRanges();var s=[];for(r=e.length;r--;)s.unshift(i.getTextRange(a=e[r]));for(t<0?s.unshift(s.pop()):s.push(s.shift()),r=e.length;r--;){var a;o=(a=e[r]).clone(),i.replace(a,s[r]),a.start.row=o.start.row,a.start.column=o.start.column}n.fromOrientedRange(n.ranges[0])},this.selectMore=function(t,i,n){var e=this.session,r=e.multiSelect.toOrientedRange();if(!r.isEmpty()||((r=e.getWordRange(r.start.row,r.start.column)).cursor=-1==t?r.start:r.end,this.multiSelect.addRange(r),!n)){var o=e.getTextRange(r),s=function(t,i,n){return c.$options.wrap=!0,c.$options.needle=i,c.$options.backwards=-1==n,c.find(t)}(e,o,t);s&&(s.cursor=-1==t?s.start:s.end,this.session.unfold(s),this.multiSelect.addRange(s),this.renderer.scrollCursorIntoView(null,.5)),i&&this.multiSelect.substractPoint(r.cursor)}},this.alignCursors=function(){var t=this.session,i=t.multiSelect,n=i.ranges,r=-1,o=n.filter((function(t){if(t.cursor.row==r)return!0;r=t.cursor.row}));if(n.length&&o.length!=n.length-1){o.forEach((function(t){i.substractPoint(t.cursor)}));var s=0,u=1/0,c=n.map((function(i){var n=i.cursor,e=t.getLine(n.row).substr(n.column).search(/\S/g);return-1==e&&(e=0),n.column>s&&(s=n.column),e<u&&(u=e),e}));n.forEach((function(i,n){var r=i.cursor,o=s-r.column,h=c[n]-u;o>h?t.insert(r,a.stringRepeat(" ",o-h)):t.remove(new e(r.row,r.column,r.row,r.column-o+h)),i.start.column=i.end.column=s,i.start.row=i.end.row=r.row,i.cursor=i.end})),i.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var h=this.selection.getRange(),f=h.start.row,l=h.end.row,d=f==l;if(d){var v,p=this.session.getLength();do{v=this.session.getLine(l)}while(/[=:]/.test(v)&&++l<p);do{v=this.session.getLine(f)}while(/[=:]/.test(v)&&--f>0);f<0&&(f=0),l>=p&&(l=p-1)}var m=this.session.removeFullLines(f,l);m=this.$reAlignText(m,d),this.session.insert({row:f,column:0},m.join("\n")+"\n"),d||(h.start.column=0,h.end.column=m[m.length-1].length),this.selection.setRange(h)}},this.$reAlignText=function(t,i){var n,e,r,o=!0,s=!0;return t.map((function(t){var i=t.match(/(\s*)(.*?)(\s*)([=:].*)/);return i?null==n?(n=i[1].length,e=i[2].length,r=i[3].length,i):(n+e+r!=i[1].length+i[2].length+i[3].length&&(s=!1),n!=i[1].length&&(o=!1),n>i[1].length&&(n=i[1].length),e<i[2].length&&(e=i[2].length),r>i[3].length&&(r=i[3].length),i):[t]})).map(i?c:o?s?function(t){return t[2]?u(n+e-t[2].length)+t[2]+u(r)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}:c:function(t){return t[2]?u(n)+t[2]+u(r)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]});function u(t){return a.stringRepeat(" ",t)}function c(t){return t[2]?u(n)+t[2]+u(e-t[2].length+r)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}}}).call(f.prototype),i.onSessionChange=function(t){var i=t.session;i&&!i.multiSelect&&(i.$selectionMarkers=[],i.selection.$initRangeList(),i.multiSelect=i.selection),this.multiSelect=i&&i.multiSelect;var n=t.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),i&&(i.multiSelect.on("addRange",this.$onAddRange),i.multiSelect.on("removeRange",this.$onRemoveRange),i.multiSelect.on("multiSelect",this.$onMultiSelect),i.multiSelect.on("singleSelect",this.$onSingleSelect),i.multiSelect.lead.on("change",this.$checkMultiselectChange),i.multiSelect.anchor.on("change",this.$checkMultiselectChange)),i&&this.inMultiSelectMode!=i.selection.inMultiSelectMode&&(i.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},i.MultiSelect=l,t("./config").defineOptions(f.prototype,"editor",{enableMultiselect:{set:function(t){l(this),t?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",o)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",o))},value:!0},enableBlockSelect:{set:function(t){this.$blockSelectEnabled=t},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(t,i){var n=t("../../range").Range,e=i.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(t,i,n){var e=t.getLine(n);return this.foldingStartMarker.test(e)?"start":"markbeginend"==i&&this.foldingStopMarker&&this.foldingStopMarker.test(e)?"end":""},this.getFoldWidgetRange=function(){return null},this.indentationBlock=function(t,i,e){var r=/\S/,o=t.getLine(i),s=o.search(r);if(-1!=s){for(var a=e||o.length,u=t.getLength(),c=i,h=i;++i<u;){var f=t.getLine(i).search(r);if(-1!=f){if(f<=s){var l=t.getTokenAt(i,0);if(!l||"string"!==l.type)break}h=i}}if(h>c){var d=t.getLine(h).length;return new n(c,a,h,d)}}},this.openingBracketBlock=function(t,i,e,r,o){var s={row:e,column:r+1},a=t.$findClosingBracket(i,s,o);if(a){var u=t.foldWidgets[a.row];return null==u&&(u=t.getFoldWidget(a.row)),"start"==u&&a.row>s.row&&(a.row--,a.column=t.getLine(a.row).length),n.fromPoints(s,a)}},this.closingBracketBlock=function(t,i,e,r){var o={row:e,column:r},s=t.$findOpeningBracket(i,o);if(s)return s.column++,o.column--,n.fromPoints(s,o)}}).call(e.prototype)})),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],(function(t,i){i.isDark=!1,i.cssClass="ace-tm",i.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',i.$id="ace/theme/textmate",t("../lib/dom").importCssString(i.cssText,i.cssClass,!1)})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],(function(t,i){var n=t("./lib/dom");function e(t){this.session=t,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(t){var i;return i=this.lineWidgets&&this.lineWidgets[t]&&this.lineWidgets[t].rowCount||0,this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1+i:1+i},this.$getWidgetScreenLength=function(){var t=0;return this.lineWidgets.forEach((function(i){i&&i.rowCount&&!i.hidden&&(t+=i.rowCount)})),t},this.$onChangeEditor=function(t){this.attach(t.editor)},this.attach=function(t){t&&t.widgetManager&&t.widgetManager!=this&&t.widgetManager.detach(),this.editor!=t&&(this.detach(),this.editor=t,t&&(t.widgetManager=this,t.renderer.on("beforeRender",this.measureWidgets),t.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var i=this.session.lineWidgets;i&&i.forEach((function(t){t&&t.el&&t.el.parentNode&&(t._inDocument=!1,t.el.parentNode.removeChild(t.el))}))}},this.updateOnFold=function(t,i){var n=i.lineWidgets;if(n&&t.action){for(var e=t.data,r=e.start.row,o=e.end.row,s="add"==t.action,a=r+1;a<o;a++)n[a]&&(n[a].hidden=s);n[o]&&(s?n[r]?n[o].hidden=s:n[r]=n[o]:(n[r]==n[o]&&(n[r]=void 0),n[o].hidden=s))}},this.updateOnChange=function(t){var i=this.session.lineWidgets;if(i){var n=t.start.row,e=t.end.row-n;if(0===e);else if("remove"==t.action){var r=i.splice(n+1,e);!i[n]&&r[r.length-1]&&(i[n]=r.pop()),r.forEach((function(t){t&&this.removeLineWidget(t)}),this),this.$updateRows()}else{var o=new Array(e);i[n]&&null!=i[n].column&&t.start.column>i[n].column&&n++,o.unshift(n,0),i.splice.apply(i,o),this.$updateRows()}}},this.$updateRows=function(){var t=this.session.lineWidgets;if(t){var i=!0;t.forEach((function(t,n){if(t)for(i=!1,t.row=n;t.$oldWidget;)t.$oldWidget.row=n,t=t.$oldWidget})),i&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(t){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var i=this.session.lineWidgets[t.row];return i&&(t.$oldWidget=i,i.el&&i.el.parentNode&&(i.el.parentNode.removeChild(i.el),i._inDocument=!1)),this.session.lineWidgets[t.row]=t,t},this.addLineWidget=function(t){if(this.$registerLineWidget(t),t.session=this.session,!this.editor)return t;var i=this.editor.renderer;t.html&&!t.el&&(t.el=n.createElement("div"),t.el.innerHTML=t.html),t.el&&(n.addCssClass(t.el,"ace_lineWidgetContainer"),t.el.style.position="absolute",t.el.style.zIndex=5,i.container.appendChild(t.el),t._inDocument=!0,t.coverGutter||(t.el.style.zIndex=3),null==t.pixelHeight&&(t.pixelHeight=t.el.offsetHeight)),null==t.rowCount&&(t.rowCount=t.pixelHeight/i.layerConfig.lineHeight);var e=this.session.getFoldAt(t.row,0);if(t.$fold=e,e){var r=this.session.lineWidgets;t.row!=e.end.row||r[e.start.row]?t.hidden=!0:r[e.start.row]=t}return this.session._emit("changeFold",{data:{start:{row:t.row}}}),this.$updateRows(),this.renderWidgets(null,i),this.onWidgetChanged(t),t},this.removeLineWidget=function(t){if(t._inDocument=!1,t.session=null,t.el&&t.el.parentNode&&t.el.parentNode.removeChild(t.el),t.editor&&t.editor.destroy)try{t.editor.destroy()}catch(t){}if(this.session.lineWidgets){var i=this.session.lineWidgets[t.row];if(i==t)this.session.lineWidgets[t.row]=t.$oldWidget,t.$oldWidget&&this.onWidgetChanged(t.$oldWidget);else for(;i;){if(i.$oldWidget==t){i.$oldWidget=t.$oldWidget;break}i=i.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:t.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(t){for(var i=this.session.lineWidgets,n=i&&i[t],e=[];n;)e.push(n),n=n.$oldWidget;return e},this.onWidgetChanged=function(t){this.session._changedWidgets.push(t),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(t,i){var n=this.session._changedWidgets,e=i.layerConfig;if(n&&n.length){for(var r=1/0,o=0;o<n.length;o++){var s=n[o];if(s&&s.el&&s.session==this.session){if(!s._inDocument){if(this.session.lineWidgets[s.row]!=s)continue;s._inDocument=!0,i.container.appendChild(s.el)}s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/e.characterWidth));var a=s.h/e.lineHeight;s.coverLine&&(a-=this.session.getRowLineCount(s.row))<0&&(a=0),s.rowCount!=a&&(s.rowCount=a,s.row<r&&(r=s.row))}}r!=1/0&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(t,i){var n=i.layerConfig,e=this.session.lineWidgets;if(e){for(var r=Math.min(this.firstRow,n.firstRow),o=Math.max(this.lastRow,n.lastRow,e.length);r>0&&!e[r];)r--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,i.$cursorLayer.config=n;for(var s=r;s<=o;s++){var a=e[s];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,i.container.appendChild(a.el));var u=i.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;a.coverLine||(u+=n.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=u-n.offset+"px";var c=a.coverGutter?0:i.gutterWidth;a.fixedWidth||(c-=i.scrollLeft),a.el.style.left=c+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=n.width+2*n.padding+"px"),a.el.style.right=a.fixedWidth?i.scrollBar.getWidth()+"px":""}}}}}).call(e.prototype),i.LineWidgets=e})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],(function(t,i){var n=t("../line_widgets").LineWidgets,e=t("../lib/dom"),r=t("../range").Range;i.showErrorMarker=function(t,i){var o=t.session;o.widgetManager||(o.widgetManager=new n(o),o.widgetManager.attach(t));var s=t.getCursorPosition(),a=s.row,u=o.widgetManager.getWidgetsAtRow(a).filter((function(t){return"errorMarker"==t.type}))[0];u?u.destroy():a-=i;var c,h=function(t,i,n){var e=t.getAnnotations().sort(r.comparePoints);if(e.length){var o=function(t,i,n){for(var e=0,r=t.length-1;e<=r;){var o=e+r>>1,s=n(i,t[o]);if(s>0)e=o+1;else{if(!(s<0))return o;r=o-1}}return-(e+1)}(e,{row:i,column:-1},r.comparePoints);o<0&&(o=-o-1),o>=e.length?o=n>0?0:e.length-1:0===o&&n<0&&(o=e.length-1);var s=e[o];if(s&&n){if(s.row===i){do{s=e[o+=n]}while(s&&s.row===i);if(!s)return e.slice()}var a=[];i=s.row;do{a[n<0?"unshift":"push"](s),s=e[o+=n]}while(s&&s.row==i);return a.length&&a}}}(o,a,i);if(h){var f=h[0];s.column=(f.pos&&"number"!=typeof f.column?f.pos.sc:f.column)||0,s.row=f.row,c=t.renderer.$gutterLayer.$annotations[s.row]}else{if(u)return;c={text:["Looks good!"],className:"ace_ok"}}t.session.unfold(s.row),t.selection.moveToPosition(s);var l={row:s.row,fixedWidth:!0,coverGutter:!0,el:e.createElement("div"),type:"errorMarker"},d=l.el.appendChild(e.createElement("div")),v=l.el.appendChild(e.createElement("div"));v.className="error_widget_arrow "+c.className;var p=t.renderer.$cursorLayer.getPixelPosition(s).left;v.style.left=p+t.renderer.gutterWidth-5+"px",l.el.className="error_widget_wrapper",d.className="error_widget "+c.className,d.innerHTML=c.text.join("<br>"),d.appendChild(e.createElement("div"));var m=function(t,i,n){if(0===i&&("esc"===n||"return"===n))return l.destroy(),{command:"null"}};l.destroy=function(){t.$mouseHandler.isMousePressed||(t.keyBinding.removeKeyboardHandler(m),o.widgetManager.removeLineWidget(l),t.off("changeSelection",l.destroy),t.off("changeSession",l.destroy),t.off("mouseup",l.destroy),t.off("change",l.destroy))},t.keyBinding.addKeyboardHandler(m),t.on("changeSelection",l.destroy),t.on("changeSession",l.destroy),t.on("mouseup",l.destroy),t.on("change",l.destroy),t.session.widgetManager.addLineWidget(l),l.el.onmousedown=t.focus.bind(t),t.renderer.scrollCursorIntoView(null,.5,{bottom:l.el.offsetHeight})},e.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","error_marker.css",!1)})),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],(function(t,i){t("./lib/fixoldbrowsers");var n=t("./lib/dom"),e=t("./lib/event"),r=t("./range").Range,o=t("./editor").Editor,s=t("./edit_session").EditSession,a=t("./undomanager").UndoManager,u=t("./virtual_renderer").VirtualRenderer;t("./worker/worker_client"),t("./keyboard/hash_handler"),t("./placeholder"),t("./multi_select"),t("./mode/folding/fold_mode"),t("./theme/textmate"),t("./ext/error_marker"),i.config=t("./config"),i.require=t,i.edit=function(t,r){if("string"==typeof t){var s=t;if(!(t=document.getElementById(s)))throw new Error("ace.edit can't find div #"+s)}if(t&&t.env&&t.env.editor instanceof o)return t.env.editor;var a="";if(t&&/input|textarea/i.test(t.tagName)){var c=t;a=c.value,t=n.createElement("pre"),c.parentNode.replaceChild(t,c)}else t&&(a=t.textContent,t.innerHTML="");var h=i.createEditSession(a),f=new o(new u(t),h,r),l={document:h,editor:f,onResize:f.resize.bind(f,null)};return c&&(l.textarea=c),e.addListener(window,"resize",l.onResize),f.on("destroy",(function(){e.removeListener(window,"resize",l.onResize),l.editor.container.env=null})),f.container.env=f.env=l,f},i.createEditSession=function(t,i){var n=new s(t,i);return n.setUndoManager(new a),n},i.Range=r,i.Editor=o,i.EditSession=s,i.UndoManager=a,i.VirtualRenderer=u,i.version=i.config.version})),ace.require(["ace/ace"],(function(i){for(var n in i&&(i.config.init(!0),i.define=ace.define),window.ace||(window.ace=i),i)i.hasOwnProperty(n)&&(window.ace[n]=i[n]);window.ace.default=window.ace,t&&(t.exports=window.ace)}))})),ri((function(t){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],(function(t,i){var n=t("./lib/dom"),e=t("./lib/oop"),r=t("./lib/event_emitter").EventEmitter,o=t("./lib/lang"),s=t("./range").Range,a=t("./range_list").RangeList,u=t("./keyboard/hash_handler").HashHandler,c=t("./tokenizer").Tokenizer,h=t("./clipboard"),f={CURRENT_WORD:function(t){return t.session.getTextRange(t.session.getWordRange())},SELECTION:function(t,i,n){var e=t.session.getTextRange();return n?e.replace(/\n\r?([ \t]*\S)/g,"\n"+n+"$1"):e},CURRENT_LINE:function(t){return t.session.getLine(t.getCursorPosition().row)},PREV_LINE:function(t){return t.session.getLine(t.getCursorPosition().row-1)},LINE_INDEX:function(t){return t.getCursorPosition().row},LINE_NUMBER:function(t){return t.getCursorPosition().row+1},SOFT_TABS:function(t){return t.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(t){return t.session.getTabSize()},CLIPBOARD:function(){return h.getText&&h.getText()},FILENAME:function(t){return/[^/\\]*$/.exec(this.FILEPATH(t))[0]},FILENAME_BASE:function(t){return/[^/\\]*$/.exec(this.FILEPATH(t))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(t){return this.FILEPATH(t).replace(/[^/\\]*$/,"")},FILEPATH:function(){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(t){var i=t.session.$mode||{};return i.blockComment&&i.blockComment.start||""},BLOCK_COMMENT_END:function(t){var i=t.session.$mode||{};return i.blockComment&&i.blockComment.end||""},LINE_COMMENT:function(t){return(t.session.$mode||{}).lineCommentStart||""},CURRENT_YEAR:l.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:l.bind(null,{year:"2-digit"}),CURRENT_MONTH:l.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:l.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:l.bind(null,{month:"short"}),CURRENT_DATE:l.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:l.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:l.bind(null,{weekday:"short"}),CURRENT_HOUR:l.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:l.bind(null,{minute:"2-digit"}),CURRENT_SECOND:l.bind(null,{second:"2-digit"})};function l(t){var i=(new Date).toLocaleString("en-us",t);return 1==i.length?"0"+i:i}f.SELECTED_TEXT=f.SELECTION;var d=function(){this.snippetMap={},this.snippetNameMap={}};(function(){e.implement(this,r),this.getTokenizer=function(){return d.$tokenizer||this.createTokenizer()},this.createTokenizer=function(){function t(t){return t=t.substr(1),/^\d+$/.test(t)?[{tabstopId:parseInt(t,10)}]:[{text:t}]}function i(t){return"(?:[^\\\\"+t+"]|\\\\.)"}var n={regex:"/("+i("/")+"+)/",onMatch:function(t,i,n){var e=n[0];return e.fmtString=!0,e.guard=t.slice(1,-1),e.flag="",""},next:"formatString"};return d.$tokenizer=new c({start:[{regex:/\\./,onMatch:function(t,i,n){var e=t[1];return("}"==e&&n.length||-1!="`$\\".indexOf(e))&&(t=e),[t]}},{regex:/}/,onMatch:function(t,i,n){return[n.length?n.shift():t]}},{regex:/\$(?:\d+|\w+)/,onMatch:t},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(i,n,e){var r=t(i.substr(1));return e.unshift(r[0]),r},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+i("\\|")+"*\\|",onMatch:function(t,i,n){var e=t.slice(1,-1).replace(/\\[,|\\]|,/g,(function(t){return 2==t.length?t[1]:"\0"})).split("\0").map((function(t){return{value:t}}));return n[0].choices=e,[e[0]]},next:"start"},n,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(t,i,n){return n.length&&n[0].expectElse?(n[0].expectElse=!1,n[0].ifEnd={elseEnd:n[0]},[n[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(t,i,n){var e=t[1];return"}"==e&&n.length||-1!="`$\\".indexOf(e)?t=e:"n"==e?t="\n":"t"==e?t="\t":-1!="ulULE".indexOf(e)&&(t={changeCase:e,local:e>"a"}),[t]}},{regex:"/\\w*}",onMatch:function(t,i,n){var e=n.shift();return e&&(e.flag=t.slice(1,-1)),this.next=e&&e.tabstopId?"start":"",[e||t]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(t){return[{text:t.slice(1)}]}},{regex:/\${\w+/,onMatch:function(t,i,n){var e={text:t.slice(2)};return n.unshift(e),[e]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(t,i,n){var e=n.shift();return this.next=e&&e.tabstopId?"start":"",[e||t]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(t,i,n){return n[0].formatFunction=t.slice(2,-1),[n.shift()]},next:"formatString"},n,{regex:/:[\?\-+]?/,onMatch:function(t,i,n){"+"==t[1]&&(n[0].ifEnd=n[0]),"?"==t[1]&&(n[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]})},this.tokenizeTmSnippet=function(t,i){return this.getTokenizer().getLineTokens(t,i).tokens.map((function(t){return t.value||t}))},this.getVariableValue=function(t,i,n){if(/^\d+$/.test(i))return(this.variables.__||{})[i]||"";if(/^[A-Z]\d+$/.test(i))return(this.variables[i[0]+"__"]||{})[i.substr(1)]||"";if(i=i.replace(/^TM_/,""),!this.variables.hasOwnProperty(i))return"";var e=this.variables[i];return"function"==typeof e&&(e=this.variables[i](t,i,n)),null==e?"":e},this.variables=f,this.tmStrFormat=function(t,i,n){if(!i.fmt)return t;var e=i.guard;e=new RegExp(e,(i.flag||"").replace(/[^gim]/g,""));var r="string"==typeof i.fmt?this.tokenizeTmSnippet(i.fmt,"formatString"):i.fmt,o=this;return t.replace(e,(function(){var t=o.variables.__;o.variables.__=[].slice.call(arguments);for(var i=o.resolveVariables(r,n),e="E",s=0;s<i.length;s++){var a=i[s];if("object"==typeof a)if(i[s]="",a.changeCase&&a.local){var u=i[s+1];u&&"string"==typeof u&&(i[s]="u"==a.changeCase?u[0].toUpperCase():u[0].toLowerCase(),i[s+1]=u.substr(1))}else a.changeCase&&(e=a.changeCase);else"U"==e?i[s]=a.toUpperCase():"L"==e&&(i[s]=a.toLowerCase())}return o.variables.__=t,i.join("")}))},this.tmFormatFunction=function(t,i){return"upcase"==i.formatFunction?t.toUpperCase():"downcase"==i.formatFunction?t.toLowerCase():t},this.resolveVariables=function(t,i){for(var n=[],e="",r=!0,o=0;o<t.length;o++){var s=t[o];if("string"!=typeof s){if(s){if(r=!1,s.fmtString){var a=t.indexOf(s,o+1);-1==a&&(a=t.length),s.fmt=t.slice(o+1,a),o=a}if(s.text){var u=this.getVariableValue(i,s.text,e)+"";s.fmtString&&(u=this.tmStrFormat(u,s,i)),s.formatFunction&&(u=this.tmFormatFunction(u,s,i)),u&&!s.ifEnd?(n.push(u),c(s)):!u&&s.ifEnd&&c(s.ifEnd)}else s.elseEnd?c(s.elseEnd):(null!=s.tabstopId||null!=s.changeCase)&&n.push(s)}}else n.push(s),"\n"==s?(r=!0,e=""):r&&(e=/^\t*/.exec(s)[0],r=/\S/.test(s))}function c(i){var n=t.indexOf(i,o+1);-1!=n&&(o=n)}return n},this.insertSnippetForSelection=function(t,i){var n=t.getCursorPosition(),e=t.session.getLine(n.row),r=t.session.getTabString(),o=e.match(/^\s*/)[0];n.column<o.length&&(o=o.slice(0,n.column)),i=i.replace(/\r/g,"");var s=this.tokenizeTmSnippet(i);s=(s=this.resolveVariables(s,t)).map((function(t){return"\n"==t?t+o:"string"==typeof t?t.replace(/\t/g,r):t}));var a=[];s.forEach((function(t,i){if("object"==typeof t){var n=t.tabstopId,e=a[n];if(e||((e=a[n]=[]).index=n,e.value="",e.parents={}),-1===e.indexOf(t)){t.choices&&!e.choices&&(e.choices=t.choices),e.push(t);var r=s.indexOf(t,i+1);if(-1!==r){var o=s.slice(i+1,r);o.some((function(t){return"object"==typeof t}))&&!e.value?e.value=o:!o.length||e.value&&"string"==typeof e.value||(e.value=o.join(""))}}}})),a.forEach((function(t){t.length=0}));var u={};function c(t){for(var i=[],n=0;n<t.length;n++){var e=t[n];if("object"==typeof e){if(u[e.tabstopId])continue;e=i[t.lastIndexOf(e,n-1)]||{tabstopId:e.tabstopId}}i[n]=e}return i}for(var h=0;h<s.length;h++){var f=s[h];if("object"==typeof f){var l=f.tabstopId,d=a[l],p=s.indexOf(f,h+1);if(u[l])u[l]===f&&(delete u[l],Object.keys(u).forEach((function(t){d.parents[t]=!0})));else{u[l]=f;var m=d.value;"string"!=typeof m?m=c(m):f.fmt&&(m=this.tmStrFormat(m,f,t)),s.splice.apply(s,[h+1,Math.max(0,p-h)].concat(m,f)),-1===d.indexOf(f)&&d.push(f)}}}var b=0,g=0,y="";s.forEach((function(t){if("string"==typeof t){var i=t.split("\n");i.length>1?(g=i[i.length-1].length,b+=i.length-1):g+=t.length,y+=t}else t&&(t.start?t.end={row:b,column:g}:t.start={row:b,column:g})}));var w=t.getSelectionRange(),x=t.session.replace(w,y);new v(t).addTabstops(a,w.start,x,t.inVirtualSelectionMode&&t.selection.index)},this.insertSnippet=function(t,i){var n=this;if(t.inVirtualSelectionMode)return n.insertSnippetForSelection(t,i);t.forEachSelection((function(){n.insertSnippetForSelection(t,i)}),null,{keepOrder:!0}),t.tabstopManager&&t.tabstopManager.tabNext()},this.$getScope=function(t){var i=t.session.$mode.$id||"";if("html"===(i=i.split("/").pop())||"php"===i){"php"!==i||t.session.$mode.inlinePhp||(i="html");var n=t.getCursorPosition(),e=t.session.getState(n.row);"object"==typeof e&&(e=e[0]),e.substring&&("js-"==e.substring(0,3)?i="javascript":"css-"==e.substring(0,4)?i="css":"php-"==e.substring(0,4)&&(i="php"))}return i},this.getActiveScopes=function(t){var i=this.$getScope(t),n=[i],e=this.snippetMap;return e[i]&&e[i].includeScopes&&n.push.apply(n,e[i].includeScopes),n.push("_"),n},this.expandWithTab=function(t,i){var n=this,e=t.forEachSelection((function(){return n.expandSnippetForSelection(t,i)}),null,{keepOrder:!0});return e&&t.tabstopManager&&t.tabstopManager.tabNext(),e},this.expandSnippetForSelection=function(t,i){var n,e=t.getCursorPosition(),r=t.session.getLine(e.row),o=r.substring(0,e.column),s=r.substr(e.column),a=this.snippetMap;return this.getActiveScopes(t).some((function(t){var i=a[t];return i&&(n=this.findMatchingSnippet(i,o,s)),!!n}),this),!!n&&(i&&i.dryRun||(t.session.doc.removeInLine(e.row,e.column-n.replaceBefore.length,e.column+n.replaceAfter.length),this.variables.M__=n.matchBefore,this.variables.T__=n.matchAfter,this.insertSnippetForSelection(t,n.content),this.variables.M__=this.variables.T__=null),!0)},this.findMatchingSnippet=function(t,i,n){for(var e=t.length;e--;){var r=t[e];if((!r.startRe||r.startRe.test(i))&&(!r.endRe||r.endRe.test(n))&&(r.startRe||r.endRe))return r.matchBefore=r.startRe?r.startRe.exec(i):[""],r.matchAfter=r.endRe?r.endRe.exec(n):[""],r.replaceBefore=r.triggerRe?r.triggerRe.exec(i)[0]:"",r.replaceAfter=r.endTriggerRe?r.endTriggerRe.exec(n)[0]:"",r}},this.snippetMap={},this.snippetNameMap={},this.register=function(t,i){var n=this.snippetMap,e=this.snippetNameMap,r=this;function s(t){return t&&!/^\^?\(.*\)\$?$|^\\b$/.test(t)&&(t="(?:"+t+")"),t||""}function a(t,i,n){return t=s(t),i=s(i),n?(t=i+t)&&"$"!=t[t.length-1]&&(t+="$"):(t+=i)&&"^"!=t[0]&&(t="^"+t),new RegExp(t)}function u(t){t.scope||(t.scope=i||"_"),n[i=t.scope]||(n[i]=[],e[i]={});var s=e[i];if(t.name){var u=s[t.name];u&&r.unregister(u),s[t.name]=t}n[i].push(t),t.prefix&&(t.tabTrigger=t.prefix),!t.content&&t.body&&(t.content=Array.isArray(t.body)?t.body.join("\n"):t.body),t.tabTrigger&&!t.trigger&&(!t.guard&&/^\w/.test(t.tabTrigger)&&(t.guard="\\b"),t.trigger=o.escapeRegExp(t.tabTrigger)),(t.trigger||t.guard||t.endTrigger||t.endGuard)&&(t.startRe=a(t.trigger,t.guard,!0),t.triggerRe=new RegExp(t.trigger),t.endRe=a(t.endTrigger,t.endGuard,!0),t.endTriggerRe=new RegExp(t.endTrigger))}t||(t=[]),Array.isArray(t)?t.forEach(u):Object.keys(t).forEach((function(i){u(t[i])})),this._signal("registerSnippets",{scope:i})},this.unregister=function(t,i){var n=this.snippetMap,e=this.snippetNameMap;function r(t){var r=e[t.scope||i];if(r&&r[t.name]){delete r[t.name];var o=n[t.scope||i],s=o&&o.indexOf(t);s>=0&&o.splice(s,1)}}t.content?r(t):Array.isArray(t)&&t.forEach(r)},this.parseSnippetFile=function(t){t=t.replace(/\r/g,"");for(var i,n=[],e={},r=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;i=r.exec(t);){if(i[1])try{e=JSON.parse(i[1]),n.push(e)}catch(t){}if(i[4])e.content=i[4].replace(/^\t/gm,""),n.push(e),e={};else{var o=i[2],s=i[3];if("regex"==o){var a=/\/((?:[^\/\\]|\\.)*)|$/g;e.guard=a.exec(s)[1],e.trigger=a.exec(s)[1],e.endTrigger=a.exec(s)[1],e.endGuard=a.exec(s)[1]}else"snippet"==o?(e.tabTrigger=s.match(/^\S*/)[0],e.name||(e.name=s)):o&&(e[o]=s)}}return n},this.getSnippetByName=function(t,i){var n,e=this.snippetNameMap;return this.getActiveScopes(i).some((function(i){var r=e[i];return r&&(n=r[t]),!!n}),this),n}}).call(d.prototype);var v=function(t){if(t.tabstopManager)return t.tabstopManager;t.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=o.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(t)};(function(){this.attach=function(t){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=t,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(t){for(var i="r"==t.action[0],n=this.selectedTabstop||{},e=n.parents||{},r=(this.tabstops||[]).slice(),o=0;o<r.length;o++){var s=r[o];if(s.rangeList.$bias=s==n||e[s.index]?0:1,"remove"==t.action&&s!==n){var a=s.parents&&s.parents[n.index],u=s.rangeList.pointIndex(t.start,a);u=u<0?-u-1:u+1;for(var c=s.rangeList.pointIndex(t.end,a),h=s.rangeList.ranges.slice(u,c=c<0?-c-1:c-1),f=0;f<h.length;f++)this.removeRange(h[f])}s.rangeList.$onChange(t)}var l=this.editor.session;this.$inChange||!i||1!=l.getLength()||l.getValue()||this.detach()},this.updateLinkedFields=function(){var t=this.selectedTabstop;if(t&&t.hasLinkedRanges&&t.firstNonLinked){this.$inChange=!0;for(var n=this.editor.session,e=n.getTextRange(t.firstNonLinked),r=0;r<t.length;r++){var o=t[r];if(o.linked){var s=i.snippetManager.tmStrFormat(e,o.original,this.editor);n.replace(o,s)}}this.$inChange=!1}},this.onAfterExec=function(t){t.command&&!t.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(this.editor){for(var t=this.editor.selection.lead,i=this.editor.selection.anchor,n=this.editor.selection.isEmpty(),e=0;e<this.ranges.length;e++)if(!this.ranges[e].linked){var r=this.ranges[e].contains(t.row,t.column),o=n||this.ranges[e].contains(i.row,i.column);if(r&&o)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(t){var i=this.tabstops.length,n=this.index+(t||1);(n=Math.min(Math.max(n,1),i))==i&&(n=0),this.selectTabstop(n),0===n&&this.detach()},this.selectTabstop=function(t){this.$openTabstops=null;var i=this.tabstops[this.index];if(i&&this.addTabstopMarkers(i),this.index=t,(i=this.tabstops[this.index])&&i.length){this.selectedTabstop=i;var n=i.firstNonLinked||i;if(i.choices&&(n.cursor=n.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(n);else{var e=this.editor.multiSelect;e.toSingleRange(n);for(var r=0;r<i.length;r++)i.hasLinkedRanges&&i[r].linked||e.addRange(i[r].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},this.addTabstops=function(t,i,n){var e=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!t[0]){var r=s.fromPoints(n,n);m(r.start,i),m(r.end,i),t[0]=[r],t[0].index=0}var o=[this.index+1,0],u=this.ranges;t.forEach((function(t,n){for(var r=this.$openTabstops[n]||t,c=0;c<t.length;c++){var h=t[c],f=s.fromPoints(h.start,h.end||h.start);p(f.start,i),p(f.end,i),f.original=h,f.tabstop=r,u.push(f),r!=t?r.unshift(f):r[c]=f,h.fmtString||r.firstNonLinked&&e?(f.linked=!0,r.hasLinkedRanges=!0):r.firstNonLinked||(r.firstNonLinked=f)}r.firstNonLinked||(r.hasLinkedRanges=!1),r===t&&(o.push(r),this.$openTabstops[n]=r),this.addTabstopMarkers(r),r.rangeList=r.rangeList||new a,r.rangeList.$bias=0,r.rangeList.addList(r)}),this),o.length>2&&(this.tabstops.length&&o.push(o.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,o))},this.addTabstopMarkers=function(t){var i=this.editor.session;t.forEach((function(t){t.markerId||(t.markerId=i.addMarker(t,"ace_snippet-marker","text"))}))},this.removeTabstopMarkers=function(t){var i=this.editor.session;t.forEach((function(t){i.removeMarker(t.markerId),t.markerId=null}))},this.removeRange=function(t){var i=t.tabstop.indexOf(t);-1!=i&&t.tabstop.splice(i,1),-1!=(i=this.ranges.indexOf(t))&&this.ranges.splice(i,1),-1!=(i=t.tabstop.rangeList.ranges.indexOf(t))&&t.tabstop.splice(i,1),this.editor.session.removeMarker(t.markerId),t.tabstop.length||(-1!=(i=this.tabstops.indexOf(t.tabstop))&&this.tabstops.splice(i,1),this.tabstops.length||this.detach())},this.keyboardHandler=new u,this.keyboardHandler.bindKeys({Tab:function(t){i.snippetManager&&i.snippetManager.expandWithTab(t)||(t.tabstopManager.tabNext(1),t.renderer.scrollCursorIntoView())},"Shift-Tab":function(t){t.tabstopManager.tabNext(-1),t.renderer.scrollCursorIntoView()},Esc:function(t){t.tabstopManager.detach()}})}).call(v.prototype);var p=function(t,i){0==t.row&&(t.column+=i.column),t.row+=i.row},m=function(t,i){t.row==i.row&&(t.column-=i.column),t.row-=i.row};n.importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}","snippets.css",!1),i.snippetManager=new d;var b=t("./editor").Editor;(function(){this.insertSnippet=function(t,n){return i.snippetManager.insertSnippet(this,t,n)},this.expandSnippet=function(t){return i.snippetManager.expandWithTab(this,t)}}).call(b.prototype)})),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],(function(t,i){var n=t("../virtual_renderer").VirtualRenderer,e=t("../editor").Editor,r=t("../range").Range,o=t("../lib/event"),s=t("../lib/lang"),a=t("../lib/dom"),u=function(t){var i=new n(t);i.$maxLines=4;var r=new e(i);return r.setHighlightActiveLine(!1),r.setShowPrintMargin(!1),r.renderer.setShowGutter(!1),r.renderer.setHighlightGutterLine(!1),r.$mouseHandler.$focusTimeout=0,r.$highlightTagPending=!0,r};a.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #3a674e;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);    position: absolute;    z-index: 2;}.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid rgba(109, 150, 13, 0.8);    background: rgba(58, 103, 78, 0.62);}.ace_completion-meta {    opacity: 0.5;    margin: 0.9em;}.ace_completion-message {    color: blue;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #2d69c7;}.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #93ca12;}.ace_editor.ace_autocomplete {    width: 300px;    z-index: 200000;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;    background: #fefefe;    color: #111;}.ace_dark.ace_editor.ace_autocomplete {    border: 1px #484747 solid;    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);    line-height: 1.4;    background: #25282c;    color: #c1c1c1;}","autocompletion.css",!1),i.AcePopup=function(t){var i=a.createElement("div"),n=new u(i);t&&t.appendChild(i),i.style.display="none",n.renderer.content.style.cursor="default",n.renderer.setStyle("ace_autocomplete"),n.setOption("displayIndentGuides",!1),n.setOption("dragDelay",150);var e,c=function(){};n.focus=c,n.$isFocused=!0,n.renderer.$cursorLayer.restartTimer=c,n.renderer.$cursorLayer.element.style.opacity=0,n.renderer.$maxLines=8,n.renderer.$keepTextAreaAtCursor=!1,n.setHighlightActiveLine(!1),n.session.highlight(""),n.session.$searchHighlight.clazz="ace_highlight-marker",n.on("mousedown",(function(t){var i=t.getDocumentPosition();n.selection.moveToPosition(i),f.start.row=f.end.row=i.row,t.stop()}));var h=new r(-1,0,-1,1/0),f=new r(-1,0,-1,1/0);f.id=n.session.addMarker(f,"ace_active-line","fullLine"),n.setSelectOnHover=function(t){t?h.id&&(n.session.removeMarker(h.id),h.id=null):h.id=n.session.addMarker(h,"ace_line-hover","fullLine")},n.setSelectOnHover(!1),n.on("mousemove",(function(t){if(e){if(e.x!=t.x||e.y!=t.y){(e=t).scrollTop=n.renderer.scrollTop;var i=e.getDocumentPosition().row;h.start.row!=i&&(h.id||n.setRow(i),d(i))}}else e=t})),n.renderer.on("beforeRender",(function(){if(e&&-1!=h.start.row){e.$pos=null;var t=e.getDocumentPosition().row;h.id||n.setRow(t),d(t,!0)}})),n.renderer.on("afterRender",(function(){var t=n.getRow(),i=n.renderer.$textLayer,e=i.element.childNodes[t-i.config.firstRow];e!==i.selectedNode&&i.selectedNode&&a.removeCssClass(i.selectedNode,"ace_selected"),i.selectedNode=e,e&&a.addCssClass(e,"ace_selected")}));var l=function(){d(-1)},d=function(t,i){t!==h.start.row&&(h.start.row=h.end.row=t,i||n.session._emit("changeBackMarker"),n._emit("changeHoverMarker"))};n.getHoveredRow=function(){return h.start.row},o.addListener(n.container,"mouseout",l),n.on("hide",l),n.on("changeSelection",l),n.session.doc.getLength=function(){return n.data.length},n.session.doc.getLine=function(t){var i=n.data[t];return"string"==typeof i?i:i&&i.value||""};var v=n.session.bgTokenizer;return v.$tokenizeRow=function(t){var i=n.data[t],e=[];if(!i)return e;"string"==typeof i&&(i={value:i});var r=i.caption||i.value||i.name;function o(t,n){t&&e.push({type:(i.className||"")+(n||""),value:t})}for(var s=r.toLowerCase(),a=(n.filterText||"").toLowerCase(),u=0,c=0,h=0;h<=a.length;h++)if(h!=c&&(i.matchMask&1<<h||h==a.length)){var f=a.slice(c,h);c=h;var l=s.indexOf(f,u);if(-1==l)continue;o(r.slice(u,l),""),o(r.slice(l,u=l+f.length),"completion-highlight")}return o(r.slice(u,r.length),""),i.meta&&e.push({type:"completion-meta",value:i.meta}),i.message&&e.push({type:"completion-message",value:i.message}),e},v.$updateOnChange=c,v.start=c,n.session.$computeWidth=function(){return this.screenWidth=0},n.isOpen=!1,n.isTopdown=!1,n.autoSelect=!0,n.filterText="",n.data=[],n.setData=function(t,i){n.filterText=i||"",n.setValue(s.stringRepeat("\n",t.length),-1),n.data=t||[],n.setRow(0)},n.getData=function(t){return n.data[t]},n.getRow=function(){return f.start.row},n.setRow=function(t){t=Math.max(this.autoSelect?0:-1,Math.min(this.data.length,t)),f.start.row!=t&&(n.selection.clearSelection(),f.start.row=f.end.row=t||0,n.session._emit("changeBackMarker"),n.moveCursorTo(t||0,0),n.isOpen&&n._signal("select"))},n.on("changeSelection",(function(){n.isOpen&&n.setRow(n.selection.lead.row),n.renderer.scrollCursorIntoView()})),n.hide=function(){this.container.style.display="none",this._signal("hide"),n.isOpen=!1},n.show=function(t,i,r){var o=this.container,s=window.innerHeight,a=window.innerWidth,u=this.renderer,c=t.top+this.$borderSize;c>s/2&&!r&&c+i+u.$maxLines*i*1.4>s?(u.$maxPixelHeight=c-2*this.$borderSize,o.style.top="",o.style.bottom=s-c+"px",n.isTopdown=!1):(u.$maxPixelHeight=s-(c+=i)-.2*i,o.style.top=c+"px",o.style.bottom="",n.isTopdown=!0),o.style.display="";var h=t.left;h+o.offsetWidth>a&&(h=a-o.offsetWidth),o.style.left=h+"px",this._signal("show"),e=null,n.isOpen=!0},n.goTo=function(t){var i=this.getRow(),n=this.session.getLength()-1;switch(t){case"up":i=i<=0?n:i-1;break;case"down":i=i>=n?-1:i+1;break;case"start":i=0;break;case"end":i=n}this.setRow(i)},n.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},n.$imageSize=0,n.$borderSize=1,n},i.$singleLineEditor=u})),ace.define("ace/autocomplete/util",["require","exports","module"],(function(t,i){i.parForEach=function(t,i,n){var e=0,r=t.length;0===r&&n();for(var o=0;o<r;o++)i(t[o],(function(t,i){++e===r&&n(t,i)}))};var n=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;i.retrievePrecedingIdentifier=function(t,i,e){e=e||n;for(var r=[],o=i-1;o>=0&&e.test(t[o]);o--)r.push(t[o]);return r.reverse().join("")},i.retrieveFollowingIdentifier=function(t,i,e){e=e||n;for(var r=[],o=i;o<t.length&&e.test(t[o]);o++)r.push(t[o]);return r},i.getCompletionPrefix=function(t){var i,n=t.getCursorPosition(),e=t.session.getLine(n.row);return t.completers.forEach(function(t){t.identifierRegexps&&t.identifierRegexps.forEach(function(t){!i&&t&&(i=this.retrievePrecedingIdentifier(e,n.column,t))}.bind(this))}.bind(this)),i||this.retrievePrecedingIdentifier(e,n.column)}})),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config"],(function(t,i){var n=t("./keyboard/hash_handler").HashHandler,e=t("./autocomplete/popup").AcePopup,r=t("./autocomplete/util"),o=t("./lib/lang"),s=t("./lib/dom"),a=t("./snippets").snippetManager,u=t("./config"),c=function(){this.autoInsert=!1,this.autoSelect=!0,this.exactMatch=!1,this.gatherCompletionsId=0,this.keyboardHandler=new n,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=o.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=o.delayedCall(this.updateDocTooltip.bind(this),50)};(function(){this.$init=function(){return this.popup=new e(document.body||document.documentElement),this.popup.on("click",function(t){this.insertMatch(),t.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.tooltipTimer.bind(null,null)),this.popup.on("select",this.tooltipTimer.bind(null,null)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},this.getPopup=function(){return this.popup||this.$init()},this.openPopup=function(t,i,n){this.popup||this.$init(),this.popup.autoSelect=this.autoSelect,this.popup.setData(this.completions.filtered,this.completions.filterText),t.keyBinding.addKeyboardHandler(this.keyboardHandler);var e=t.renderer;if(this.popup.setRow(this.autoSelect?0:-1),n)n&&!i&&this.detach();else{this.popup.setTheme(t.getTheme()),this.popup.setFontSize(t.getFontSize());var r=e.layerConfig.lineHeight,o=e.$cursorLayer.getPixelPosition(this.base,!0);o.left-=this.popup.getTextLeftOffset();var s=t.container.getBoundingClientRect();o.top+=s.top-e.layerConfig.offset,o.left+=s.left-t.renderer.scrollLeft,o.left+=e.gutterWidth,this.popup.show(o,r)}this.changeTimer.cancel()},this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener),this.changeTimer.cancel(),this.hideDocTooltip(),this.gatherCompletionsId+=1,this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completions=this.base=null},this.changeListener=function(){var t=this.editor.selection.lead;(t.row!=this.base.row||t.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},this.blurListener=function(t){var i=document.activeElement,n=this.editor.textInput.getElement(),e=t.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(t.relatedTarget);i==n||i.parentNode==(this.popup&&this.popup.container)||e||i==this.tooltipNode||t.relatedTarget==n||this.detach()},this.mousedownListener=function(){this.detach()},this.mousewheelListener=function(){this.detach()},this.goTo=function(t){this.popup.goTo(t)},this.insertMatch=function(t){if(t||(t=this.popup.getData(this.popup.getRow())),!t)return!1;var i=this.completions;if(this.editor.startOperation({command:{name:"insertMatch"}}),t.completer&&t.completer.insertMatch)t.completer.insertMatch(this.editor,t);else{if(i.filterText)for(var n,e=this.editor.selection.getAllRanges(),r=0;n=e[r];r++)n.start.column-=i.filterText.length,this.editor.session.remove(n);t.snippet?a.insertSnippet(this.editor,t.snippet):this.editor.execCommand("insertstring",t.value||t)}this.completions==i&&this.detach(),this.editor.endOperation()},this.commands={Up:function(t){t.completer.goTo("up")},Down:function(t){t.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(t){t.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(t){t.completer.goTo("end")},Esc:function(t){t.completer.detach()},Return:function(t){return t.completer.insertMatch()},"Shift-Return":function(t){t.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(t){var i=t.completer.insertMatch();if(i||t.tabstopManager)return i;t.completer.goTo("down")},PageUp:function(t){t.completer.popup.gotoPageUp()},PageDown:function(t){t.completer.popup.gotoPageDown()}},this.gatherCompletions=function(t,i){var n=t.getSession(),e=t.getCursorPosition(),o=r.getCompletionPrefix(t);this.base=n.doc.createAnchor(e.row,e.column-o.length),this.base.$insertRight=!0;var s=[],a=t.completers.length;return t.completers.forEach((function(u){u.getCompletions(t,n,e,o,(function(n,e){!n&&e&&(s=s.concat(e)),i(null,{prefix:r.getCompletionPrefix(t),matches:s,finished:0==--a})}))})),!0},this.showPopup=function(t,i){this.editor&&this.detach(),this.activated=!0,this.editor=t,t.completer!=this&&(t.completer&&t.completer.detach(),t.completer=this),t.on("changeSelection",this.changeListener),t.on("blur",this.blurListener),t.on("mousedown",this.mousedownListener),t.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,i)},this.updateCompletions=function(t,i){if(t&&this.base&&this.completions){var n=this.editor.getCursorPosition(),e=this.editor.session.getTextRange({start:this.base,end:n});if(e==this.completions.filterText)return;return this.completions.setFilter(e),this.completions.filtered.length&&(1!=this.completions.filtered.length||this.completions.filtered[0].value!=e||this.completions.filtered[0].snippet)?void this.openPopup(this.editor,e,t):this.detach()}if(i&&i.matches)return n=this.editor.getSelectionRange().start,this.base=this.editor.session.doc.createAnchor(n.row,n.column),this.base.$insertRight=!0,this.completions=new h(i.matches),this.openPopup(this.editor,"",t);var r=this.gatherCompletionsId,o=function(t){if(t.finished)return this.detach()}.bind(this),s=function(i){var n=i.prefix;this.completions=new h(i.matches),this.exactMatch&&(this.completions.exactMatch=!0),this.completions.setFilter(n);var e=this.completions.filtered;return e.length&&(1!=e.length||e[0].value!=n||e[0].snippet)?this.autoInsert&&1==e.length&&i.finished?this.insertMatch(e[0]):void this.openPopup(this.editor,n,t):o(i)}.bind(this),a=!0,u=null;if(this.gatherCompletions(this.editor,function(t,i){var n=i.prefix,e=i&&i.matches;if(!e||!e.length)return o(i);0===n.indexOf(i.prefix)&&r==this.gatherCompletionsId&&(a?u=i:s(i))}.bind(this)),a=!1,u){var c=u;u=null,s(c)}},this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},this.updateDocTooltip=function(){var t=this.popup,i=t.data,n=i&&(i[t.getHoveredRow()]||i[t.getRow()]),e=null;return n&&this.editor&&this.popup.isOpen?(this.editor.completers.some((function(t){return t.getDocTooltip&&(e=t.getDocTooltip(n)),e})),e||"string"==typeof n||(e=n),"string"==typeof e&&(e={docText:e}),e&&(e.docHTML||e.docText)?void this.showDocTooltip(e):this.hideDocTooltip()):this.hideDocTooltip()},this.showDocTooltip=function(t){this.tooltipNode||(this.tooltipNode=s.createElement("div"),this.tooltipNode.className="ace_tooltip ace_doc-tooltip",this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this));var i=this.tooltipNode;t.docHTML?i.innerHTML=t.docHTML:t.docText&&(i.textContent=t.docText),i.parentNode||document.body.appendChild(i);var n=this.popup,e=n.container.getBoundingClientRect();i.style.top=n.container.style.top,i.style.bottom=n.container.style.bottom,i.style.display="block",window.innerWidth-e.right<320?e.left<320?n.isTopdown?(i.style.top=e.bottom+"px",i.style.left=e.left+"px",i.style.right="",i.style.bottom=""):(i.style.top=n.container.offsetTop-i.offsetHeight+"px",i.style.left=e.left+"px",i.style.right="",i.style.bottom=""):(i.style.right=window.innerWidth-e.left+"px",i.style.left=""):(i.style.left=e.right+1+"px",i.style.right="")},this.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),this.tooltipNode){var t=this.tooltipNode;this.editor.isFocused()||document.activeElement!=t||this.editor.focus(),this.tooltipNode=null,t.parentNode&&t.parentNode.removeChild(t)}},this.onTooltipClick=function(t){for(var i=t.target;i&&i!=this.tooltipNode;){if("A"==i.nodeName&&i.href){i.rel="noreferrer",i.target="_blank";break}i=i.parentNode}},this.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var t=this.popup.container;t&&t.parentNode&&t.parentNode.removeChild(t)}this.popup=null}}).call(c.prototype),c.for=function(t){return t.completer||(u.get("sharedPopups")?(c.$shared||(c.$sharedInstance=new c),t.completer=c.$sharedInstance):(t.completer=new c,t.once("destroy",(function(t,i){i.completer.destroy()})))),t.completer},c.startCommand={name:"startAutocomplete",exec:function(t,i){var n=c.for(t);n.autoInsert=!1,n.autoSelect=!0,n.showPopup(t,i),n.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var h=function(t,i){this.all=t,this.filtered=t,this.filterText=i||"",this.exactMatch=!1};(function(){this.setFilter=function(t){if(t.length>this.filterText&&0===t.lastIndexOf(this.filterText,0))var i=this.filtered;else i=this.all;this.filterText=t,i=(i=this.filterCompletions(i,this.filterText)).sort((function(t,i){return i.exactMatch-t.exactMatch||i.$score-t.$score||(t.caption||t.value).localeCompare(i.caption||i.value)}));var n=null;i=i.filter((function(t){var i=t.snippet||t.caption||t.value;return i!==n&&(n=i,!0)})),this.filtered=i},this.filterCompletions=function(t,i){var n=[],e=i.toUpperCase(),r=i.toLowerCase();t:for(var o,s=0;o=t[s];s++){var a=o.caption||o.value||o.snippet;if(a){var u,c,h=-1,f=0,l=0;if(this.exactMatch){if(i!==a.substr(0,i.length))continue t}else{var d=a.toLowerCase().indexOf(r);if(d>-1)l=d;else for(var v=0;v<i.length;v++){var p=a.indexOf(r[v],h+1),m=a.indexOf(e[v],h+1);if((u=p>=0&&(m<0||p<m)?p:m)<0)continue t;(c=u-h-1)>0&&(-1===h&&(l+=10),l+=c,f|=1<<v),h=u}}o.matchMask=f,o.exactMatch=l?0:1,o.$score=(o.score||0)-l,n.push(o)}}return n}}).call(h.prototype),i.Autocomplete=c,i.FilteredList=h})),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],(function(t,i){var n=t("../range").Range,e=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;i.getCompletions=function(t,i,r,o,s){var a=function(t,i){var r=function(t,i){return t.getTextRange(n.fromPoints({row:0,column:0},i)).split(e).length-1}(t,i),o=t.getValue().split(e),s=Object.create(null),a=o[r];return o.forEach((function(t,i){if(t&&t!==a){var n=Math.abs(r-i),e=o.length-n;s[t]=s[t]?Math.max(e,s[t]):e}})),s}(i,r);s(null,Object.keys(a).map((function(t){return{caption:t,value:t,score:a[t],meta:"local"}})))}})),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],(function(t,i){var n=t("../snippets").snippetManager,e=t("../autocomplete").Autocomplete,r=t("../config"),o=t("../lib/lang"),s=t("../autocomplete/util"),a=t("../autocomplete/text_completer"),u={getCompletions:function(t,i,n,e,r){if(i.$mode.completer)return i.$mode.completer.getCompletions(t,i,n,e,r);var o=t.session.getState(n.row);r(null,i.$mode.getCompletions(o,i,n,e))}},c={getCompletions:function(t,i,e,r,o){var s=[],a=i.getTokenAt(e.row,e.column);a&&a.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?s.push("html-tag"):s=n.getActiveScopes(t);var u=n.snippetMap,c=[];s.forEach((function(t){for(var i=u[t]||[],n=i.length;n--;){var e=i[n],r=e.name||e.tabTrigger;r&&c.push({caption:r,snippet:e.content,meta:e.tabTrigger&&!e.name?e.tabTrigger+"⇥ ":"snippet",type:"snippet"})}}),this),o(null,c)},getDocTooltip:function(t){"snippet"!=t.type||t.docHTML||(t.docHTML=["<b>",o.escapeHTML(t.caption),"</b>","<hr></hr>",o.escapeHTML(t.snippet)].join(""))}},h=[c,a,u];i.setCompleters=function(t){h.length=0,t&&h.push.apply(h,t)},i.addCompleter=function(t){h.push(t)},i.textCompleter=a,i.keyWordCompleter=u,i.snippetCompleter=c;var f={name:"expandSnippet",exec:function(t){return n.expandWithTab(t)},bindKey:"Tab"},l=function(t,i){d(i.session.$mode)},d=function(t){"string"==typeof t&&(t=r.$modes[t]),t&&(n.files||(n.files={}),v(t.$id,t.snippetFileId),t.modes&&t.modes.forEach(d))},v=function(t,i){i&&t&&!n.files[t]&&(n.files[t]={},r.loadModule(i,(function(i){i&&(n.files[t]=i,!i.snippets&&i.snippetText&&(i.snippets=n.parseSnippetFile(i.snippetText)),n.register(i.snippets||[],i.scope),i.includeScopes&&(n.snippetMap[i.scope].includeScopes=i.includeScopes,i.includeScopes.forEach((function(t){d("ace/mode/"+t)}))))})))},p=function(t){var i=t.editor,n=i.completer&&i.completer.activated;if("backspace"===t.command.name)n&&!s.getCompletionPrefix(i)&&i.completer.detach();else if("insertstring"===t.command.name&&s.getCompletionPrefix(i)&&!n){var r=e.for(i);r.autoInsert=!1,r.showPopup(i)}},m=t("../editor").Editor;t("../config").defineOptions(m.prototype,"editor",{enableBasicAutocompletion:{set:function(t){t?(this.completers||(this.completers=Array.isArray(t)?t:h),this.commands.addCommand(e.startCommand)):this.commands.removeCommand(e.startCommand)},value:!1},enableLiveAutocompletion:{set:function(t){t?(this.completers||(this.completers=Array.isArray(t)?t:h),this.commands.on("afterExec",p)):this.commands.removeListener("afterExec",p)},value:!1},enableSnippets:{set:function(t){t?(this.commands.addCommand(f),this.on("changeMode",l),l(0,this)):(this.commands.removeCommand(f),this.off("changeMode",l))},value:!1}})})),ace.require(["ace/ext/language_tools"],(function(i){t&&(t.exports=i)}))})),ri((function(t){ace.define("ace/snippets/snippets",["require","exports","module"],(function(t,i){i.snippetText="# snippets for making snippets :)\nsnippet snip\n\tsnippet ${1:trigger}\n\t\t${2}\nsnippet msnip\n\tsnippet ${1:trigger} ${2:description}\n\t\t${3}\nsnippet v\n\t{VISUAL}\n",i.scope="snippets"})),ace.require(["ace/snippets/snippets"],(function(i){t&&(t.exports=i)}))}));
/**
@license MIT
Copyright (c) 2015 Horacio "LostInBrittany" Gonzalez

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

@element ace-widget
@blurb LostInBrittany's Ace (http://ace.c9.io/) widget
@homepage index.html
@demo demo/index.html
*/
var oi=function(){var t=this;setTimeout((function(){t.isFocused()||t.textInput.focus()})),this.textInput.$focusScroll="browser",this.textInput.focus()};class si extends ni{static get template(){return ii`
      <style>
        :host {
          display: block;
          width: 100%;
        }
    
        #editor {
          border: 1px solid #e3e3e3;
          border-radius: 4px;
          @apply --ace-widget-editor;
        }
      </style>
      <div id="editor"></div>
    `}static get is(){return"ace-widget"}static get properties(){return{theme:{type:String,value:"ace/theme/eclipse",observer:"themeChanged"},mode:{type:String,notify:!0,observer:"modeChanged"},value:{type:String,notify:!0,observer:"valueChanged"},readonly:{type:Boolean,value:!1,observer:"readonlyChanged"},softtabs:{type:Boolean,value:!0,observer:"softtabsChanged"},wrap:{type:Boolean,value:!1,observer:"wrapChanged"},fontSize:{type:String,value:"14px",observer:"fontSizeChanged"},tabSize:{type:Number,value:4,observer:"tabSizeChanged"},snippets:{type:String,notify:!0},autoComplete:{type:Object,notify:!0},minlines:{type:Number,value:15},maxlines:{type:Number,value:30},enableLiveAutocompletion:{type:Boolean,value:!1},enableSnippets:{type:Boolean,value:!1},initialFocus:{type:Boolean,value:!1},placeholder:{type:String,value:""},verbose:{type:Boolean,value:!1},baseUrl:{type:String,value:""}}}static get importMeta(){return import.meta}async connectedCallback(){super.connectedCallback();let t=this.baseUrl||`${this.importPath}../../ace-builds/src-min-noconflict/`;ace||await import(`${t}ace.js`),ace.require("ace/ext/language_tools")||await import(`${t}ext-language_tools.js`);let i=this.$.editor;i.style.width="100%",i.style.height="100%",this.editor=ace.edit(i),this.editor.focus=oi,this.dispatchEvent(new CustomEvent("editor-ready",{detail:{value:this.editor,oldValue:null}})),this.initializeEditor()}initializeEditor(){let t=this,i=this.editor;this.head=document.head,this.injectStyle("#ace_editor\\.css");let n=this.baseUrl||`${this.importPath}../../ace-builds/src-min-noconflict/`;ace.config.set("basePath",n),ace.config.set("modePath",n),ace.config.set("themePath",n),ace.config.set("workerPath",n),this.themeChanged(),this.editorValue="",i.setOption("enableSnippets",this.enableSnippets),i.setOption("enableBasicAutocompletion",!0),i.setOption("enableLiveAutocompletion",this.enableLiveAutocompletion),i.on("change",this.editorChangeAction.bind(this)),i.on("input",this._updatePlaceholder.bind(this)),setTimeout(this._updatePlaceholder.bind(this),100),this.session=i.getSession(),this.initialFocus&&i.focus(),i.$blockScrolling=1/0,i.setTheme(this.theme),this.readonlyChanged(),this.wrapChanged(),this.tabSizeChanged(),this.modeChanged(),this.softtabsChanged(),this.fontSizeChanged();let e=this.innerHTML.trim();void 0===this.value?this.value=e:this.valueChanged(),i.setOptions({minLines:this.minlines,maxLines:this.maxlines}),this.enableSnippets&&ace.require("ace/snippets").snippetManager.register(this.snippets,"javascript"),ace.require("ace/ext/language_tools").addCompleter({getCompletions:function(i,n,e,r,o){o(null,0!==r.length&&t.autoComplete||[])}}),this.verbose&&console.debug("[ace-widget] After initializing: editor.getSession().getValue()",i.getSession().getValue())}fontSizeChanged(){null!=this.editor&&(this.$.editor.style.fontSize=this.fontSize)}modeChanged(){this.editor&&this.editor.getSession().setMode(this.mode)}softtabsChanged(){null!=this.editor&&this.editor.getSession().setUseSoftTabs(this.softtabs)}themeChanged(){null!=this.editor&&this.editor.setTheme(this.theme)}valueChanged(){null!=this.editor&&this.editorValue!=this.value&&(this.editorValue=this.value,this.editor.clearSelection(),this.editor.resize())}readonlyChanged(){null!=this.editor&&(this.editor.setReadOnly(this.readonly),this.editor.setHighlightActiveLine(!this.readonly),this.editor.setHighlightGutterLine(!this.readonly),this.editor.renderer.$cursorLayer.element.style.opacity=this.readonly?0:1)}wrapChanged(){null!=this.editor&&this.editor.getSession().setUseWrapMode(this.wrap)}tabSizeChanged(){null!=this.editor&&this.tabSize&&this.editor.getSession().setTabSize(this.tabSize)}editorChangeAction(){this.dispatchEvent(new CustomEvent("editor-content",{detail:{value:this.editorValue,oldValue:this._value}}))}get editorValue(){return this.editor.getValue()}set editorValue(t){void 0!==t&&(this._value=t,this.editor.setValue(t))}focus(){this.editor.focus()}_updatePlaceholder(){let t=!this.editor.session.getValue().length,i=this.editor.renderer.emptyMessageNode;this.verbose&&console.debug("[ace-widget] _updatePlaceholder",{shouldShow:t,node:i}),!t&&i?(this.editor.renderer.scroller.removeChild(this.editor.renderer.emptyMessageNode),this.editor.renderer.emptyMessageNode=null):t&&!i&&(this.verbose&&console.debug("[ace-widget] _updatePlaceholder - shouldShow && !node"),i=this.editor.renderer.emptyMessageNode=document.createElement("div"),i.textContent=this.placeholder,i.className="ace_comment",i.style.padding="0 9px",i.style.zIndex="1",i.style.position="absolute",i.style.color="#aaa",this.verbose&&console.debug("[ace-widget] _updatePlaceholder - node",i),this.editor.renderer.scroller.appendChild(i))}injectStyle(t){const i=this.getRootNode().querySelector(t)||document.querySelector(t);this.shadowRoot.appendChild(i.cloneNode(!0))}}window.customElements.define(si.is,si);const ai=ei(ri((function(t){
/*! For license information please see editor.js.LICENSE.txt */
window,t.exports=function(t){var i={};function n(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=i,n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,i){if(1&i&&(t=n(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)n.d(e,r,function(i){return t[i]}.bind(null,r));return e},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="",n(n.s=186)}([function(t,i,n){var e=n(10),r=n(17),o=n(27),s=n(21),a=n(31),u=function(t,i,n){var c,h,f,l,d=t&u.F,v=t&u.G,p=t&u.P,m=t&u.B,b=v?e:t&u.S?e[i]||(e[i]={}):(e[i]||{}).prototype,g=v?r:r[i]||(r[i]={}),y=g.prototype||(g.prototype={});for(c in v&&(n=i),n)f=((h=!d&&b&&void 0!==b[c])?b:n)[c],l=m&&h?a(f,e):p&&"function"==typeof f?a(Function.call,f):f,b&&s(b,c,f,t&u.U),g[c]!=f&&o(g,c,l),p&&y[c]!=f&&(y[c]=f)};e.core=r,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},function(t){t.exports=function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}},function(t){function i(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}t.exports=function(t,n,e){return n&&i(t.prototype,n),e&&i(t,e),t}},function(t){function i(n){return t.exports=i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},i(n)}t.exports=i},function(t,i,n){var e=n(110);t.exports=function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&e(t,i)}},function(t,i,n){var e=n(80),r=n(149);t.exports=function(t,i){return!i||"object"!==e(i)&&"function"!=typeof i?r(t):i}},function(t,i,n){var e,r,o;r=[i,n(23),n(370),n(24),n(398),n(15)],void 0===(o="function"==typeof(e=function(t,i,e,r,o,s){var a,u=n(1);function c(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"log",e=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"color: inherit";if("console"in window&&window.console[n]){var o=["info","log","warn","error"].includes(n),s=[];switch(c.logLevel){case a.ERROR:if("error"!==n)return;break;case a.WARN:if(!["error","warn"].includes(n))return;break;case a.INFO:if(!o||t)return}e&&s.push(e);var u="Editor.js ".concat("2.22.2");t&&(o?(s.unshift("line-height: 1em;\n            color: #006FEA;\n            display: inline-block;\n            font-size: 11px;\n            line-height: 1em;\n            background-color: #fff;\n            padding: 4px 9px;\n            border-radius: 30px;\n            border: 1px solid rgba(56, 138, 229, 0.16);\n            margin: 4px 5px 4px 0;",r),i="%c".concat(u,"%c ").concat(i)):i="( ".concat(u," )").concat(i));try{if(o)if(e){var h;(h=console)[n].apply(h,["".concat(i," %o")].concat(s))}else{var f;(f=console)[n].apply(f,[i].concat(s))}else console[n](i)}catch(t){}}}Object.defineProperty(t,"__esModule",{value:!0}),t.setLogLevel=function(t){c.logLevel=t},t.typeOf=l,t.isFunction=d,t.isObject=v,t.isString=function(t){return"string"===l(t)},t.isBoolean=function(t){return"boolean"===l(t)},t.isNumber=function(t){return"number"===l(t)},t.isUndefined=p,t.isClass=function(t){return d(t)&&/^\s*class\s+/.test(t.toString())},t.isEmpty=function(t){return!t||0===Object.keys(t).length&&t.constructor===Object},t.isPromise=function(t){return Promise.resolve(t)===t},t.isPrintableKey=function(t){return t>47&&t<58||32===t||13===t||229===t||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223},t.sequence=function(t){return m.apply(this,arguments)},t.array=function(t){return Array.prototype.slice.call(t)},t.delay=function(t,i){return function(){var n=this,e=arguments;window.setTimeout((function(){return t.apply(n,e)}),i)}},t.getFileExtension=function(t){return t.name.split(".").pop()},t.isValidMimeType=function(t){return/^[-\w]+\/([-+\w]+|\*)$/.test(t)},t.debounce=function(t,i,n){var e,r=this;return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];var u=r,c=function(){e=null,n||t.apply(u,s)},h=n&&!e;window.clearTimeout(e),e=window.setTimeout(c,i),h&&t.apply(u,s)}},t.copyTextToClipboard=function(t){var i=s.default.make("div","codex-editor-clipboard",{innerHTML:t});document.body.appendChild(i);var n=window.getSelection(),e=document.createRange();e.selectNode(i),window.getSelection().removeAllRanges(),n.addRange(e),document.execCommand("copy"),document.body.removeChild(i)},t.getUserOS=b,t.capitalize=function(t){return t[0].toUpperCase()+t.slice(1)},t.deepMerge=function t(i){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(!r.length)return i;var s=r.shift();if(v(i)&&v(s))for(var a in s)v(s[a])?(i[a]||Object.assign(i,(0,e.default)({},a,{})),t(i[a],s[a])):Object.assign(i,(0,e.default)({},a,s[a]));return t.apply(void 0,[i].concat(r))},t.beautifyShortcut=function(t){var i=b();return t=t.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi," + "),i.mac?t.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN")},t.getValidUrl=function(t){try{return new URL(t).href}catch(t){}return"//"===t.substring(0,2)?window.location.protocol+t:window.location.origin+t},t.generateBlockId=function(){return(0,o.nanoid)(10)},t.openTab=function(t){window.open(t,"_blank")},t.generateId=function(){return"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").concat(Math.floor(1e8*Math.random()).toString(16))},t.deprecationAssert=function(t,i,n){var e="«".concat(i,"» is deprecated and will be removed in the next major release. Please use the «").concat(n,"» instead.");t&&f(e,"warn")},t.cacheable=function(t,i,n){var e=n.value?"value":"get",r=n[e],o="#".concat(i,"Cache");if(n[e]=function(){if(void 0===this[o]){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];this[o]=r.apply.apply(r,[this].concat(i))}return this[o]},"get"===e&&n.set){var s=n.set;n.set=function(i){delete t[o],s.apply(this,i)}}return n},t.isTouchSupported=t.logLabeled=t.log=t.mouseButtons=t.keyCodes=t.LogLevels=void 0,i=u(i),e=u(e),r=u(r),s=u(s),t.LogLevels=a,function(t){t.VERBOSE="VERBOSE",t.INFO="INFO",t.WARN="WARN",t.ERROR="ERROR"}(a||(t.LogLevels=a={})),t.keyCodes={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91},t.mouseButtons={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4},c.logLevel=a.VERBOSE;var h=c.bind(window,!1);t.log=h;var f=c.bind(window,!0);function l(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function d(t){return"function"===l(t)}function v(t){return"object"===l(t)}function p(t){return"undefined"===l(t)}function m(){return(m=(0,r.default)(i.default.mark((function t(n){var e,o,s,a,u=arguments;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=function(){return(a=(0,r.default)(i.default.mark((function t(n,e,r){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.function(n.data);case 3:return t.next=5,e(p(n.data)?{}:n.data);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r(p(n.data)?{}:n.data);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)},s=function(t,i,n){return a.apply(this,arguments)},e=u.length>1&&void 0!==u[1]?u[1]:function(){},o=u.length>2&&void 0!==u[2]?u[2]:function(){},t.abrupt("return",n.reduce(function(){var t=(0,r.default)(i.default.mark((function t(n,r){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:return t.abrupt("return",s(r,e,o));case 3:case"end":return t.stop()}}),t)})));return function(i,n){return t.apply(this,arguments)}}(),Promise.resolve()));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(){var t={win:!1,mac:!1,x11:!1,linux:!1},i=Object.keys(t).find((function(t){return-1!==navigator.appVersion.toLowerCase().indexOf(t)}));return i?(t[i]=!0,t):t}t.logLabeled=f;var g="ontouchstart"in document.documentElement;t.isTouchSupported=g})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e=n(80);function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}t.exports=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==e(t)&&"function"!=typeof t)return{default:t};var i=r();if(i&&i.has(t))return i.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var a=o?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=t[s]}return n.default=t,i&&i.set(t,n),n}},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(375)],void 0===(o="function"==typeof(e=function(e,r,o,s){var a=n(1);function u(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,e=new Array(i);n<i;n++)e[n]=t[n];return e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=a(r),o=a(o),s=a(s);var c=function(){function t(i){var n=this,e=i.config,o=i.eventsDispatcher;if((0,r.default)(this,t),this.nodes={},this.listeners=new s.default,this.readOnlyMutableListeners={on:function(t,i,e){n.mutableListenerIds.push(n.listeners.on(t,i,e,arguments.length>3&&void 0!==arguments[3]&&arguments[3]))},clearAll:function(){var t,i=function(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,i){if(t){if("string"==typeof t)return u(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,i):void 0}}(t))){var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,r,o=!0,s=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==e.return||e.return()}finally{if(s)throw r}}}}(n.mutableListenerIds);try{for(i.s();!(t=i.n()).done;)n.listeners.offById(t.value)}catch(t){i.e(t)}finally{i.f()}n.mutableListenerIds=[]}},this.mutableListenerIds=[],(this instanceof t?this.constructor:void 0)===t)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=o}return(0,o.default)(t,[{key:"removeAllNodes",value:function(){for(var t in this.nodes){var i=this.nodes[t];i instanceof HTMLElement&&i.remove()}}},{key:"state",set:function(t){this.Editor=t}},{key:"isRtl",get:function(){return"rtl"===this.config.i18n.direction}}]),t}();e.default=c,c.displayName="Module",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,i,n){var e=n(13);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,i,n){var e=n(68)("wks"),r=n(44),o=n(10).Symbol,s="function"==typeof o;(t.exports=function(t){return e[t]||(e[t]=s&&o[t]||(s?o:r)("Symbol."+t))}).store=e},function(t,i,n){var e,r,o;r=[i,n(42),n(2),n(3),n(7)],void 0===(o="function"==typeof(e=function(e,r,o,s,a){var u=n(8),c=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=c(r),o=c(o),s=c(s),a=u(a);var h=function(){function t(){(0,o.default)(this,t)}return(0,s.default)(t,null,[{key:"isSingleTag",value:function(t){return t.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(t.tagName)}},{key:"isLineBreakTag",value:function(t){return t&&t.tagName&&["BR","WBR"].includes(t.tagName)}},{key:"make",value:function(t){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=document.createElement(t);for(var s in Array.isArray(n)?(i=o.classList).add.apply(i,(0,r.default)(n)):n&&o.classList.add(n),e)Object.prototype.hasOwnProperty.call(e,s)&&(o[s]=e[s]);return o}},{key:"text",value:function(t){return document.createTextNode(t)}},{key:"svg",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:14,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:14,e=document.createElementNS("http://www.w3.org/2000/svg","svg");return e.classList.add("icon","icon--"+t),e.setAttribute("width",i+"px"),e.setAttribute("height",n+"px"),e.innerHTML='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#'.concat(t,'"></use>'),e}},{key:"append",value:function(t,i){Array.isArray(i)?i.forEach((function(i){return t.appendChild(i)})):t.appendChild(i)}},{key:"prepend",value:function(t,i){Array.isArray(i)?(i=i.reverse()).forEach((function(i){return t.prepend(i)})):t.prepend(i)}},{key:"swap",value:function(t,i){var n=document.createElement("div"),e=t.parentNode;e.insertBefore(n,t),e.insertBefore(t,i),e.insertBefore(i,n),e.removeChild(n)}},{key:"find",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelector(arguments.length>1?arguments[1]:void 0)}},{key:"get",value:function(t){return document.getElementById(t)}},{key:"findAll",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelectorAll(arguments.length>1?arguments[1]:void 0)}},{key:"findAllInputs",value:function(i){return a.array(i.querySelectorAll(t.allInputsSelector)).reduce((function(i,n){return t.isNativeInput(n)||t.containsOnlyInlineElements(n)?[].concat((0,r.default)(i),[n]):[].concat((0,r.default)(i),(0,r.default)(t.getDeepestBlockElements(n)))}),[])}},{key:"getDeepestNode",value:function(i){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=n?"lastChild":"firstChild",r=n?"previousSibling":"nextSibling";if(i&&i.nodeType===Node.ELEMENT_NODE&&i[e]){var o=i[e];if(t.isSingleTag(o)&&!t.isNativeInput(o)&&!t.isLineBreakTag(o))if(o[r])o=o[r];else{if(!o.parentNode[r])return o.parentNode;o=o.parentNode[r]}return this.getDeepestNode(o,n)}return i}},{key:"isElement",value:function(t){return!a.isNumber(t)&&t&&t.nodeType&&t.nodeType===Node.ELEMENT_NODE}},{key:"isFragment",value:function(t){return!a.isNumber(t)&&t&&t.nodeType&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}},{key:"isContentEditable",value:function(t){return"true"===t.contentEditable}},{key:"isNativeInput",value:function(t){return!(!t||!t.tagName)&&["INPUT","TEXTAREA"].includes(t.tagName)}},{key:"canSetCaret",value:function(i){var n=!0;if(t.isNativeInput(i))switch(i.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":n=!1}else n=t.isContentEditable(i);return n}},{key:"isNodeEmpty",value:function(t){return!(this.isSingleTag(t)&&!this.isLineBreakTag(t))&&0===(this.isElement(t)&&this.isNativeInput(t)?t.value:t.textContent.replace("​","")).trim().length}},{key:"isLeaf",value:function(t){return!!t&&0===t.childNodes.length}},{key:"isEmpty",value:function(t){t.normalize();for(var i=[t];i.length>0;)if(t=i.shift()){if(this.isLeaf(t)&&!this.isNodeEmpty(t))return!1;t.childNodes&&i.push.apply(i,(0,r.default)(Array.from(t.childNodes)))}return!0}},{key:"isHTMLString",value:function(i){var n=t.make("div");return n.innerHTML=i,n.childElementCount>0}},{key:"getContentLength",value:function(i){return t.isNativeInput(i)?i.value.length:i.nodeType===Node.TEXT_NODE?i.length:i.textContent.length}},{key:"containsOnlyInlineElements",value:function(i){var n;return a.isString(i)?(n=document.createElement("div")).innerHTML=i:n=i,Array.from(n.children).every((function i(n){return!t.blockElements.includes(n.tagName.toLowerCase())&&Array.from(n.children).every(i)}))}},{key:"getDeepestBlockElements",value:function(i){return t.containsOnlyInlineElements(i)?[i]:Array.from(i.children).reduce((function(i,n){return[].concat((0,r.default)(i),(0,r.default)(t.getDeepestBlockElements(n)))}),[])}},{key:"getHolder",value:function(t){return a.isString(t)?document.getElementById(t):t}},{key:"isExtensionNode",value:function(t){return t&&["GRAMMARLY-EXTENSION"].includes(t.nodeName)}},{key:"isAnchor",value:function(t){return"a"===t.tagName.toLowerCase()}},{key:"allInputsSelector",get:function(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map((function(t){return'input[type="'.concat(t,'"]')})).join(", ")}},{key:"blockElements",get:function(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tr","tfoot","ul","video"]}}]),t}();e.default=h,h.displayName="Dom",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e=n(33),r=Math.min;t.exports=function(t){return t>0?r(e(t),9007199254740991):0}},function(t){var i=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=i)},function(t,i,n){t.exports=!n(11)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,i,n){var e=n(12),r=n(113),o=n(40),s=Object.defineProperty;i.f=n(18)?Object.defineProperty:function(t,i,n){if(e(t),i=o(i,!0),e(n),r)try{return s(t,i,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[i]=n.value),t}},function(t,i,n){var e=n(38);t.exports=function(t){return Object(e(t))}},function(t,i,n){var e=n(10),r=n(27),o=n(26),s=n(44)("src"),a=n(191),u=(""+a).split("toString");n(17).inspectSource=function(t){return a.call(t)},(t.exports=function(t,i,n,a){var c="function"==typeof n;c&&(o(n,"name")||r(n,"name",i)),t[i]!==n&&(c&&(o(n,s)||r(n,s,t[i]?""+t[i]:u.join(String(i)))),t===e?t[i]=n:a?t[i]?t[i]=n:r(t,i,n):(delete t[i],r(t,i,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[s]||a.call(this)}))},function(t,i,n){var e=n(0),r=n(11),o=n(38),s=/"/g,a=function(t,i,n,e){var r=String(o(t)),a="<"+i;return""!==n&&(a+=" "+n+'="'+String(e).replace(s,"&quot;")+'"'),a+">"+r+"</"+i+">"};t.exports=function(t,i){var n={};n[t]=i(a),e(e.P+e.F*r((function(){var i=""[t]('"');return i!==i.toLowerCase()||i.split('"').length>3})),"String",n)}},function(t,i,n){t.exports=n(144)},function(t){function i(t,i,n,e,r,o,s){try{var a=t[o](s),u=a.value}catch(t){return void n(t)}a.done?i(u):Promise.resolve(u).then(e,r)}t.exports=function(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var s=t.apply(n,e);function a(t){i(s,r,o,a,u,"next",t)}function u(t){i(s,r,o,a,u,"throw",t)}a(void 0)}))}}},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(7),n(15)],void 0===(o="function"==typeof(e=function(e,r,o,s,a){var u=n(8),c=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=c(r),o=c(o),s=u(s),a=c(a);var h=function(){function t(){(0,r.default)(this,t),this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}return(0,o.default)(t,[{key:"removeFakeBackground",value:function(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}},{key:"setFakeBackground",value:function(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}},{key:"save",value:function(){this.savedSelectionRange=t.range}},{key:"restore",value:function(){if(this.savedSelectionRange){var t=window.getSelection();t.removeAllRanges(),t.addRange(this.savedSelectionRange)}}},{key:"clearSaved",value:function(){this.savedSelectionRange=null}},{key:"collapseToEnd",value:function(){var t=window.getSelection(),i=document.createRange();i.selectNodeContents(t.focusNode),i.collapse(!1),t.removeAllRanges(),t.addRange(i)}},{key:"findParentTag",value:function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,e=window.getSelection(),r=null;return e&&e.anchorNode&&e.focusNode?([e.anchorNode,e.focusNode].forEach((function(e){for(var o=n;o>0&&e.parentNode&&(e.tagName!==t||(r=e,i&&e.classList&&!e.classList.contains(i)&&(r=null),!r));)e=e.parentNode,o--})),r):null}},{key:"expandToTag",value:function(t){var i=window.getSelection();i.removeAllRanges();var n=document.createRange();n.selectNodeContents(t),i.addRange(n)}}],[{key:"isSelectionAtEditor",value:function(i){if(!i)return!1;var n=i.anchorNode||i.focusNode;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);var e=null;return n&&n instanceof Element&&(e=n.closest(".".concat(t.CSS.editorZone))),!!e&&e.nodeType===Node.ELEMENT_NODE}},{key:"isRangeAtEditor",value:function(i){if(i){var n=i.startContainer;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);var e=null;return n&&n instanceof Element&&(e=n.closest(".".concat(t.CSS.editorZone))),!!e&&e.nodeType===Node.ELEMENT_NODE}}},{key:"getRangeFromSelection",value:function(t){return t&&t.rangeCount?t.getRangeAt(0):null}},{key:"get",value:function(){return window.getSelection()}},{key:"setCursor",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=document.createRange(),e=window.getSelection();if(a.default.isNativeInput(t)){if(!a.default.canSetCaret(t))return;return t.focus(),t.selectionStart=t.selectionEnd=i,t.getBoundingClientRect()}return n.setStart(t,i),n.setEnd(t,i),e.removeAllRanges(),e.addRange(n),n.getBoundingClientRect()}},{key:"addFakeCursor",value:function(i){var n=t.range,e=a.default.make("span","codex-editor__fake-cursor");e.dataset.mutationFree="true",!n||i&&!i.contains(n.startContainer)||(n.collapse(),n.insertNode(e))}},{key:"removeFakeCursor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,i=a.default.find(t,".codex-editor__fake-cursor");i&&i.remove()}},{key:"CSS",get:function(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}},{key:"anchorNode",get:function(){var t=window.getSelection();return t?t.anchorNode:null}},{key:"anchorElement",get:function(){var t=window.getSelection();if(!t)return null;var i=t.anchorNode;return i?a.default.isElement(i)?i:i.parentElement:null}},{key:"anchorOffset",get:function(){var t=window.getSelection();return t?t.anchorOffset:null}},{key:"isCollapsed",get:function(){var t=window.getSelection();return t?t.isCollapsed:null}},{key:"isAtEditor",get:function(){return this.isSelectionAtEditor(t.get())}},{key:"isSelectionExists",get:function(){return!!t.get().anchorNode}},{key:"range",get:function(){return this.getRangeFromSelection(this.get())}},{key:"rect",get:function(){var t,i=document.selection,n={x:0,y:0,width:0,height:0};if(i&&"Control"!==i.type)return t=(i=i).createRange(),n.x=t.boundingLeft,n.y=t.boundingTop,n.width=t.boundingWidth,n.height=t.boundingHeight,n;if(!window.getSelection)return s.log("Method window.getSelection is not supported","warn"),n;if(null===(i=window.getSelection()).rangeCount||isNaN(i.rangeCount))return s.log("Method SelectionUtils.rangeCount is not supported","warn"),n;if(0===i.rangeCount)return n;if((t=i.getRangeAt(0).cloneRange()).getBoundingClientRect&&(n=t.getBoundingClientRect()),0===n.x&&0===n.y){var e=document.createElement("span");if(e.getBoundingClientRect){e.appendChild(document.createTextNode("​")),t.insertNode(e),n=e.getBoundingClientRect();var r=e.parentNode;r.removeChild(e),r.normalize()}}return n}},{key:"text",get:function(){return window.getSelection?window.getSelection().toString():""}}]),t}();e.default=h,h.displayName="SelectionUtils",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t){var i={}.hasOwnProperty;t.exports=function(t,n){return i.call(t,n)}},function(t,i,n){var e=n(19),r=n(43);t.exports=n(18)?function(t,i,n){return e.f(t,i,r(1,n))}:function(t,i,n){return t[i]=n,t}},function(t,i,n){var e=n(61),r=n(38);t.exports=function(t){return e(r(t))}},function(t,i,n){var e=n(11);t.exports=function(t,i){return!!t&&e((function(){i?t.call(null,(function(){}),1):t.call(null)}))}},function(t,i,n){var e=n(360),r=n(361),o=n(145),s=n(362);t.exports=function(t,i){return e(t)||r(t,i)||o(t,i)||s()}},function(t,i,n){var e=n(32);t.exports=function(t,i,n){if(e(t),void 0===i)return t;switch(n){case 1:return function(n){return t.call(i,n)};case 2:return function(n,e){return t.call(i,n,e)};case 3:return function(n,e,r){return t.call(i,n,e,r)}}return function(){return t.apply(i,arguments)}}},function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,i,n){var e=n(62),r=n(43),o=n(28),s=n(40),a=n(26),u=n(113),c=Object.getOwnPropertyDescriptor;i.f=n(18)?c:function(t,i){if(t=o(t),i=s(i,!0),u)try{return c(t,i)}catch(t){}if(a(t,i))return r(!e.f.call(t,i),t[i])}},function(t,i,n){var e=n(0),r=n(17),o=n(11);t.exports=function(t,i){var n=(r.Object||{})[t]||Object[t],s={};s[t]=i(n),e(e.S+e.F*o((function(){n(1)})),"Object",s)}},function(t,i,n){var e=n(31),r=n(61),o=n(20),s=n(16),a=n(129);t.exports=function(t,i){var n=1==t,u=2==t,c=3==t,h=4==t,f=6==t,l=5==t||f,d=i||a;return function(i,a,v){for(var p,m,b=o(i),g=r(b),y=e(a,v,3),w=s(g.length),x=0,k=n?d(i,w):u?d(i,0):void 0;w>x;x++)if((l||x in g)&&(m=y(p=g[x],x,b),t))if(n)k[x]=m;else if(m)switch(t){case 3:return!0;case 5:return p;case 6:return x;case 2:k.push(p)}else if(h)return!1;return f?-1:c||h?h:k}}},function(t){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,i,n){if(n(18)){var e=n(45),r=n(10),o=n(11),s=n(0),a=n(79),u=n(109),c=n(31),h=n(57),f=n(43),l=n(27),d=n(58),v=n(33),p=n(16),m=n(140),b=n(47),g=n(40),y=n(26),w=n(63),x=n(13),k=n(20),_=n(101),A=n(48),S=n(50),E=n(49).f,M=n(103),C=n(44),O=n(14),T=n(36),R=n(69),j=n(64),I=n(105),F=n(55),B=n(72),z=n(56),P=n(104),L=n(131),D=n(19),N=n(34),U=D.f,V=N.f,H=r.RangeError,$=r.TypeError,K=r.Uint8Array,W=Array.prototype,q=u.ArrayBuffer,G=u.DataView,Y=T(0),J=T(2),Q=T(3),Z=T(4),X=T(5),tt=T(6),it=R(!0),nt=R(!1),et=I.values,rt=I.keys,ot=I.entries,st=W.lastIndexOf,at=W.reduce,ut=W.reduceRight,ct=W.join,ht=W.sort,ft=W.slice,lt=W.toString,dt=W.toLocaleString,vt=O("iterator"),pt=O("toStringTag"),mt=C("typed_constructor"),bt=C("def_constructor"),gt=a.CONSTR,yt=a.TYPED,wt=a.VIEW,xt=T(1,(function(t,i){return Et(j(t,t[bt]),i)})),kt=o((function(){return 1===new K(new Uint16Array([1]).buffer)[0]})),_t=!!K&&!!K.prototype.set&&o((function(){new K(1).set({})})),At=function(t,i){var n=v(t);if(n<0||n%i)throw H("Wrong offset!");return n},St=function(t){if(x(t)&&yt in t)return t;throw $(t+" is not a typed array!")},Et=function(t,i){if(!x(t)||!(mt in t))throw $("It is not a typed array constructor!");return new t(i)},Mt=function(t,i){return Ct(j(t,t[bt]),i)},Ct=function(t,i){for(var n=0,e=i.length,r=Et(t,e);e>n;)r[n]=i[n++];return r},Ot=function(t,i,n){U(t,i,{get:function(){return this._d[n]}})},Tt=function(t){var i,n,e,r,o,s,a=k(t),u=arguments.length,h=u>1?arguments[1]:void 0,f=void 0!==h,l=M(a);if(null!=l&&!_(l)){for(s=l.call(a),e=[],i=0;!(o=s.next()).done;i++)e.push(o.value);a=e}for(f&&u>2&&(h=c(h,arguments[2],2)),i=0,n=p(a.length),r=Et(this,n);n>i;i++)r[i]=f?h(a[i],i):a[i];return r},Rt=function(){for(var t=0,i=arguments.length,n=Et(this,i);i>t;)n[t]=arguments[t++];return n},jt=!!K&&o((function(){dt.call(new K(1))})),It=function(){return dt.apply(jt?ft.call(St(this)):St(this),arguments)},Ft={copyWithin:function(t,i){return L.call(St(this),t,i,arguments.length>2?arguments[2]:void 0)},every:function(t){return Z(St(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(){return P.apply(St(this),arguments)},filter:function(t){return Mt(this,J(St(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return X(St(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(St(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Y(St(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(St(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return it(St(this),t,arguments.length>1?arguments[1]:void 0)},join:function(){return ct.apply(St(this),arguments)},lastIndexOf:function(){return st.apply(St(this),arguments)},map:function(t){return xt(St(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(){return at.apply(St(this),arguments)},reduceRight:function(){return ut.apply(St(this),arguments)},reverse:function(){for(var t,i=St(this).length,n=Math.floor(i/2),e=0;e<n;)t=this[e],this[e++]=this[--i],this[i]=t;return this},some:function(t){return Q(St(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ht.call(St(this),t)},subarray:function(t,i){var n=St(this),e=n.length,r=b(t,e);return new(j(n,n[bt]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,p((void 0===i?e:b(i,e))-r))}},Bt=function(t,i){return Mt(this,ft.call(St(this),t,i))},zt=function(t){St(this);var i=At(arguments[1],1),n=this.length,e=k(t),r=p(e.length),o=0;if(r+i>n)throw H("Wrong length!");for(;o<r;)this[i+o]=e[o++]},Pt={entries:function(){return ot.call(St(this))},keys:function(){return rt.call(St(this))},values:function(){return et.call(St(this))}},Lt=function(t,i){return x(t)&&t[yt]&&"symbol"!=typeof i&&i in t&&String(+i)==String(i)},Dt=function(t,i){return Lt(t,i=g(i,!0))?f(2,t[i]):V(t,i)},Nt=function(t,i,n){return!(Lt(t,i=g(i,!0))&&x(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?U(t,i,n):(t[i]=n.value,t)};gt||(N.f=Dt,D.f=Nt),s(s.S+s.F*!gt,"Object",{getOwnPropertyDescriptor:Dt,defineProperty:Nt}),o((function(){lt.call({})}))&&(lt=dt=function(){return ct.call(this)});var Ut=d({},Ft);d(Ut,Pt),l(Ut,vt,Pt.values),d(Ut,{slice:Bt,set:zt,constructor:function(){},toString:lt,toLocaleString:It}),Ot(Ut,"buffer","b"),Ot(Ut,"byteOffset","o"),Ot(Ut,"byteLength","l"),Ot(Ut,"length","e"),U(Ut,pt,{get:function(){return this[yt]}}),t.exports=function(t,i,n,u){var c=t+((u=!!u)?"Clamped":"")+"Array",f="get"+t,d="set"+t,v=r[c],b=v||{},g=v&&S(v),y={},k=v&&v.prototype,_=function(t,n){U(t,n,{get:function(){return function(t,n){var e=t._d;return e.v[f](n*i+e.o,kt)}(this,n)},set:function(t){return function(t,n,e){var r=t._d;u&&(e=(e=Math.round(e))<0?0:e>255?255:255&e),r.v[d](n*i+r.o,e,kt)}(this,n,t)},enumerable:!0})};v&&a.ABV?o((function(){v(1)}))&&o((function(){new v(-1)}))&&B((function(t){new v,new v(null),new v(1.5),new v(t)}),!0)||(v=n((function(t,n,e,r){var o;return h(t,v,c),x(n)?n instanceof q||"ArrayBuffer"==(o=w(n))||"SharedArrayBuffer"==o?void 0!==r?new b(n,At(e,i),r):void 0!==e?new b(n,At(e,i)):new b(n):yt in n?Ct(v,n):Tt.call(v,n):new b(m(n))})),Y(g!==Function.prototype?E(b).concat(E(g)):E(b),(function(t){t in v||l(v,t,b[t])})),v.prototype=k,e||(k.constructor=v)):(v=n((function(t,n,e,r){h(t,v,c,"_d");var o,s,a,u,f=0,d=0;if(x(n)){if(!(n instanceof q||"ArrayBuffer"==(u=w(n))||"SharedArrayBuffer"==u))return yt in n?Ct(v,n):Tt.call(v,n);o=n,d=At(e,i);var b=n.byteLength;if(void 0===r){if(b%i)throw H("Wrong length!");if((s=b-d)<0)throw H("Wrong length!")}else if((s=p(r)*i)+d>b)throw H("Wrong length!");a=s/i}else a=m(n),o=new q(s=a*i);for(l(t,"_d",{b:o,o:d,l:s,e:a,v:new G(o)});f<a;)_(t,f++)})),k=v.prototype=A(Ut),l(k,"constructor",v));var M=k[vt],C=!!M&&("values"==M.name||null==M.name),O=Pt.values;l(v,mt,!0),l(k,yt,c),l(k,wt,!0),l(k,bt,v),(u?new v(1)[pt]==c:pt in k)||U(k,pt,{get:function(){return c}}),y[c]=v,s(s.G+s.W+s.F*(v!=b),y),s(s.S,c,{BYTES_PER_ELEMENT:i}),s(s.S+s.F*o((function(){b.of.call(v,1)})),c,{from:Tt,of:Rt}),"BYTES_PER_ELEMENT"in k||l(k,"BYTES_PER_ELEMENT",i),s(s.P,c,Ft),z(c),s(s.P+s.F*_t,c,{set:zt}),s(s.P+s.F*!C,c,Pt),e||k.toString==lt||(k.toString=lt),s(s.P+s.F*o((function(){new v(1).slice()})),c,{slice:Bt}),s(s.P+s.F*(o((function(){return[1,2].toLocaleString()!=new v([1,2]).toLocaleString()}))||!o((function(){k.toLocaleString.call([1,2])}))),c,{toLocaleString:It}),F[c]=C?M:O,e||C||l(k,vt,O)}}else t.exports=function(){}},function(t,i,n){var e=n(13);t.exports=function(t,i){if(!e(t))return t;var n,r;if(i&&"function"==typeof(n=t.toString)&&!e(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!e(r=n.call(t)))return r;if(!i&&"function"==typeof(n=t.toString)&&!e(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,i,n){var e=n(44)("meta"),r=n(13),o=n(26),s=n(19).f,a=0,u=Object.isExtensible||function(){return!0},c=!n(11)((function(){return u(Object.preventExtensions({}))})),h=function(t){s(t,e,{value:{i:"O"+ ++a,w:{}}})},f=t.exports={KEY:e,NEED:!1,fastKey:function(t,i){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,e)){if(!u(t))return"F";if(!i)return"E";h(t)}return t[e].i},getWeak:function(t,i){if(!o(t,e)){if(!u(t))return!0;if(!i)return!1;h(t)}return t[e].w},onFreeze:function(t){return c&&f.NEED&&u(t)&&!o(t,e)&&h(t),t}}},function(t,i,n){var e=n(367),r=n(368),o=n(145),s=n(369);t.exports=function(t){return e(t)||r(t)||o(t)||s()}},function(t){t.exports=function(t,i){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:i}}},function(t){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t){t.exports=!1},function(t,i,n){var e=n(115),r=n(88);t.exports=Object.keys||function(t){return e(t,r)}},function(t,i,n){var e=n(33),r=Math.max,o=Math.min;t.exports=function(t,i){return(t=e(t))<0?r(t+i,0):o(t,i)}},function(t,i,n){var e=n(12),r=n(116),o=n(88),s=n(87)("IE_PROTO"),a=function(){},u=function(){var t,i=n(85)("iframe"),e=o.length;for(i.style.display="none",n(89).appendChild(i),i.src="javascript:",(t=i.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;e--;)delete u.prototype[o[e]];return u()};t.exports=Object.create||function(t,i){var n;return null!==t?(a.prototype=e(t),n=new a,a.prototype=null,n[s]=t):n=u(),void 0===i?n:r(n,i)}},function(t,i,n){var e=n(115),r=n(88).concat("length","prototype");i.f=Object.getOwnPropertyNames||function(t){return e(t,r)}},function(t,i,n){var e=n(26),r=n(20),o=n(87)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),e(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,i,n){var e=n(14)("unscopables"),r=Array.prototype;null==r[e]&&n(27)(r,e,{}),t.exports=function(t){r[e][t]=!0}},function(t,i,n){var e=n(13);t.exports=function(t,i){if(!e(t)||t._t!==i)throw TypeError("Incompatible receiver, "+i+" required!");return t}},function(t,i,n){var e=n(19).f,r=n(26),o=n(14)("toStringTag");t.exports=function(t,i,n){t&&!r(t=n?t:t.prototype,o)&&e(t,o,{configurable:!0,value:i})}},function(t,i,n){var e=n(0),r=n(38),o=n(11),s=n(91),a="["+s+"]",u=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),h=function(t,i,n){var r={},a=o((function(){return!!s[t]()||"​"!="​"[t]()})),u=r[t]=a?i(f):s[t];n&&(r[n]=u),e(e.P+e.F*a,"String",r)},f=h.trim=function(t,i){return t=String(r(t)),1&i&&(t=t.replace(u,"")),2&i&&(t=t.replace(c,"")),t};t.exports=h},function(t){t.exports={}},function(t,i,n){var e=n(10),r=n(19),o=n(18),s=n(14)("species");t.exports=function(t){var i=e[t];o&&i&&!i[s]&&r.f(i,s,{configurable:!0,get:function(){return this}})}},function(t){t.exports=function(t,i,n,e){if(!(t instanceof i)||void 0!==e&&e in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,i,n){var e=n(21);t.exports=function(t,i,n){for(var r in i)e(t,r,i[r],n);return t}},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(147)],void 0===(o="function"==typeof(e=function(e,r,o,s){var a=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=a(r),o=a(o),s=a(s);var u=function(){function t(){(0,r.default)(this,t)}return(0,o.default)(t,null,[{key:"ui",value:function(i,n){return t._t(i,n)}},{key:"t",value:function(i,n){return t._t(i,n)}},{key:"setDictionary",value:function(i){t.currentDictionary=i}},{key:"_t",value:function(i,n){var e=t.getNamespace(i);return e&&e[n]?e[n]:n}},{key:"getNamespace",value:function(i){return i.split(".").reduce((function(t,i){return t&&Object.keys(t).length?t[i]:{}}),t.currentDictionary)}}]),t}();e.default=u,u.displayName="I18n",u.currentDictionary=s.default,t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(380),n(7)],void 0===(o="function"==typeof(e=function(e,r,o,s,a){var u=n(8),c=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=c(r),o=c(o),s=c(s),a=u(a);var h=function(){function t(i){var n=this;(0,r.default)(this,t),this.iterator=null,this.activated=!1,this.allowArrows=!0,this.onKeyDown=function(i){if(n.isEventReadyForHandling(i))switch(t.usedKeys.includes(i.keyCode)&&i.preventDefault(),i.keyCode){case a.keyCodes.TAB:n.handleTabPress(i);break;case a.keyCodes.LEFT:case a.keyCodes.UP:n.flipLeft();break;case a.keyCodes.RIGHT:case a.keyCodes.DOWN:n.flipRight();break;case a.keyCodes.ENTER:n.handleEnterPress(i)}},this.allowArrows=!a.isBoolean(i.allowArrows)||i.allowArrows,this.iterator=new s.default(i.items,i.focusedItemClass),this.activateCallback=i.activateCallback}return(0,o.default)(t,[{key:"activate",value:function(t){this.activated=!0,t&&this.iterator.setItems(t),document.addEventListener("keydown",this.onKeyDown)}},{key:"deactivate",value:function(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}},{key:"focusFirst",value:function(){this.dropCursor(),this.flipRight()}},{key:"flipLeft",value:function(){this.iterator.previous()}},{key:"flipRight",value:function(){this.iterator.next()}},{key:"dropCursor",value:function(){this.iterator.dropCursor()}},{key:"isEventReadyForHandling",value:function(t){var i=[a.keyCodes.TAB,a.keyCodes.ENTER],n=this.iterator.currentItem==document.activeElement;return this.allowArrows&&!n&&i.push(a.keyCodes.LEFT,a.keyCodes.RIGHT,a.keyCodes.UP,a.keyCodes.DOWN),this.activated&&-1!==i.indexOf(t.keyCode)}},{key:"handleTabPress",value:function(t){switch(t.shiftKey?s.default.directions.LEFT:s.default.directions.RIGHT){case s.default.directions.RIGHT:this.flipRight();break;case s.default.directions.LEFT:this.flipLeft()}}},{key:"handleEnterPress",value:function(t){this.activated&&(this.iterator.currentItem&&this.iterator.currentItem.click(),a.isFunction(this.activateCallback)&&this.activateCallback(this.iterator.currentItem),t.preventDefault(),t.stopPropagation())}},{key:"currentItem",get:function(){return this.iterator.currentItem}}],[{key:"usedKeys",get:function(){return[a.keyCodes.TAB,a.keyCodes.LEFT,a.keyCodes.RIGHT,a.keyCodes.ENTER,a.keyCodes.UP,a.keyCodes.DOWN]}}]),t}();e.default=h,h.displayName="Flipper",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e=n(37);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,i){i.f={}.propertyIsEnumerable},function(t,i,n){var e=n(37),r=n(14)("toStringTag"),o="Arguments"==e(function(){return arguments}());t.exports=function(t){var i,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,i){try{return t[i]}catch(t){}}(i=Object(t),r))?n:o?e(i):"Object"==(s=e(i))&&"function"==typeof i.callee?"Arguments":s}},function(t,i,n){var e=n(12),r=n(32),o=n(14)("species");t.exports=function(t,i){var n,s=e(t).constructor;return void 0===s||null==(n=e(s)[o])?i:r(n)}},function(t,i,n){var e,r,o;r=[i,n(7),n(378)],void 0===(o="function"==typeof(e=function(t,i,e){var r=n(1),o=n(8);function s(t){return new e.default({tags:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}}).clean(t)}function a(t,n){return Array.isArray(t)?(o=n,t.map((function(t){return a(t,o)}))):i.isObject(t)?function(t,n){var e,r={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=t[o],u=i.isObject(e=n[o])||i.isBoolean(e)||i.isFunction(e)?n[o]:n;r[o]=a(s,u)}return r}(t,n):i.isString(t)?(e=t,i.isObject(r=n)?s(e,r):!1===r?s(e,{}):e):t;var e,r,o}Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeBlocks=function(t,n){return t.map((function(t){var e=i.isFunction(n)?n(t.tool):n;return i.isEmpty(e)||(t.data=a(t.data,e)),t}))},t.clean=s,i=o(i),e=r(e)})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(30),n(23),n(24),n(42),n(2),n(3),n(149),n(168),n(5),n(6),n(4),n(15),n(7),n(111),n(25),n(151)],void 0===(o="function"==typeof(e=function(t,i,e,r,o,s,a,u,c,h,f,l,d,v,p,m,b){var g,y=n(8),w=n(1);function x(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockToolAPI=void 0,i=w(i),e=w(e),r=w(r),o=w(o),s=w(s),a=w(a),u=w(u),c=w(c),h=w(h),f=w(f),l=w(l),d=w(d),v=y(v),p=w(p),m=w(m),b=w(b),t.BlockToolAPI=g,function(t){t.APPEND_CALLBACK="appendCallback",t.RENDERED="rendered",t.MOVED="moved",t.UPDATED="updated",t.REMOVED="removed",t.ON_PASTE="onPaste"}(g||(t.BlockToolAPI=g={}));var k=function(t){(0,h.default)(_,t);var n,b,y,w,k=(n=_,function(){var t,i=(0,l.default)(n);if(x()){var e=(0,l.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,f.default)(this,t)});function _(t){var i,n=t.id,e=void 0===n?v.generateBlockId():n,r=t.data,a=t.tool,c=t.api,h=t.readOnly,f=t.tunesData;return(0,s.default)(this,_),(i=k.call(this)).cachedInputs=[],i.tunesInstances=new Map,i.defaultTunesInstances=new Map,i.unavailableTunesData={},i.inputIndex=0,i.modificationDebounceTimer=450,i.didMutated=v.debounce((function(t){!t.some((function(t){var i=t.addedNodes,n=t.removedNodes;return[].concat((0,o.default)(Array.from(void 0===i?[]:i)),(0,o.default)(Array.from(n))).some((function(t){return d.default.isElement(t)&&"true"===t.dataset.mutationFree}))}))&&(i.cachedInputs=[],i.updateCurrentInput(),i.call(g.UPDATED),i.emit("didMutated",(0,u.default)(i)))}),i.modificationDebounceTimer),i.handleFocus=function(){i.cachedInputs=[],i.updateCurrentInput()},i.name=a.name,i.id=e,i.settings=a.settings,i.config=a.settings.config||{},i.api=c,i.blockAPI=new p.default((0,u.default)(i)),i.mutationObserver=new MutationObserver(i.didMutated),i.tool=a,i.toolInstance=a.create(r,i.blockAPI,h),i.tunes=a.tunes,i.composeTunes(f),i.holder=i.compose(),i}return(0,a.default)(_,[{key:"call",value:function(t,i){if(v.isFunction(this.toolInstance[t])){t===g.APPEND_CALLBACK&&v.log("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[t].call(this.toolInstance,i)}catch(i){v.log("Error during '".concat(t,"' call: ").concat(i.message),"error")}}}},{key:"mergeWith",value:(w=(0,r.default)(e.default.mark((function t(i){return e.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toolInstance.merge(i);case 2:case"end":return t.stop()}}),t,this)}))),function(t){return w.apply(this,arguments)})},{key:"save",value:(y=(0,r.default)(e.default.mark((function t(){var n,r,s,a,u=this;return e.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toolInstance.save(this.pluginsContent);case 2:return n=t.sent,r=this.unavailableTunesData,[].concat((0,o.default)(this.tunesInstances.entries()),(0,o.default)(this.defaultTunesInstances.entries())).forEach((function(t){var n=(0,i.default)(t,2),e=n[0],o=n[1];if(v.isFunction(o.save))try{r[e]=o.save()}catch(t){v.log("Tune ".concat(o.constructor.name," save method throws an Error %o"),"warn",t)}})),s=window.performance.now(),t.abrupt("return",Promise.resolve(n).then((function(t){return a=window.performance.now(),{id:u.id,tool:u.name,data:t,tunes:r,time:a-s}})).catch((function(t){v.log("Saving proccess for ".concat(u.name," tool failed due to the ").concat(t),"log","red")})));case 7:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)})},{key:"validate",value:(b=(0,r.default)(e.default.mark((function t(i){var n;return e.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=!0,!(this.toolInstance.validate instanceof Function)){t.next=5;break}return t.next=4,this.toolInstance.validate(i);case 4:n=t.sent;case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return b.apply(this,arguments)})},{key:"renderTunes",value:function(){var t=document.createDocumentFragment(),i=document.createDocumentFragment();return this.tunesInstances.forEach((function(i){d.default.append(t,i.render())})),this.defaultTunesInstances.forEach((function(t){d.default.append(i,t.render())})),[t,i]}},{key:"updateCurrentInput",value:function(){this.currentInput=d.default.isNativeInput(document.activeElement)||!m.default.anchorNode?document.activeElement:m.default.anchorNode}},{key:"willSelect",value:function(){this.mutationObserver.observe(this.holder.firstElementChild,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.addInputEvents()}},{key:"willUnselect",value:function(){this.mutationObserver.disconnect(),this.removeInputEvents()}},{key:"destroy",value:function(){(0,c.default)((0,l.default)(_.prototype),"destroy",this).call(this),v.isFunction(this.toolInstance.destroy)&&this.toolInstance.destroy()}},{key:"renderSettings",value:function(){if(v.isFunction(this.toolInstance.renderSettings))return this.toolInstance.renderSettings()}},{key:"compose",value:function(){var t=d.default.make("div",_.CSS.wrapper),i=d.default.make("div",_.CSS.content),n=this.toolInstance.render();i.appendChild(n);var e=i;return[].concat((0,o.default)(this.tunesInstances.values()),(0,o.default)(this.defaultTunesInstances.values())).forEach((function(t){if(v.isFunction(t.wrap))try{e=t.wrap(e)}catch(i){v.log("Tune ".concat(t.constructor.name," wrap method throws an Error %o"),"warn",i)}})),t.appendChild(e),t}},{key:"composeTunes",value:function(t){var n=this;Array.from(this.tunes.values()).forEach((function(i){(i.isInternal?n.defaultTunesInstances:n.tunesInstances).set(i.name,i.create(t[i.name],n.blockAPI))})),Object.entries(t).forEach((function(t){var e=(0,i.default)(t,2),r=e[0],o=e[1];n.tunesInstances.has(r)||(n.unavailableTunesData[r]=o)}))}},{key:"addInputEvents",value:function(){var t=this;this.inputs.forEach((function(i){i.addEventListener("focus",t.handleFocus),d.default.isNativeInput(i)&&i.addEventListener("input",t.didMutated)}))}},{key:"removeInputEvents",value:function(){var t=this;this.inputs.forEach((function(i){i.removeEventListener("focus",t.handleFocus),d.default.isNativeInput(i)&&i.removeEventListener("input",t.didMutated)}))}},{key:"inputs",get:function(){if(0!==this.cachedInputs.length)return this.cachedInputs;var t=d.default.findAllInputs(this.holder);return this.inputIndex>t.length-1&&(this.inputIndex=t.length-1),this.cachedInputs=t,t}},{key:"currentInput",get:function(){return this.inputs[this.inputIndex]},set:function(t){var i=this.inputs.findIndex((function(i){return i===t||i.contains(t)}));-1!==i&&(this.inputIndex=i)}},{key:"firstInput",get:function(){return this.inputs[0]}},{key:"lastInput",get:function(){var t=this.inputs;return t[t.length-1]}},{key:"nextInput",get:function(){return this.inputs[this.inputIndex+1]}},{key:"previousInput",get:function(){return this.inputs[this.inputIndex-1]}},{key:"data",get:function(){return this.save().then((function(t){return t&&!v.isEmpty(t.data)?t.data:{}}))}},{key:"sanitize",get:function(){return this.tool.sanitizeConfig}},{key:"mergeable",get:function(){return v.isFunction(this.toolInstance.merge)}},{key:"isEmpty",get:function(){return d.default.isEmpty(this.pluginsContent)&&!this.hasMedia}},{key:"hasMedia",get:function(){return!!this.holder.querySelector(["img","iframe","video","audio","source","input","textarea","twitterwidget"].join(","))}},{key:"focused",set:function(t){this.holder.classList.toggle(_.CSS.focused,t)},get:function(){return this.holder.classList.contains(_.CSS.focused)}},{key:"selected",set:function(t){t?(this.holder.classList.add(_.CSS.selected),m.default.addFakeCursor(this.holder)):(this.holder.classList.remove(_.CSS.selected),m.default.removeFakeCursor(this.holder))},get:function(){return this.holder.classList.contains(_.CSS.selected)}},{key:"stretched",set:function(t){this.holder.classList.toggle(_.CSS.wrapperStretched,t)},get:function(){return this.holder.classList.contains(_.CSS.wrapperStretched)}},{key:"dropTarget",set:function(t){this.holder.classList.toggle(_.CSS.dropTarget,t)}},{key:"pluginsContent",get:function(){var t=this.holder.querySelector(".".concat(_.CSS.content));if(t&&t.childNodes.length)for(var i=t.childNodes.length-1;i>=0;i--){var n=t.childNodes[i];if(!d.default.isExtensionNode(n))return n}return null}}],[{key:"CSS",get:function(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",focused:"ce-block--focused",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}}]),_}(b.default);t.default=k,k.displayName="Block"})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(7)],void 0===(o="function"==typeof(e=function(t,i,e,r){var o,s,a,u,c,h,f=n(8),l=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.InternalTuneSettings=t.InternalInlineToolSettings=t.InternalBlockToolSettings=t.CommonInternalSettings=t.UserSettings=t.ToolType=void 0,i=l(i),e=l(e),r=f(r),t.ToolType=o,function(t){t[t.Block=0]="Block",t[t.Inline=1]="Inline",t[t.Tune=2]="Tune"}(o||(t.ToolType=o={})),t.UserSettings=s,function(t){t.Shortcut="shortcut",t.Toolbox="toolbox",t.EnabledInlineTools="inlineToolbar",t.EnabledBlockTunes="tunes",t.Config="config"}(s||(t.UserSettings=s={})),t.CommonInternalSettings=a,function(t){t.Shortcut="shortcut",t.SanitizeConfig="sanitize"}(a||(t.CommonInternalSettings=a={})),t.InternalBlockToolSettings=u,function(t){t.IsEnabledLineBreaks="enableLineBreaks",t.Toolbox="toolbox",t.ConversionConfig="conversionConfig",t.IsReadOnlySupported="isReadOnlySupported",t.PasteConfig="pasteConfig"}(u||(t.InternalBlockToolSettings=u={})),t.InternalInlineToolSettings=c,function(t){t.IsInline="isInline",t.Title="title"}(c||(t.InternalInlineToolSettings=c={})),t.InternalTuneSettings=h,function(t){t.IsTune="isTune"}(h||(t.InternalTuneSettings=h={}));var d=function(){function t(n){var e=n.name,r=n.constructable,o=n.config,s=n.api,a=n.isDefault,u=n.isInternal,c=void 0!==u&&u,h=n.defaultPlaceholder;(0,i.default)(this,t),this.api=s,this.name=e,this.constructable=r,this.config=o,this.isDefault=a,this.isInternal=c,this.defaultPlaceholder=h}return(0,e.default)(t,[{key:"reset",value:function(){if(r.isFunction(this.constructable.reset))return this.constructable.reset()}},{key:"prepare",value:function(){if(r.isFunction(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}},{key:"isInline",value:function(){return this.type===o.Inline}},{key:"isBlock",value:function(){return this.type===o.Block}},{key:"isTune",value:function(){return this.type===o.Tune}},{key:"settings",get:function(){var t=this.config[s.Config]||{};return this.isDefault&&!("placeholder"in t)&&this.defaultPlaceholder&&(t.placeholder=this.defaultPlaceholder),t}},{key:"shortcut",get:function(){return this.config[s.Shortcut]||this.constructable[a.Shortcut]}},{key:"sanitizeConfig",get:function(){return this.constructable[a.SanitizeConfig]||{}}}]),t}();t.default=d,d.displayName="BaseTool"})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e=n(17),r=n(10),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,i){return o[t]||(o[t]=void 0!==i?i:{})})("versions",[]).push({version:e.version,mode:n(45)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,i,n){var e=n(28),r=n(16),o=n(47);t.exports=function(t){return function(i,n,s){var a,u=e(i),c=r(u.length),h=o(s,c);if(t&&n!=n){for(;c>h;)if((a=u[h++])!=a)return!0}else for(;c>h;h++)if((t||h in u)&&u[h]===n)return t||h||0;return!t&&-1}}},function(t,i){i.f=Object.getOwnPropertySymbols},function(t,i,n){var e=n(37);t.exports=Array.isArray||function(t){return"Array"==e(t)}},function(t,i,n){var e=n(14)("iterator"),r=!1;try{var o=[7][e]();o.return=function(){r=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,i){if(!i&&!r)return!1;var n=!1;try{var o=[7],s=o[e]();s.next=function(){return{done:n=!0}},o[e]=function(){return s},t(o)}catch(t){}return n}},function(t,i,n){var e=n(12);t.exports=function(){var t=e(this),i="";return t.global&&(i+="g"),t.ignoreCase&&(i+="i"),t.multiline&&(i+="m"),t.unicode&&(i+="u"),t.sticky&&(i+="y"),i}},function(t,i,n){var e=n(63),r=RegExp.prototype.exec;t.exports=function(t,i){var n=t.exec;if("function"==typeof n){var o=n.call(t,i);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==e(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,i)}},function(t,i,n){n(133);var e=n(21),r=n(27),o=n(11),s=n(38),a=n(14),u=n(106),c=a("species"),h=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f=function(){var t=/(?:)/,i=t.exec;t.exec=function(){return i.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,i,n){var l=a(t),d=!o((function(){var i={};return i[l]=function(){return 7},7!=""[t](i)})),v=d?!o((function(){var i=!1,n=/a/;return n.exec=function(){return i=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[l](""),!i})):void 0;if(!d||!v||"replace"===t&&!h||"split"===t&&!f){var p=/./[l],m=n(s,l,""[t],(function(t,i,n,e,r){return i.exec===u?d&&!r?{done:!0,value:p.call(i,n,e)}:{done:!0,value:t.call(n,i,e)}:{done:!1}})),b=m[1];e(String.prototype,t,m[0]),r(RegExp.prototype,l,2==i?function(t,i){return b.call(t,this,i)}:function(t){return b.call(t,this)})}}},function(t,i,n){var e=n(31),r=n(128),o=n(101),s=n(12),a=n(16),u=n(103),c={},h={};(i=t.exports=function(t,i,n,f,l){var d,v,p,m,b=l?function(){return t}:u(t),g=e(n,f,i?2:1),y=0;if("function"!=typeof b)throw TypeError(t+" is not iterable!");if(o(b)){for(d=a(t.length);d>y;y++)if((m=i?g(s(v=t[y])[0],v[1]):g(t[y]))===c||m===h)return m}else for(p=b.call(t);!(v=p.next()).done;)if((m=r(p,g,v.value,i))===c||m===h)return m}).BREAK=c,i.RETURN=h},function(t,i,n){var e=n(10).navigator;t.exports=e&&e.userAgent||""},function(t,i,n){var e=n(10),r=n(0),o=n(21),s=n(58),a=n(41),u=n(76),c=n(57),h=n(13),f=n(11),l=n(72),d=n(53),v=n(92);t.exports=function(t,i,n,p,m,b){var g=e[t],y=g,w=m?"set":"add",x=y&&y.prototype,k={},_=function(t){var i=x[t];o(x,t,"delete"==t||"has"==t?function(t){return!(b&&!h(t))&&i.call(this,0===t?0:t)}:"get"==t?function(t){return b&&!h(t)?void 0:i.call(this,0===t?0:t)}:"add"==t?function(t){return i.call(this,0===t?0:t),this}:function(t,n){return i.call(this,0===t?0:t,n),this})};if("function"==typeof y&&(b||x.forEach&&!f((function(){(new y).entries().next()})))){var A=new y,S=A[w](b?{}:-0,1)!=A,E=f((function(){A.has(1)})),M=l((function(t){new y(t)})),C=!b&&f((function(){for(var t=new y,i=5;i--;)t[w](i,i);return!t.has(-0)}));M||((y=i((function(i,n){c(i,y,t);var e=v(new g,i,y);return null!=n&&u(n,m,e[w],e),e}))).prototype=x,x.constructor=y),(E||C)&&(_("delete"),_("has"),m&&_("get")),(C||S)&&_(w),b&&x.clear&&delete x.clear}else y=p.getConstructor(i,t,m,w),s(y.prototype,n),a.NEED=!0;return d(y,t),k[t]=y,r(r.G+r.W+r.F*(y!=g),k),b||p.setStrong(y,t,m),y}},function(t,i,n){for(var e,r=n(10),o=n(27),s=n(44),a=s("typed_array"),u=s("view"),c=!(!r.ArrayBuffer||!r.DataView),h=c,f=0,l="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(e=r[l[f++]])?(o(e.prototype,a,!0),o(e.prototype,u,!0)):h=!1;t.exports={ABV:c,CONSTR:h,TYPED:a,VIEW:u}},function(t){function i(n){return t.exports=i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(n)}t.exports=i},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(5),n(6),n(4),n(9)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c){var h=n(1);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=h(r),o=h(o),s=h(s),a=h(a),u=h(u);var l=function(t){(0,s.default)(e,t);var i,n=(i=e,function(){var t,n=(0,u.default)(i);if(f()){var e=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,a.default)(this,t)});function e(){return(0,r.default)(this,e),n.apply(this,arguments)}return(0,o.default)(e,[{key:"getMethodsForTool",value:function(t){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(t)})}},{key:"methods",get:function(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods}}}]),e}((c=h(c)).default);e.default=l,l.displayName="API",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(379)],void 0===(o="function"==typeof(e=function(e,r,o,s){var a=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=a(r),o=a(o),s=a(s);var u=function(){function t(){(0,r.default)(this,t),this.lib=new s.default}return(0,o.default)(t,[{key:"destroy",value:function(){this.lib.destroy()}},{key:"show",value:function(t,i,n){this.lib.show(t,i,n)}},{key:"hide",value:function(){this.lib.hide()}},{key:"onHover",value:function(t,i,n){this.lib.onHover(t,i,n)}}]),t}();e.default=u,u.displayName="Tooltip",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(5),n(6),n(4),n(9),n(15),n(7),n(59),n(84),n(82)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h,f,l,d,v){var p=n(8),m=n(1);function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=m(r),o=m(o),s=m(s),a=m(a),u=m(u),c=m(c),h=m(h),f=p(f),l=m(l),v=m(v);var g=function(t){(0,s.default)(e,t);var i,n=(i=e,function(){var t,n=(0,u.default)(i);if(b()){var e=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,a.default)(this,t)});function e(t){var i,o=t.config,s=t.eventsDispatcher;return(0,r.default)(this,e),(i=n.call(this,{config:o,eventsDispatcher:s})).tooltip=new v.default,i}return(0,o.default)(e,[{key:"toggleReadOnly",value:function(t){t?(this.destroy(),this.Editor.Toolbox.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):(this.drawUI(),this.enableModuleBindings())}},{key:"move",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.Editor.Toolbox.close(),this.Editor.BlockSettings.close());var t=this.Editor.BlockManager.currentBlock.holder;if(t){var i=t.offsetHeight,n=t.offsetTop;if(this.Editor.UI.isMobile)n+=i;else{var e=Math.floor(i/2);this.nodes.plusButton.style.transform="translate3d(0, calc(".concat(e,"px - 50%), 0)"),this.Editor.Toolbox.nodes.toolbox.style.transform="translate3d(0, calc(".concat(e,"px - 50%), 0)")}this.nodes.wrapper.style.transform="translate3D(0, ".concat(Math.floor(n),"px, 0)")}}},{key:"open",value:function(){var t=this,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];f.delay((function(){t.move(n),t.nodes.wrapper.classList.add(t.CSS.toolbarOpened),i?t.blockActions.show():t.blockActions.hide()}),50)()}},{key:"close",value:function(){this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),this.Editor.Toolbox.close(),this.Editor.BlockSettings.close()}},{key:"make",value:function(){var t=this;this.nodes.wrapper=h.default.make("div",this.CSS.toolbar),["content","actions"].forEach((function(i){t.nodes[i]=h.default.make("div",t.CSS[i])})),h.default.append(this.nodes.wrapper,this.nodes.content),h.default.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=h.default.make("div",this.CSS.plusButton),h.default.append(this.nodes.plusButton,h.default.svg("plus",14,14)),h.default.append(this.nodes.content,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",(function(){t.plusButtonClicked()}),!1);var i=h.default.make("div");i.appendChild(document.createTextNode(l.default.ui(d.I18nInternalNS.ui.toolbar.toolbox,"Add"))),i.appendChild(h.default.make("div",this.CSS.plusButtonShortcut,{textContent:"⇥ Tab"})),this.tooltip.onHover(this.nodes.plusButton,i),this.nodes.blockActionsButtons=h.default.make("div",this.CSS.blockActionsButtons),this.nodes.settingsToggler=h.default.make("span",this.CSS.settingsToggler);var n=h.default.svg("dots",8,8);h.default.append(this.nodes.settingsToggler,n),h.default.append(this.nodes.blockActionsButtons,this.nodes.settingsToggler),h.default.append(this.nodes.actions,this.nodes.blockActionsButtons),this.tooltip.onHover(this.nodes.settingsToggler,l.default.ui(d.I18nInternalNS.ui.blockTunes.toggler,"Click to tune"),{placement:"top"}),h.default.append(this.nodes.content,this.Editor.Toolbox.nodes.toolbox),h.default.append(this.nodes.actions,this.Editor.BlockSettings.nodes.wrapper),h.default.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}},{key:"plusButtonClicked",value:function(){this.Editor.Toolbox.toggle()}},{key:"enableModuleBindings",value:function(){var t=this;this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",(function(i){i.stopPropagation(),t.settingsTogglerClicked()}),!0)}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"settingsTogglerClicked",value:function(){this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open()}},{key:"drawUI",value:function(){this.Editor.BlockSettings.make(),this.Editor.Toolbox.make(),this.make()}},{key:"destroy",value:function(){this.removeAllNodes(),this.tooltip.destroy()}},{key:"CSS",get:function(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",plusButtonHidden:"ce-toolbar__plus--hidden",blockActionsButtons:"ce-toolbar__actions-buttons",settingsToggler:"ce-toolbar__settings-btn"}}},{key:"opened",get:function(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}},{key:"plusButton",get:function(){var t=this;return{hide:function(){return t.nodes.plusButton.classList.add(t.CSS.plusButtonHidden)},show:function(){t.Editor.Toolbox.isEmpty||t.nodes.plusButton.classList.remove(t.CSS.plusButtonHidden)}}}},{key:"blockActions",get:function(){var t=this;return{hide:function(){t.nodes.actions.classList.remove(t.CSS.actionsOpened)},show:function(){t.nodes.actions.classList.add(t.CSS.actionsOpened)}}}}]),e}(c.default);e.default=g,g.displayName="Toolbar",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(30),n(147),n(7)],void 0===(o="function"==typeof(e=function(t,i,e,r){var o=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.I18nInternalNS=void 0,i=o(i);var s=function t(n,e){var o={};return Object.entries(n).forEach((function(n){var s=(0,i.default)(n,2),a=s[0],u=s[1];if((0,r.isObject)(u)){var c=e?"".concat(e,".").concat(a):a,h=Object.values(u).every((function(t){return(0,r.isString)(t)}));o[a]=h?c:t(u,c)}else o[a]=u})),o}((e=o(e)).default);t.I18nInternalNS=s})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e=n(13),r=n(10).document,o=e(r)&&e(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,i,n){i.f=n(14)},function(t,i,n){var e=n(68)("keys"),r=n(44);t.exports=function(t){return e[t]||(e[t]=r(t))}},function(t){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,i,n){var e=n(10).document;t.exports=e&&e.documentElement},function(t,i,n){var e=n(13),r=n(12),o=function(t,i){if(r(t),!e(i)&&null!==i)throw TypeError(i+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,i,e){try{(e=n(31)(Function.call,n(34).f(Object.prototype,"__proto__").set,2))(t,[]),i=!(t instanceof Array)}catch(t){i=!0}return function(t,n){return o(t,n),i?t.__proto__=n:e(t,n),t}}({},!1):void 0),check:o}},function(t){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,i,n){var e=n(13),r=n(90).set;t.exports=function(t,i,n){var o,s=i.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&e(o)&&r&&r(t,o),t}},function(t,i,n){var e=n(33),r=n(38);t.exports=function(t){var i=String(r(this)),n="",o=e(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(i+=i))1&o&&(n+=i);return n}},function(t){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t){var i=Math.expm1;t.exports=!i||i(10)>22025.465794806718||i(10)<22025.465794806718||-2e-17!=i(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:i},function(t,i,n){var e=n(33),r=n(38);t.exports=function(t){return function(i,n){var o,s,a=String(r(i)),u=e(n),c=a.length;return u<0||u>=c?t?"":void 0:(o=a.charCodeAt(u))<55296||o>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):o:t?a.slice(u,u+2):s-56320+(o-55296<<10)+65536}}},function(t,i,n){var e=n(45),r=n(0),o=n(21),s=n(27),a=n(55),u=n(127),c=n(53),h=n(50),f=n(14)("iterator"),l=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,i,n,v,p,m,b){u(n,i,v);var g,y,w,x=function(t){if(!l&&t in S)return S[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},k=i+" Iterator",_="values"==p,A=!1,S=t.prototype,E=S[f]||S["@@iterator"]||p&&S[p],M=E||x(p),C=p?_?x("entries"):M:void 0,O="Array"==i&&S.entries||E;if(O&&(w=h(O.call(new t)))!==Object.prototype&&w.next&&(c(w,k,!0),e||"function"==typeof w[f]||s(w,f,d)),_&&E&&"values"!==E.name&&(A=!0,M=function(){return E.call(this)}),e&&!b||!l&&!A&&S[f]||s(S,f,M),a[i]=M,a[k]=d,p)if(g={values:_?M:x("values"),keys:m?M:x("keys"),entries:C},b)for(y in g)y in S||o(S,y,g[y]);else r(r.P+r.F*(l||A),i,g);return g}},function(t,i,n){var e=n(99),r=n(38);t.exports=function(t,i,n){if(e(i))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},function(t,i,n){var e=n(13),r=n(37),o=n(14)("match");t.exports=function(t){var i;return e(t)&&(void 0!==(i=t[o])?!!i:"RegExp"==r(t))}},function(t,i,n){var e=n(14)("match");t.exports=function(t){var i=/./;try{"/./"[t](i)}catch(n){try{return i[e]=!1,!"/./"[t](i)}catch(t){}}return!0}},function(t,i,n){var e=n(55),r=n(14)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(e.Array===t||o[r]===t)}},function(t,i,n){var e=n(19),r=n(43);t.exports=function(t,i,n){i in t?e.f(t,i,r(0,n)):t[i]=n}},function(t,i,n){var e=n(63),r=n(14)("iterator"),o=n(55);t.exports=n(17).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||o[e(t)]}},function(t,i,n){var e=n(20),r=n(47),o=n(16);t.exports=function(t){for(var i=e(this),n=o(i.length),s=arguments.length,a=r(s>1?arguments[1]:void 0,n),u=s>2?arguments[2]:void 0,c=void 0===u?n:r(u,n);c>a;)i[a++]=t;return i}},function(t,i,n){var e=n(51),r=n(132),o=n(55),s=n(28);t.exports=n(97)(Array,"Array",(function(t,i){this._t=s(t),this._i=0,this._k=i}),(function(){var t=this._t,i=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==i?n:"values"==i?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,e("keys"),e("values"),e("entries")},function(t,i,n){var e,r,o=n(73),s=RegExp.prototype.exec,a=String.prototype.replace,u=s,c=(r=/b*/g,s.call(e=/a/,"a"),s.call(r,"a"),0!==e.lastIndex||0!==r.lastIndex),h=void 0!==/()??/.exec("")[1];(c||h)&&(u=function(t){var i,n,e,r,u=this;return h&&(n=new RegExp("^"+u.source+"$(?!\\s)",o.call(u))),c&&(i=u.lastIndex),e=s.call(u,t),c&&e&&(u.lastIndex=u.global?e.index+e[0].length:i),h&&e&&e.length>1&&a.call(e[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(e[r]=void 0)})),e}),t.exports=u},function(t,i,n){var e=n(96)(!0);t.exports=function(t,i,n){return i+(n?e(t,i).length:1)}},function(t,i,n){var e,r,o,s=n(31),a=n(121),u=n(89),c=n(85),h=n(10),f=h.process,l=h.setImmediate,d=h.clearImmediate,v=h.MessageChannel,p=h.Dispatch,m=0,b={},g=function(){var t=+this;if(b.hasOwnProperty(t)){var i=b[t];delete b[t],i()}},y=function(t){g.call(t.data)};l&&d||(l=function(t){for(var i=[],n=1;arguments.length>n;)i.push(arguments[n++]);return b[++m]=function(){a("function"==typeof t?t:Function(t),i)},e(m),m},d=function(t){delete b[t]},"process"==n(37)(f)?e=function(t){f.nextTick(s(g,t,1))}:p&&p.now?e=function(t){p.now(s(g,t,1))}:v?(o=(r=new v).port2,r.port1.onmessage=y,e=s(o.postMessage,o,1)):h.addEventListener&&"function"==typeof postMessage&&!h.importScripts?(e=function(t){h.postMessage(t+"","*")},h.addEventListener("message",y,!1)):e="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),g.call(t)}}:function(t){setTimeout(s(g,t,1),0)}),t.exports={set:l,clear:d}},function(t,i,n){var e=n(10),r=n(18),o=n(45),s=n(79),a=n(27),u=n(58),c=n(11),h=n(57),f=n(33),l=n(16),d=n(140),v=n(49).f,p=n(19).f,m=n(104),b=n(53),g=e.ArrayBuffer,y=e.DataView,w=e.Math,x=e.RangeError,k=e.Infinity,_=g,A=w.abs,S=w.pow,E=w.floor,M=w.log,C=w.LN2,O=r?"_b":"buffer",T=r?"_l":"byteLength",R=r?"_o":"byteOffset";function j(t,i,n){var e,r,o,s=new Array(n),a=8*n-i-1,u=(1<<a)-1,c=u>>1,h=23===i?S(2,-24)-S(2,-77):0,f=0,l=t<0||0===t&&1/t<0?1:0;for((t=A(t))!=t||t===k?(r=t!=t?1:0,e=u):(e=E(M(t)/C),t*(o=S(2,-e))<1&&(e--,o*=2),(t+=e+c>=1?h/o:h*S(2,1-c))*o>=2&&(e++,o/=2),e+c>=u?(r=0,e=u):e+c>=1?(r=(t*o-1)*S(2,i),e+=c):(r=t*S(2,c-1)*S(2,i),e=0));i>=8;s[f++]=255&r,r/=256,i-=8);for(e=e<<i|r,a+=i;a>0;s[f++]=255&e,e/=256,a-=8);return s[--f]|=128*l,s}function I(t,i,n){var e,r=8*n-i-1,o=(1<<r)-1,s=o>>1,a=r-7,u=n-1,c=t[u--],h=127&c;for(c>>=7;a>0;h=256*h+t[u],u--,a-=8);for(e=h&(1<<-a)-1,h>>=-a,a+=i;a>0;e=256*e+t[u],u--,a-=8);if(0===h)h=1-s;else{if(h===o)return e?NaN:c?-k:k;e+=S(2,i),h-=s}return(c?-1:1)*e*S(2,h-i)}function F(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function B(t){return[255&t]}function z(t){return[255&t,t>>8&255]}function P(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function L(t){return j(t,52,8)}function D(t){return j(t,23,4)}function N(t,i,n){p(t.prototype,i,{get:function(){return this[n]}})}function U(t,i,n,e){var r=d(+n);if(r+i>t[T])throw x("Wrong index!");var o=r+t[R],s=t[O]._b.slice(o,o+i);return e?s:s.reverse()}function V(t,i,n,e,r,o){var s=d(+n);if(s+i>t[T])throw x("Wrong index!");for(var a=t[O]._b,u=s+t[R],c=e(+r),h=0;h<i;h++)a[u+h]=c[o?h:i-h-1]}if(s.ABV){if(!c((function(){g(1)}))||!c((function(){new g(-1)}))||c((function(){return new g,new g(1.5),new g(NaN),"ArrayBuffer"!=g.name}))){for(var H,$=(g=function(t){return h(this,g),new _(d(t))}).prototype=_.prototype,K=v(_),W=0;K.length>W;)(H=K[W++])in g||a(g,H,_[H]);o||($.constructor=g)}var q=new y(new g(2)),G=y.prototype.setInt8;q.setInt8(0,2147483648),q.setInt8(1,2147483649),!q.getInt8(0)&&q.getInt8(1)||u(y.prototype,{setInt8:function(t,i){G.call(this,t,i<<24>>24)},setUint8:function(t,i){G.call(this,t,i<<24>>24)}},!0)}else g=function(t){h(this,g,"ArrayBuffer");var i=d(t);this._b=m.call(new Array(i),0),this[T]=i},y=function(t,i,n){h(this,y,"DataView"),h(t,g,"DataView");var e=t[T],r=f(i);if(r<0||r>e)throw x("Wrong offset!");if(r+(n=void 0===n?e-r:l(n))>e)throw x("Wrong length!");this[O]=t,this[R]=r,this[T]=n},r&&(N(g,"byteLength","_l"),N(y,"buffer","_b"),N(y,"byteLength","_l"),N(y,"byteOffset","_o")),u(y.prototype,{getInt8:function(t){return U(this,1,t)[0]<<24>>24},getUint8:function(t){return U(this,1,t)[0]},getInt16:function(t){var i=U(this,2,t,arguments[1]);return(i[1]<<8|i[0])<<16>>16},getUint16:function(t){var i=U(this,2,t,arguments[1]);return i[1]<<8|i[0]},getInt32:function(t){return F(U(this,4,t,arguments[1]))},getUint32:function(t){return F(U(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return I(U(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return I(U(this,8,t,arguments[1]),52,8)},setInt8:function(t,i){V(this,1,t,B,i)},setUint8:function(t,i){V(this,1,t,B,i)},setInt16:function(t,i){V(this,2,t,z,i,arguments[2])},setUint16:function(t,i){V(this,2,t,z,i,arguments[2])},setInt32:function(t,i){V(this,4,t,P,i,arguments[2])},setUint32:function(t,i){V(this,4,t,P,i,arguments[2])},setFloat32:function(t,i){V(this,4,t,D,i,arguments[2])},setFloat64:function(t,i){V(this,8,t,L,i,arguments[2])}});b(g,"ArrayBuffer"),b(y,"DataView"),a(y.prototype,s.VIEW,!0),i.ArrayBuffer=g,i.DataView=y},function(t){function i(n,e){return t.exports=i=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t},i(n,e)}t.exports=i},function(t,i){var n,e;void 0===(e="function"==typeof(n=function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default=function(t){Object.setPrototypeOf(this,{get id(){return t.id},get name(){return t.name},get config(){return t.config},get holder(){return t.holder},get isEmpty(){return t.isEmpty},get selected(){return t.selected},set stretched(i){t.stretched=i},get stretched(){return t.stretched},call:function(i,n){return t.call(i,n)},save:function(){return t.save()},validate:function(i){return t.validate(i)}})},t.exports=i.default})?n.apply(i,[i]):n)||(t.exports=e)},function(t,i,n){var e,r,o;r=[i,n(42),n(2),n(3),n(383)],void 0===(o="function"==typeof(e=function(e,r,o,s,a){var u=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=u(r),o=u(o),s=u(s),a=u(a);var c=function(){function t(){(0,o.default)(this,t),this.registeredShortcuts=new Map}return(0,s.default)(t,[{key:"add",value:function(t){if(this.findShortcut(t.on,t.name))throw Error("Shortcut ".concat(t.name," is already registered for ").concat(t.on,". Please remove it before add a new handler."));var i=new a.default({name:t.name,on:t.on,callback:t.handler}),n=this.registeredShortcuts.get(t.on)||[];this.registeredShortcuts.set(t.on,[].concat((0,r.default)(n),[i]))}},{key:"remove",value:function(t,i){var n=this.findShortcut(t,i);if(n){n.remove();var e=this.registeredShortcuts.get(t);this.registeredShortcuts.set(t,e.filter((function(t){return t!==n})))}}},{key:"findShortcut",value:function(t,i){return(this.registeredShortcuts.get(t)||[]).find((function(t){return t.name===i}))}}]),t}();c.displayName="Shortcuts";var h=new c;e.default=h,t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){t.exports=!n(18)&&!n(11)((function(){return 7!=Object.defineProperty(n(85)("div"),"a",{get:function(){return 7}}).a}))},function(t,i,n){var e=n(10),r=n(17),o=n(45),s=n(86),a=n(19).f;t.exports=function(t){var i=r.Symbol||(r.Symbol=o?{}:e.Symbol||{});"_"==t.charAt(0)||t in i||a(i,t,{value:s.f(t)})}},function(t,i,n){var e=n(26),r=n(28),o=n(69)(!1),s=n(87)("IE_PROTO");t.exports=function(t,i){var n,a=r(t),u=0,c=[];for(n in a)n!=s&&e(a,n)&&c.push(n);for(;i.length>u;)e(a,n=i[u++])&&(~o(c,n)||c.push(n));return c}},function(t,i,n){var e=n(19),r=n(12),o=n(46);t.exports=n(18)?Object.defineProperties:function(t,i){r(t);for(var n,s=o(i),a=s.length,u=0;a>u;)e.f(t,n=s[u++],i[n]);return t}},function(t,i,n){var e=n(28),r=n(49).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return s.slice()}}(t):r(e(t))}},function(t,i,n){var e=n(18),r=n(46),o=n(70),s=n(62),a=n(20),u=n(61),c=Object.assign;t.exports=!c||n(11)((function(){var t={},i={},n=Symbol(),e="abcdefghijklmnopqrst";return t[n]=7,e.split("").forEach((function(t){i[t]=t})),7!=c({},t)[n]||Object.keys(c({},i)).join("")!=e}))?function(t,i){for(var n=a(t),c=arguments.length,h=1,f=o.f,l=s.f;c>h;)for(var d,v=u(arguments[h++]),p=f?r(v).concat(f(v)):r(v),m=p.length,b=0;m>b;)d=p[b++],e&&!l.call(v,d)||(n[d]=v[d]);return n}:c},function(t){t.exports=Object.is||function(t,i){return t===i?0!==t||1/t==1/i:t!=t&&i!=i}},function(t,i,n){var e=n(32),r=n(13),o=n(121),s=[].slice,a={},u=function(t,i,n){if(!(i in a)){for(var e=[],r=0;r<i;r++)e[r]="a["+r+"]";a[i]=Function("F,a","return new F("+e.join(",")+")")}return a[i](t,n)};t.exports=Function.bind||function(t){var i=e(this),n=s.call(arguments,1),a=function(){var e=n.concat(s.call(arguments));return this instanceof a?u(i,e.length,e):o(i,e,t)};return r(i.prototype)&&(a.prototype=i.prototype),a}},function(t){t.exports=function(t,i,n){var e=void 0===n;switch(i.length){case 0:return e?t():t.call(n);case 1:return e?t(i[0]):t.call(n,i[0]);case 2:return e?t(i[0],i[1]):t.call(n,i[0],i[1]);case 3:return e?t(i[0],i[1],i[2]):t.call(n,i[0],i[1],i[2]);case 4:return e?t(i[0],i[1],i[2],i[3]):t.call(n,i[0],i[1],i[2],i[3])}return t.apply(n,i)}},function(t,i,n){var e=n(10).parseInt,r=n(54).trim,o=n(91),s=/^[-+]?0[xX]/;t.exports=8!==e(o+"08")||22!==e(o+"0x16")?function(t,i){var n=r(String(t),3);return e(n,i>>>0||(s.test(n)?16:10))}:e},function(t,i,n){var e=n(10).parseFloat,r=n(54).trim;t.exports=1/e(n(91)+"-0")!=-1/0?function(t){var i=r(String(t),3),n=e(i);return 0===n&&"-"==i.charAt(0)?-0:n}:e},function(t,i,n){var e=n(37);t.exports=function(t,i){if("number"!=typeof t&&"Number"!=e(t))throw TypeError(i);return+t}},function(t,i,n){var e=n(13),r=Math.floor;t.exports=function(t){return!e(t)&&isFinite(t)&&r(t)===t}},function(t){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,i,n){var e=n(48),r=n(43),o=n(53),s={};n(27)(s,n(14)("iterator"),(function(){return this})),t.exports=function(t,i,n){t.prototype=e(s,{next:r(1,n)}),o(t,i+" Iterator")}},function(t,i,n){var e=n(12);t.exports=function(t,i,n,r){try{return r?i(e(n)[0],n[1]):i(n)}catch(i){var o=t.return;throw void 0!==o&&e(o.call(t)),i}}},function(t,i,n){var e=n(281);t.exports=function(t,i){return new(e(t))(i)}},function(t,i,n){var e=n(32),r=n(20),o=n(61),s=n(16);t.exports=function(t,i,n,a,u){e(i);var c=r(t),h=o(c),f=s(c.length),l=u?f-1:0,d=u?-1:1;if(n<2)for(;;){if(l in h){a=h[l],l+=d;break}if(l+=d,u?l<0:f<=l)throw TypeError("Reduce of empty array with no initial value")}for(;u?l>=0:f>l;l+=d)l in h&&(a=i(a,h[l],l,c));return a}},function(t,i,n){var e=n(20),r=n(47),o=n(16);t.exports=[].copyWithin||function(t,i){var n=e(this),s=o(n.length),a=r(t,s),u=r(i,s),c=arguments.length>2?arguments[2]:void 0,h=Math.min((void 0===c?s:r(c,s))-u,s-a),f=1;for(u<a&&a<u+h&&(f=-1,u+=h-1,a+=h-1);h-- >0;)u in n?n[a]=n[u]:delete n[a],a+=f,u+=f;return n}},function(t){t.exports=function(t,i){return{value:i,done:!!t}}},function(t,i,n){var e=n(106);n(0)({target:"RegExp",proto:!0,forced:e!==/./.exec},{exec:e})},function(t,i,n){n(18)&&"g"!=/./g.flags&&n(19).f(RegExp.prototype,"flags",{configurable:!0,get:n(73)})},function(t,i,n){var e,r,o,s,a=n(45),u=n(10),c=n(31),h=n(63),f=n(0),l=n(13),d=n(32),v=n(57),p=n(76),m=n(64),b=n(108).set,g=n(301)(),y=n(136),w=n(302),x=n(77),k=n(137),_=u.TypeError,A=u.process,S=A&&A.versions,E=S&&S.v8||"",M=u.Promise,C="process"==h(A),O=function(){},T=r=y.f,R=!!function(){try{var t=M.resolve(1),i=(t.constructor={})[n(14)("species")]=function(t){t(O,O)};return(C||"function"==typeof PromiseRejectionEvent)&&t.then(O)instanceof i&&0!==E.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(t){}}(),j=function(t){var i;return!(!l(t)||"function"!=typeof(i=t.then))&&i},I=function(t,i){if(!t._n){t._n=!0;var n=t._c;g((function(){for(var e=t._v,r=1==t._s,o=0,s=function(i){var n,o,s,a=r?i.ok:i.fail,u=i.resolve,c=i.reject,h=i.domain;try{a?(r||(2==t._h&&z(t),t._h=1),!0===a?n=e:(h&&h.enter(),n=a(e),h&&(h.exit(),s=!0)),n===i.promise?c(_("Promise-chain cycle")):(o=j(n))?o.call(n,u,c):u(n)):c(e)}catch(t){h&&!s&&h.exit(),c(t)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,i&&!t._h&&F(t)}))}},F=function(t){b.call(u,(function(){var i,n,e,r=t._v,o=B(t);if(o&&(i=w((function(){C?A.emit("unhandledRejection",r,t):(n=u.onunhandledrejection)?n({promise:t,reason:r}):(e=u.console)&&e.error&&e.error("Unhandled promise rejection",r)})),t._h=C||B(t)?2:1),t._a=void 0,o&&i.e)throw i.v}))},B=function(t){return 1!==t._h&&0===(t._a||t._c).length},z=function(t){b.call(u,(function(){var i;C?A.emit("rejectionHandled",t):(i=u.onrejectionhandled)&&i({promise:t,reason:t._v})}))},P=function(t){var i=this;i._d||(i._d=!0,(i=i._w||i)._v=t,i._s=2,i._a||(i._a=i._c.slice()),I(i,!0))},L=function(t){var i,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw _("Promise can't be resolved itself");(i=j(t))?g((function(){var e={_w:n,_d:!1};try{i.call(t,c(L,e,1),c(P,e,1))}catch(t){P.call(e,t)}})):(n._v=t,n._s=1,I(n,!1))}catch(t){P.call({_w:n,_d:!1},t)}}};R||(M=function(t){v(this,M,"Promise","_h"),d(t),e.call(this);try{t(c(L,this,1),c(P,this,1))}catch(t){P.call(this,t)}},(e=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(58)(M.prototype,{then:function(t,i){var n=T(m(this,M));return n.ok="function"!=typeof t||t,n.fail="function"==typeof i&&i,n.domain=C?A.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new e;this.promise=t,this.resolve=c(L,t,1),this.reject=c(P,t,1)},y.f=T=function(t){return t===M||t===s?new o(t):r(t)}),f(f.G+f.W+f.F*!R,{Promise:M}),n(53)(M,"Promise"),n(56)("Promise"),s=n(17).Promise,f(f.S+f.F*!R,"Promise",{reject:function(t){var i=T(this);return(0,i.reject)(t),i.promise}}),f(f.S+f.F*(a||!R),"Promise",{resolve:function(t){return k(a&&this===s?M:this,t)}}),f(f.S+f.F*!(R&&n(72)((function(t){M.all(t).catch(O)}))),"Promise",{all:function(t){var i=this,n=T(i),e=n.resolve,r=n.reject,o=w((function(){var n=[],o=0,s=1;p(t,!1,(function(t){var a=o++,u=!1;n.push(void 0),s++,i.resolve(t).then((function(t){u||(u=!0,n[a]=t,--s||e(n))}),r)})),--s||e(n)}));return o.e&&r(o.v),n.promise},race:function(t){var i=this,n=T(i),e=n.reject,r=w((function(){p(t,!1,(function(t){i.resolve(t).then(n.resolve,e)}))}));return r.e&&e(r.v),n.promise}})},function(t,i,n){var e=n(32);function r(t){var i,n;this.promise=new t((function(t,e){if(void 0!==i||void 0!==n)throw TypeError("Bad Promise constructor");i=t,n=e})),this.resolve=e(i),this.reject=e(n)}t.exports.f=function(t){return new r(t)}},function(t,i,n){var e=n(12),r=n(13),o=n(136);t.exports=function(t,i){if(e(t),r(i)&&i.constructor===t)return i;var n=o.f(t);return(0,n.resolve)(i),n.promise}},function(t,i,n){var e=n(19).f,r=n(48),o=n(58),s=n(31),a=n(57),u=n(76),c=n(97),h=n(132),f=n(56),l=n(18),d=n(41).fastKey,v=n(52),p=l?"_s":"size",m=function(t,i){var n,e=d(i);if("F"!==e)return t._i[e];for(n=t._f;n;n=n.n)if(n.k==i)return n};t.exports={getConstructor:function(t,i,n,c){var h=t((function(t,e){a(t,h,i,"_i"),t._t=i,t._i=r(null),t._f=void 0,t._l=void 0,t[p]=0,null!=e&&u(e,n,t[c],t)}));return o(h.prototype,{clear:function(){for(var t=v(this,i),n=t._i,e=t._f;e;e=e.n)e.r=!0,e.p&&(e.p=e.p.n=void 0),delete n[e.i];t._f=t._l=void 0,t[p]=0},delete:function(t){var n=v(this,i),e=m(n,t);if(e){var r=e.n,o=e.p;delete n._i[e.i],e.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==e&&(n._f=r),n._l==e&&(n._l=o),n[p]--}return!!e},forEach:function(t){v(this,i);for(var n,e=s(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(e(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!m(v(this,i),t)}}),l&&e(h.prototype,"size",{get:function(){return v(this,i)[p]}}),h},def:function(t,i,n){var e,r,o=m(t,i);return o?o.v=n:(t._l=o={i:r=d(i,!0),k:i,v:n,p:e=t._l,n:void 0,r:!1},t._f||(t._f=o),e&&(e.n=o),t[p]++,"F"!==r&&(t._i[r]=o)),t},getEntry:m,setStrong:function(t,i,n){c(t,i,(function(t,n){this._t=v(t,i),this._k=n,this._l=void 0}),(function(){for(var t=this._k,i=this._l;i&&i.r;)i=i.p;return this._t&&(this._l=i=i?i.n:this._t._f)?h(0,"keys"==t?i.k:"values"==t?i.v:[i.k,i.v]):(this._t=void 0,h(1))}),n?"entries":"values",!n,!0),f(i)}}},function(t,i,n){var e=n(58),r=n(41).getWeak,o=n(12),s=n(13),a=n(57),u=n(76),c=n(36),h=n(26),f=n(52),l=c(5),d=c(6),v=0,p=function(t){return t._l||(t._l=new m)},m=function(){this.a=[]},b=function(t,i){return l(t.a,(function(t){return t[0]===i}))};m.prototype={get:function(t){var i=b(this,t);if(i)return i[1]},has:function(t){return!!b(this,t)},set:function(t,i){var n=b(this,t);n?n[1]=i:this.a.push([t,i])},delete:function(t){var i=d(this.a,(function(i){return i[0]===t}));return~i&&this.a.splice(i,1),!!~i}},t.exports={getConstructor:function(t,i,n,o){var c=t((function(t,e){a(t,c,i,"_i"),t._t=i,t._i=v++,t._l=void 0,null!=e&&u(e,n,t[o],t)}));return e(c.prototype,{delete:function(t){if(!s(t))return!1;var n=r(t);return!0===n?p(f(this,i)).delete(t):n&&h(n,this._i)&&delete n[this._i]},has:function(t){if(!s(t))return!1;var n=r(t);return!0===n?p(f(this,i)).has(t):n&&h(n,this._i)}}),c},def:function(t,i,n){var e=r(o(i),!0);return!0===e?p(t).set(i,n):e[t._i]=n,t},ufstore:p}},function(t,i,n){var e=n(33),r=n(16);t.exports=function(t){if(void 0===t)return 0;var i=e(t),n=r(i);if(i!==n)throw RangeError("Wrong length!");return n}},function(t,i,n){var e=n(49),r=n(70),o=n(12),s=n(10).Reflect;t.exports=s&&s.ownKeys||function(t){var i=e.f(o(t)),n=r.f;return n?i.concat(n(t)):i}},function(t,i,n){var e=n(16),r=n(93),o=n(38);t.exports=function(t,i,n,s){var a=String(o(t)),u=a.length,c=void 0===n?" ":String(n),h=e(i);if(h<=u||""==c)return a;var f=h-u,l=r.call(c,Math.ceil(f/c.length));return l.length>f&&(l=l.slice(0,f)),s?l+a:a+l}},function(t,i,n){var e=n(18),r=n(46),o=n(28),s=n(62).f;t.exports=function(t){return function(i){for(var n,a=o(i),u=r(a),c=u.length,h=0,f=[];c>h;)n=u[h++],e&&!s.call(a,n)||f.push(t?[n,a[n]]:a[n]);return f}}},function(t){var i=function(t){var i=Object.prototype,n=i.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.asyncIterator||"@@asyncIterator",s=e.toStringTag||"@@toStringTag";function a(t,i,n,e){var r=Object.create((i&&i.prototype instanceof h?i:h).prototype),o=new k(e||[]);return r._invoke=function(t,i,n){var e="suspendedStart";return function(r,o){if("executing"===e)throw new Error("Generator is already running");if("completed"===e){if("throw"===r)throw o;return{value:void 0,done:!0}}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=y(s,n);if(a){if(a===c)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===e)throw e="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);e="executing";var h=u(t,i,n);if("normal"===h.type){if(e=n.done?"completed":"suspendedYield",h.arg===c)continue;return{value:h.arg,done:n.done}}"throw"===h.type&&(e="completed",n.method="throw",n.arg=h.arg)}}}(t,n,o),r}function u(t,i,n){try{return{type:"normal",arg:t.call(i,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var c={};function h(){}function f(){}function l(){}var d={};d[r]=function(){return this};var v=Object.getPrototypeOf,p=v&&v(v(_([])));p&&p!==i&&n.call(p,r)&&(d=p);var m=l.prototype=h.prototype=Object.create(d);function b(t){["next","throw","return"].forEach((function(i){t[i]=function(t){return this._invoke(i,t)}}))}function g(t,i){var e;this._invoke=function(r,o){function s(){return new i((function(e,s){!function e(r,o,s,a){var c=u(t[r],t,o);if("throw"!==c.type){var h=c.arg,f=h.value;return f&&"object"==typeof f&&n.call(f,"__await")?i.resolve(f.__await).then((function(t){e("next",t,s,a)}),(function(t){e("throw",t,s,a)})):i.resolve(f).then((function(t){h.value=t,s(h)}),(function(t){return e("throw",t,s,a)}))}a(c.arg)}(r,o,e,s)}))}return e=e?e.then(s,s):s()}}function y(t,i){var n=t.iterator[i.method];if(void 0===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=void 0,y(t,i),"throw"===i.method))return c;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var e=u(n,t.iterator,i.arg);if("throw"===e.type)return i.method="throw",i.arg=e.arg,i.delegate=null,c;var r=e.arg;return r?r.done?(i[t.resultName]=r.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=void 0),i.delegate=null,c):r:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,c)}function w(t){var i={tryLoc:t[0]};1 in t&&(i.catchLoc=t[1]),2 in t&&(i.finallyLoc=t[2],i.afterLoc=t[3]),this.tryEntries.push(i)}function x(t){var i=t.completion||{};i.type="normal",delete i.arg,t.completion=i}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function _(t){if(t){var i=t[r];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,o=function i(){for(;++e<t.length;)if(n.call(t,e))return i.value=t[e],i.done=!1,i;return i.value=void 0,i.done=!0,i};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return f.prototype=m.constructor=l,l.constructor=f,l[s]=f.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var i="function"==typeof t&&t.constructor;return!!i&&(i===f||"GeneratorFunction"===(i.displayName||i.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(g.prototype),g.prototype[o]=function(){return this},t.AsyncIterator=g,t.async=function(i,n,e,r,o){void 0===o&&(o=Promise);var s=new g(a(i,n,e,r),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},b(m),m[s]="Generator",m[r]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var i=[];for(var n in t)i.push(n);return i.reverse(),function n(){for(;i.length;){var e=i.pop();if(e in t)return n.value=e,n.done=!1,n}return n.done=!0,n}},t.values=_,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function e(n,e){return s.type="throw",s.arg=t,i.next=n,e&&(i.method="next",i.arg=void 0),!!e}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,i){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=i&&i<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=i,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(s)},complete:function(t,i){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&i&&(this.next=i),c},finish:function(t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),c}},catch:function(t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc===t){var e=n.completion;if("throw"===e.type){var r=e.arg;x(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:_(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},t}(t.exports);try{regeneratorRuntime=i}catch(t){Function("r","regeneratorRuntime = r")(i)}},function(t,i,n){var e=n(146);t.exports=function(t,i){if(t){if("string"==typeof t)return e(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,i):void 0}}},function(t){t.exports=function(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,e=new Array(i);n<i;n++)e[n]=t[n];return e}},function(t){t.exports=JSON.parse('{"ui":{"blockTunes":{"toggler":{"Click to tune":"","or drag to move":""}},"inlineToolbar":{"converter":{"Convert to":""}},"toolbar":{"toolbox":{"Add":""}}},"toolNames":{"Text":"","Link":"","Bold":"","Italic":""},"tools":{"link":{"Add a link":""},"stub":{"The block can not be displayed correctly.":""}},"blockTunes":{"delete":{"Delete":""},"moveUp":{"Move up":""},"moveDown":{"Move down":""}}}')},function(t,i,n){var e,r,o;r=[i,n(2),n(5),n(6),n(4),n(150)],void 0===(o="function"==typeof(e=function(t,i,e,r,o,s){var a=n(1);function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.CriticalError=void 0,i=a(i),e=a(e),r=a(r),o=a(o);var c=function(t){(0,e.default)(a,t);var n,s=(n=a,function(){var t,i=(0,o.default)(n);if(u()){var e=(0,o.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,r.default)(this,t)});function a(){return(0,i.default)(this,a),s.apply(this,arguments)}return a}((0,(s=a(s)).default)(Error));t.CriticalError=c,c.displayName="CriticalError"})?e.apply(i,r):e)||(t.exports=o)},function(t){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,i,n){var e=n(4),r=n(110),o=n(371),s=n(372);function a(i){var n="function"==typeof Map?new Map:void 0;return t.exports=a=function(t){if(null===t||!o(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,i)}function i(){return s(t,arguments,e(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),r(i,t)},a(i)}t.exports=a},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(7)],void 0===(o="function"==typeof(e=function(e,r,o,s){var a=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=a(r),o=a(o);var u=function(){function t(){(0,r.default)(this,t),this.subscribers={}}return(0,o.default)(t,[{key:"on",value:function(t,i){t in this.subscribers||(this.subscribers[t]=[]),this.subscribers[t].push(i)}},{key:"once",value:function(t,i){var n=this;t in this.subscribers||(this.subscribers[t]=[]),this.subscribers[t].push((function e(r){var o=i(r),s=n.subscribers[t].indexOf(e);return-1!==s&&n.subscribers[t].splice(s,1),o}))}},{key:"emit",value:function(t,i){!(0,s.isEmpty)(this.subscribers)&&this.subscribers[t]&&this.subscribers[t].reduce((function(t,i){return i(t)||t}),i)}},{key:"off",value:function(t,i){for(var n=0;n<this.subscribers[t].length;n++)if(this.subscribers[t][n]===i){delete this.subscribers[t][n];break}}},{key:"destroy",value:function(){this.subscribers=null}}]),t}();e.default=u,u.displayName="EventsDispatcher",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(5),n(6),n(4),n(7),n(111),n(9)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h,f){var l=n(8),d=n(1);function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=d(r),o=d(o),s=d(s),a=d(a),u=d(u),c=l(c),h=d(h);var p=function(t){(0,s.default)(e,t);var i,n=(i=e,function(){var t,n=(0,u.default)(i);if(v()){var e=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,a.default)(this,t)});function e(){var t;return(0,r.default)(this,e),(t=n.apply(this,arguments)).insert=function(){t.Editor.BlockManager.insert({tool:arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.config.defaultBlock,data:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},index:arguments.length>3?arguments[3]:void 0,needToFocus:arguments.length>4?arguments[4]:void 0})},t.update=function(i,n){var e=t.Editor.BlockManager,r=e.getBlockById(i);if(r){var o=e.getBlockIndex(r);e.insert({id:r.id,tool:r.name,data:n,index:o,replace:!0,tunes:r.tunes})}else c.log("blocks.update(): Block with passed id was not found","warn")},t}return(0,o.default)(e,[{key:"getBlocksCount",value:function(){return this.Editor.BlockManager.blocks.length}},{key:"getCurrentBlockIndex",value:function(){return this.Editor.BlockManager.currentBlockIndex}},{key:"getBlockByIndex",value:function(t){var i=this.Editor.BlockManager.getBlockByIndex(t);if(void 0!==i)return new h.default(i);c.logLabeled("There is no block at index `"+t+"`","warn")}},{key:"getById",value:function(t){var i=this.Editor.BlockManager.getBlockById(t);return void 0===i?(c.logLabeled("There is no block with id `"+t+"`","warn"),null):new h.default(i)}},{key:"swap",value:function(t,i){c.log("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(t,i),this.Editor.Toolbar.move(!1)}},{key:"move",value:function(t,i){this.Editor.BlockManager.move(t,i),this.Editor.Toolbar.move(!1)}},{key:"delete",value:function(t){try{this.Editor.BlockManager.removeBlock(t)}catch(t){return void c.logLabeled(t,"warn")}0===this.Editor.BlockManager.blocks.length&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}},{key:"clear",value:function(){this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}},{key:"render",value:function(t){return this.Editor.BlockManager.clear(),this.Editor.Renderer.render(t.blocks)}},{key:"renderFromHTML",value:function(t){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(t,!0)}},{key:"stretchBlock",value:function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];c.deprecationAssert(!0,"blocks.stretchBlock()","BlockAPI");var n=this.Editor.BlockManager.getBlockByIndex(t);n&&(n.stretched=i)}},{key:"insertNewBlock",value:function(){c.log("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}},{key:"methods",get:function(){var t=this;return{clear:function(){return t.clear()},render:function(i){return t.render(i)},renderFromHTML:function(i){return t.renderFromHTML(i)},delete:function(i){return t.delete(i)},swap:function(i,n){return t.swap(i,n)},move:function(i,n){return t.move(i,n)},getBlockByIndex:function(i){return t.getBlockByIndex(i)},getById:function(i){return t.getById(i)},getCurrentBlockIndex:function(){return t.getCurrentBlockIndex()},getBlocksCount:function(){return t.getBlocksCount()},stretchBlock:function(i){return t.stretchBlock(i,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])},insertNewBlock:function(){return t.insertNewBlock()},insert:this.insert,update:this.update}}}]),e}((f=d(f)).default);e.default=p,p.displayName="BlocksAPI",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(5),n(6),n(4),n(9)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c){var h=n(1);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=h(r),o=h(o),s=h(s),a=h(a),u=h(u);var l=function(t){(0,s.default)(e,t);var i,n=(i=e,function(){var t,n=(0,u.default)(i);if(f()){var e=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,a.default)(this,t)});function e(){var t;return(0,r.default)(this,e),(t=n.apply(this,arguments)).setToFirstBlock=function(){return!!t.Editor.BlockManager.firstBlock&&(t.Editor.Caret.setToBlock(t.Editor.BlockManager.firstBlock,arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.Editor.Caret.positions.DEFAULT,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),!0)},t.setToLastBlock=function(){return!!t.Editor.BlockManager.lastBlock&&(t.Editor.Caret.setToBlock(t.Editor.BlockManager.lastBlock,arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.Editor.Caret.positions.DEFAULT,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),!0)},t.setToPreviousBlock=function(){return!!t.Editor.BlockManager.previousBlock&&(t.Editor.Caret.setToBlock(t.Editor.BlockManager.previousBlock,arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.Editor.Caret.positions.DEFAULT,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),!0)},t.setToNextBlock=function(){return!!t.Editor.BlockManager.nextBlock&&(t.Editor.Caret.setToBlock(t.Editor.BlockManager.nextBlock,arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.Editor.Caret.positions.DEFAULT,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),!0)},t.setToBlock=function(i){return!!t.Editor.BlockManager.blocks[i]&&(t.Editor.Caret.setToBlock(t.Editor.BlockManager.blocks[i],arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.Editor.Caret.positions.DEFAULT,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),!0)},t.focus=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?t.setToLastBlock(t.Editor.Caret.positions.END):t.setToFirstBlock(t.Editor.Caret.positions.START)},t}return(0,o.default)(e,[{key:"methods",get:function(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}]),e}((c=h(c)).default);e.default=l,l.displayName="CaretAPI",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(5),n(6),n(4),n(9)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c){var h=n(1);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=h(r),o=h(o),s=h(s),a=h(a),u=h(u);var l=function(t){(0,s.default)(e,t);var i,n=(i=e,function(){var t,n=(0,u.default)(i);if(f()){var e=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,a.default)(this,t)});function e(){return(0,r.default)(this,e),n.apply(this,arguments)}return(0,o.default)(e,[{key:"on",value:function(t,i){this.eventsDispatcher.on(t,i)}},{key:"emit",value:function(t,i){this.eventsDispatcher.emit(t,i)}},{key:"off",value:function(t,i){this.eventsDispatcher.off(t,i)}},{key:"methods",get:function(){var t=this;return{emit:function(i,n){return t.emit(i,n)},off:function(i,n){return t.off(i,n)},on:function(i,n){return t.on(i,n)}}}}]),e}((c=h(c)).default);e.default=l,l.displayName="EventsAPI",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(5),n(6),n(4),n(59),n(7),n(9)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h,f){var l=n(1);function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=l(r),o=l(o),s=l(s),a=l(a),u=l(u),c=l(c);var v=function(t){(0,s.default)(e,t);var i,n=(i=e,function(){var t,n=(0,u.default)(i);if(d()){var e=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,a.default)(this,t)});function e(){return(0,r.default)(this,e),n.apply(this,arguments)}return(0,o.default)(e,[{key:"getMethodsForTool",value:function(t){return Object.assign(this.methods,{t:function(i){return c.default.t(e.getNamespace(t),i)}})}},{key:"methods",get:function(){return{t:function(){(0,h.logLabeled)("I18n.t() method can be accessed only from Tools","warn")}}}}],[{key:"getNamespace",value:function(t){return t.isTune()?"blockTunes.".concat(t.name):"tools.".concat(t.name)}}]),e}((f=l(f)).default);e.default=v,v.displayName="I18nAPI",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(5),n(6),n(4),n(9)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c){var h=n(1);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=h(r),o=h(o),s=h(s),a=h(a),u=h(u);var l=function(t){(0,s.default)(e,t);var i,n=(i=e,function(){var t,n=(0,u.default)(i);if(f()){var e=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,a.default)(this,t)});function e(){return(0,r.default)(this,e),n.apply(this,arguments)}return(0,o.default)(e,[{key:"open",value:function(){this.Editor.InlineToolbar.tryToShow()}},{key:"close",value:function(){this.Editor.InlineToolbar.close()}},{key:"methods",get:function(){var t=this;return{close:function(){return t.close()},open:function(){return t.open()}}}}]),e}((c=h(c)).default);e.default=l,l.displayName="InlineToolbarAPI",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(5),n(6),n(4),n(9)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c){var h=n(1);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=h(r),o=h(o),s=h(s),a=h(a),u=h(u);var l=function(t){(0,s.default)(e,t);var i,n=(i=e,function(){var t,n=(0,u.default)(i);if(f()){var e=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,a.default)(this,t)});function e(){return(0,r.default)(this,e),n.apply(this,arguments)}return(0,o.default)(e,[{key:"on",value:function(t,i,n,e){this.listeners.on(t,i,n,e)}},{key:"off",value:function(t,i,n,e){this.listeners.off(t,i,n,e)}},{key:"methods",get:function(){var t=this;return{on:function(i,n,e,r){return t.on(i,n,e,r)},off:function(i,n,e,r){return t.off(i,n,e,r)}}}}]),e}((c=h(c)).default);e.default=l,l.displayName="ListenersAPI",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(5),n(6),n(4),n(376),n(9)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h){var f=n(1);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=f(r),o=f(o),s=f(s),a=f(a),u=f(u),c=f(c);var d=function(t){(0,s.default)(e,t);var i,n=(i=e,function(){var t,n=(0,u.default)(i);if(l()){var e=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,a.default)(this,t)});function e(t){var i,o=t.config,s=t.eventsDispatcher;return(0,r.default)(this,e),(i=n.call(this,{config:o,eventsDispatcher:s})).notifier=new c.default,i}return(0,o.default)(e,[{key:"show",value:function(t){return this.notifier.show(t)}},{key:"methods",get:function(){var t=this;return{show:function(i){return t.show(i)}}}}]),e}((h=f(h)).default);e.default=d,d.displayName="NotifierAPI",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(5),n(6),n(4),n(9)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c){var h=n(1);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=h(r),o=h(o),s=h(s),a=h(a),u=h(u);var l=function(t){(0,s.default)(e,t);var i,n=(i=e,function(){var t,n=(0,u.default)(i);if(f()){var e=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,a.default)(this,t)});function e(){return(0,r.default)(this,e),n.apply(this,arguments)}return(0,o.default)(e,[{key:"toggle",value:function(t){return this.Editor.ReadOnly.toggle(t)}},{key:"methods",get:function(){var t=this;return{toggle:function(i){return t.toggle(i)},isEnabled:this.isEnabled}}},{key:"isEnabled",get:function(){return this.Editor.ReadOnly.isEnabled}}]),e}((c=h(c)).default);e.default=l,l.displayName="ReadOnlyAPI",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(5),n(6),n(4),n(9),n(65)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h){var f=n(1);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=f(r),o=f(o),s=f(s),a=f(a),u=f(u);var d=function(t){(0,s.default)(e,t);var i,n=(i=e,function(){var t,n=(0,u.default)(i);if(l()){var e=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,a.default)(this,t)});function e(){return(0,r.default)(this,e),n.apply(this,arguments)}return(0,o.default)(e,[{key:"clean",value:function(t,i){return(0,h.clean)(t,i)}},{key:"methods",get:function(){var t=this;return{clean:function(i,n){return t.clean(i,n)}}}}]),e}((c=f(c)).default);e.default=d,d.displayName="SanitizerAPI",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(5),n(6),n(4),n(7),n(9)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h){var f=n(8),l=n(1);function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=l(r),o=l(o),s=l(s),a=l(a),u=l(u),c=f(c);var v=function(t){(0,s.default)(e,t);var i,n=(i=e,function(){var t,n=(0,u.default)(i);if(d()){var e=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,a.default)(this,t)});function e(){return(0,r.default)(this,e),n.apply(this,arguments)}return(0,o.default)(e,[{key:"save",value:function(){var t="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(c.logLabeled(t,"warn"),Promise.reject(new Error(t))):this.Editor.Saver.save()}},{key:"methods",get:function(){var t=this;return{save:function(){return t.save()}}}}]),e}((h=l(h)).default);e.default=v,v.displayName="SaverAPI",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(5),n(6),n(4),n(25),n(9)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h){var f=n(1);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=f(r),o=f(o),s=f(s),a=f(a),u=f(u),c=f(c);var d=function(t){(0,s.default)(e,t);var i,n=(i=e,function(){var t,n=(0,u.default)(i);if(l()){var e=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,a.default)(this,t)});function e(){return(0,r.default)(this,e),n.apply(this,arguments)}return(0,o.default)(e,[{key:"findParentTag",value:function(t,i){return(new c.default).findParentTag(t,i)}},{key:"expandToTag",value:function(t){(new c.default).expandToTag(t)}},{key:"methods",get:function(){var t=this;return{findParentTag:function(i,n){return t.findParentTag(i,n)},expandToTag:function(i){return t.expandToTag(i)}}}}]),e}((h=f(h)).default);e.default=d,d.displayName="SelectionAPI",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(5),n(6),n(4),n(9)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c){var h=n(1);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=h(r),o=h(o),s=h(s),a=h(a),u=h(u);var l=function(t){(0,s.default)(e,t);var i,n=(i=e,function(){var t,n=(0,u.default)(i);if(f()){var e=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,a.default)(this,t)});function e(){return(0,r.default)(this,e),n.apply(this,arguments)}return(0,o.default)(e,[{key:"classes",get:function(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}]),e}((c=h(c)).default);e.default=l,l.displayName="StylesAPI",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(5),n(6),n(4),n(9),n(7)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h){var f=n(8),l=n(1);function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=l(r),o=l(o),s=l(s),a=l(a),u=l(u),c=l(c),h=f(h);var v=function(t){(0,s.default)(e,t);var i,n=(i=e,function(){var t,n=(0,u.default)(i);if(d()){var e=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,a.default)(this,t)});function e(){return(0,r.default)(this,e),n.apply(this,arguments)}return(0,o.default)(e,[{key:"open",value:function(){this.Editor.Toolbar.open()}},{key:"close",value:function(){this.Editor.Toolbar.close()}},{key:"toggleBlockSettings",value:function(t){-1!==this.Editor.BlockManager.currentBlockIndex?t!==this.Editor.BlockSettings.opened&&((null!=t?t:!this.Editor.BlockSettings.opened)?(this.Editor.Toolbar.opened||(this.Editor.Toolbar.open(!0,!1),this.Editor.Toolbar.plusButton.hide()),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()):h.logLabeled("Could't toggle the Toolbar because there is no block selected ","warn")}},{key:"methods",get:function(){var t=this;return{close:function(){return t.close()},open:function(){return t.open()},toggleBlockSettings:function(i){return t.toggleBlockSettings(i)}}}}]),e}(c.default);e.default=v,v.displayName="ToolbarAPI",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(5),n(6),n(4),n(9),n(82)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h){var f=n(1);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=f(r),o=f(o),s=f(s),a=f(a),u=f(u),c=f(c),h=f(h);var d=function(t){(0,s.default)(e,t);var i,n=(i=e,function(){var t,n=(0,u.default)(i);if(l()){var e=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,a.default)(this,t)});function e(t){var i,o=t.config,s=t.eventsDispatcher;return(0,r.default)(this,e),(i=n.call(this,{config:o,eventsDispatcher:s})).tooltip=new h.default,i}return(0,o.default)(e,[{key:"destroy",value:function(){this.tooltip.destroy()}},{key:"show",value:function(t,i,n){this.tooltip.show(t,i,n)}},{key:"hide",value:function(){this.tooltip.hide()}},{key:"onHover",value:function(t,i,n){this.tooltip.onHover(t,i,n)}},{key:"methods",get:function(){var t=this;return{show:function(i,n,e){return t.show(i,n,e)},hide:function(){return t.hide()},onHover:function(i,n,e){return t.onHover(i,n,e)}}}}]),e}(c.default);e.default=d,d.displayName="TooltipAPI",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(5),n(6),n(4),n(9),n(7),n(25),n(60)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h,f,l){var d=n(8),v=n(1);function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=v(r),o=v(o),s=v(s),a=v(a),u=v(u),c=v(c),h=d(h),f=v(f),l=v(l);var m=function(t){(0,s.default)(e,t);var i,n=(i=e,function(){var t,n=(0,u.default)(i);if(p()){var e=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,a.default)(this,t)});function e(){return(0,r.default)(this,e),n.apply(this,arguments)}return(0,o.default)(e,[{key:"keydown",value:function(t){switch(this.beforeKeydownProcessing(t),t.keyCode){case h.keyCodes.BACKSPACE:this.backspace(t);break;case h.keyCodes.ENTER:this.enter(t);break;case h.keyCodes.DOWN:case h.keyCodes.RIGHT:this.arrowRightAndDown(t);break;case h.keyCodes.UP:case h.keyCodes.LEFT:this.arrowLeftAndUp(t);break;case h.keyCodes.TAB:this.tabPressed(t)}}},{key:"beforeKeydownProcessing",value:function(t){this.needToolbarClosing(t)&&h.isPrintableKey(t.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||(this.Editor.BlockManager.clearFocused(),this.Editor.BlockSelection.clearSelection(t)))}},{key:"keyup",value:function(t){t.shiftKey||this.Editor.UI.checkEmptiness()}},{key:"tabPressed",value:function(t){this.Editor.BlockSelection.clearSelection(t);var i=this.Editor,n=i.BlockManager.currentBlock;if(n){var e=!n.isEmpty&&i.ConversionToolbar.opened,r=!n.isEmpty&&!f.default.isCollapsed&&i.InlineToolbar.opened;n.tool.isDefault&&n.isEmpty?this.activateToolbox():e||r||this.activateBlockSettings()}}},{key:"dragOver",value:function(t){this.Editor.BlockManager.getBlockByChildNode(t.target).dropTarget=!0}},{key:"dragLeave",value:function(t){this.Editor.BlockManager.getBlockByChildNode(t.target).dropTarget=!1}},{key:"handleCommandC",value:function(t){var i=this.Editor.BlockSelection;i.anyBlockSelected&&i.copySelectedBlocks(t)}},{key:"handleCommandX",value:function(t){var i=this.Editor,n=i.BlockSelection,e=i.BlockManager,r=i.Caret;n.anyBlockSelected&&n.copySelectedBlocks(t).then((function(){var i=e.removeSelectedBlocks(),o=e.insertDefaultBlockAtIndex(i,!0);r.setToBlock(o,r.positions.START),n.clearSelection(t)}))}},{key:"enter",value:function(t){var i=this.Editor,n=i.UI;if(!i.BlockManager.currentBlock.tool.isLineBreaksEnabled&&!(n.someToolbarOpened&&n.someFlipperButtonFocused||t.shiftKey)){var e=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):e=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(e),e.tool.isDefault&&e.isEmpty&&(this.Editor.Toolbar.open(!1),this.Editor.Toolbar.plusButton.show()),t.preventDefault()}}},{key:"backspace",value:function(t){var i=this.Editor,n=i.BlockManager,e=i.BlockSelection,r=i.Caret,o=n.currentBlock,s=o.tool;if(o.selected||o.isEmpty&&o.currentInput===o.firstInput){t.preventDefault();var a=n.currentBlockIndex;return n.previousBlock&&0===n.previousBlock.inputs.length?n.removeBlock(a-1):n.removeBlock(),r.setToBlock(n.currentBlock,a?r.positions.END:r.positions.START),this.Editor.Toolbar.close(),void e.clearSelection(t)}s.isLineBreaksEnabled&&!r.isAtStart||r.isAtStart&&f.default.isCollapsed&&o.currentInput===o.firstInput&&0!==n.currentBlockIndex&&(t.preventDefault(),this.mergeBlocks())}},{key:"mergeBlocks",value:function(){var t=this.Editor,i=t.BlockManager,n=t.Caret,e=t.Toolbar,r=i.previousBlock,o=i.currentBlock;if(o.name!==r.name||!r.mergeable)return 0===r.inputs.length||r.isEmpty?(i.removeBlock(i.currentBlockIndex-1),n.setToBlock(i.currentBlock),void e.close()):void(n.navigatePrevious()&&e.close());n.createShadow(r.pluginsContent),i.mergeBlocks(r,o).then((function(){n.restoreCaret(r.pluginsContent),r.pluginsContent.normalize(),e.close()}))}},{key:"arrowRightAndDown",value:function(t){var i=this,n=l.default.usedKeys.includes(t.keyCode)&&(!t.shiftKey||t.keyCode===h.keyCodes.TAB);this.Editor.UI.someToolbarOpened&&n||(this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close(),t.shiftKey&&t.keyCode===h.keyCodes.DOWN&&(this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected)?this.Editor.CrossBlockSelection.toggleBlockSelectedState():((t.keyCode===h.keyCodes.DOWN||t.keyCode===h.keyCodes.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious())?t.preventDefault():h.delay((function(){i.Editor.BlockManager.currentBlock&&i.Editor.BlockManager.currentBlock.updateCurrentInput()}),20)(),this.Editor.BlockSelection.clearSelection(t)))}},{key:"arrowLeftAndUp",value:function(t){var i=this;if(this.Editor.UI.someToolbarOpened){if(l.default.usedKeys.includes(t.keyCode)&&(!t.shiftKey||t.keyCode===h.keyCodes.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close(),t.shiftKey&&t.keyCode===h.keyCodes.UP&&(this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected)?this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1):((t.keyCode===h.keyCodes.UP||t.keyCode===h.keyCodes.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext())?t.preventDefault():h.delay((function(){i.Editor.BlockManager.currentBlock&&i.Editor.BlockManager.currentBlock.updateCurrentInput()}),20)(),this.Editor.BlockSelection.clearSelection(t))}},{key:"needToolbarClosing",value:function(t){return!(t.shiftKey||t.keyCode===h.keyCodes.TAB||t.keyCode===h.keyCodes.ENTER&&this.Editor.Toolbox.opened||t.keyCode===h.keyCodes.ENTER&&this.Editor.BlockSettings.opened||t.keyCode===h.keyCodes.ENTER&&this.Editor.InlineToolbar.opened||t.keyCode===h.keyCodes.ENTER&&this.Editor.ConversionToolbar.opened)}},{key:"activateToolbox",value:function(){this.Editor.Toolbar.opened||(this.Editor.Toolbar.open(!1,!1),this.Editor.Toolbar.plusButton.show()),this.Editor.Toolbox.open()}},{key:"activateBlockSettings",value:function(){this.Editor.Toolbar.opened||(this.Editor.BlockManager.currentBlock.focused=!0,this.Editor.Toolbar.open(!0,!1),this.Editor.Toolbar.plusButton.hide()),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}]),e}(c.default);e.default=m,m.displayName="BlockEvents",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(23),n(24),n(2),n(3),n(5),n(6),n(4),n(66),n(9),n(15),n(7),n(382),n(111)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h,f,l,d,v,p,m){var b=n(8),g=n(1);function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=g(r),o=g(o),s=g(s),a=g(a),u=g(u),c=g(c),h=g(h),f=b(f),l=g(l),d=g(d),v=b(v),p=g(p),m=g(m);var w=function(t){(0,u.default)(b,t);var i,n,e,l=(i=b,function(){var t,n=(0,h.default)(i);if(y()){var e=(0,h.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function b(){var t;return(0,s.default)(this,b),(t=l.apply(this,arguments))._currentBlockIndex=-1,t._blocks=null,t}return(0,a.default)(b,[{key:"prepare",value:function(){var t=this,i=new p.default(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(i,{set:p.default.set,get:p.default.get}),this.listeners.on(document,"copy",(function(i){return t.Editor.BlockEvents.handleCommandC(i)}))}},{key:"toggleReadOnly",value:function(t){t?this.disableModuleBindings():this.enableModuleBindings()}},{key:"composeBlock",value:function(t){var i=t.data,n=void 0===i?{}:i,e=t.id,r=void 0===e?void 0:e,o=t.tunes,s=void 0===o?{}:o,a=this.Editor.ReadOnly.isEnabled,u=this.Editor.Tools.blockTools.get(t.tool),c=new f.default({id:r,data:n,tool:u,api:this.Editor.API,readOnly:a,tunesData:s});return a||this.bindBlockEvents(c),c}},{key:"insert",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.id,n=t.tool,e=t.data,r=t.needToFocus,o=void 0===r||r,s=t.replace,a=void 0!==s&&s,u=t.tunes,c=t.index;void 0===c&&(c=this.currentBlockIndex+(a?0:1));var h=this.composeBlock({id:void 0===i?void 0:i,tool:void 0===n?this.config.defaultBlock:n,data:void 0===e?{}:e,tunes:void 0===u?{}:u});return this._blocks.insert(c,h,a),this.blockDidMutated(h),o?this.currentBlockIndex=c:c<=this.currentBlockIndex&&this.currentBlockIndex++,h}},{key:"replace",value:function(t){var i=t.tool,n=t.data;return this.insert({tool:void 0===i?this.config.defaultBlock:i,data:void 0===n?{}:n,index:this.currentBlockIndex,replace:!0})}},{key:"paste",value:function(t,i){var n=this.insert({tool:t,replace:arguments.length>2&&void 0!==arguments[2]&&arguments[2]});try{n.call(f.BlockToolAPI.ON_PASTE,i)}catch(i){v.log("".concat(t,": onPaste callback call is failed"),"error",i)}return n}},{key:"insertDefaultBlockAtIndex",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[t]=n,this.blockDidMutated(n),i?this.currentBlockIndex=t:t<=this.currentBlockIndex&&this.currentBlockIndex++,n}},{key:"insertAtEnd",value:function(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}},{key:"mergeBlocks",value:(e=(0,o.default)(r.default.mark((function t(i,n){var e,o;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this._blocks.indexOf(n),!n.isEmpty){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,n.data;case 5:if(v.isEmpty(o=t.sent)){t.next=9;break}return t.next=9,i.mergeWith(o);case 9:this.removeBlock(e),this.currentBlockIndex=this._blocks.indexOf(i);case 11:case"end":return t.stop()}}),t,this)}))),function(t,i){return e.apply(this,arguments)})},{key:"removeBlock",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentBlockIndex;if(!this.validateIndex(t))throw new Error("Can't find a Block to remove");var i=this._blocks[t];i.destroy(),this._blocks.remove(t),this.blockDidMutated(i),this.currentBlockIndex>=t&&this.currentBlockIndex--,this.blocks.length?0===t&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,this.insert())}},{key:"removeSelectedBlocks",value:function(){for(var t,i=this.blocks.length-1;i>=0;i--)this.blocks[i].selected&&(this.removeBlock(i),t=i);return t}},{key:"removeAllBlocks",value:function(){for(var t=this.blocks.length-1;t>=0;t--)this._blocks.remove(t);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}},{key:"split",value:function(){var t=this.Editor.Caret.extractFragmentFromCaretPosition(),i=d.default.make("div");i.appendChild(t);var n={text:d.default.isEmpty(i)?"":i.innerHTML};return this.insert({data:n})}},{key:"getBlockByIndex",value:function(t){return this._blocks[t]}},{key:"getBlockIndex",value:function(t){return this._blocks.indexOf(t)}},{key:"getBlockById",value:function(t){return this._blocks.array.find((function(i){return i.id===t}))}},{key:"getBlock",value:function(t){d.default.isElement(t)||(t=t.parentNode);var i=this._blocks.nodes,n=t.closest(".".concat(f.default.CSS.wrapper)),e=i.indexOf(n);if(e>=0)return this._blocks[e]}},{key:"highlightCurrentNode",value:function(){this.clearFocused(),this.currentBlock.focused=!0}},{key:"clearFocused",value:function(){this.blocks.forEach((function(t){t.focused=!1}))}},{key:"setCurrentBlockByChildNode",value:function(t){d.default.isElement(t)||(t=t.parentNode);var i=t.closest(".".concat(f.default.CSS.wrapper));if(i){var n=i.closest(".".concat(this.Editor.UI.CSS.editorWrapper));if(null==n?void 0:n.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(i),this.currentBlock.updateCurrentInput(),this.currentBlock}}},{key:"getBlockByChildNode",value:function(t){d.default.isElement(t)||(t=t.parentNode);var i=t.closest(".".concat(f.default.CSS.wrapper));return this.blocks.find((function(t){return t.holder===i}))}},{key:"swap",value:function(t,i){this._blocks.swap(t,i),this.currentBlockIndex=i}},{key:"move",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.currentBlockIndex;isNaN(t)||isNaN(i)?v.log("Warning during 'move' call: incorrect indices provided.","warn"):this.validateIndex(t)&&this.validateIndex(i)?(this._blocks.move(t,i),this.currentBlockIndex=t,this.blockDidMutated(this.currentBlock)):v.log("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn")}},{key:"dropPointer",value:function(){this.currentBlockIndex=-1,this.clearFocused()}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._blocks.removeAll(),this.dropPointer(),t&&this.insert(),this.Editor.UI.checkEmptiness()}},{key:"destroy",value:(n=(0,o.default)(r.default.mark((function t(){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(this.blocks.map((function(t){return t.destroy()})));case 2:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"bindBlockEvents",value:function(t){var i=this,n=this.Editor.BlockEvents;this.readOnlyMutableListeners.on(t.holder,"keydown",(function(t){n.keydown(t)})),this.readOnlyMutableListeners.on(t.holder,"keyup",(function(t){n.keyup(t)})),this.readOnlyMutableListeners.on(t.holder,"dragover",(function(t){n.dragOver(t)})),this.readOnlyMutableListeners.on(t.holder,"dragleave",(function(t){n.dragLeave(t)})),t.on("didMutated",(function(t){return i.blockDidMutated(t)}))}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"enableModuleBindings",value:function(){var t=this;this.readOnlyMutableListeners.on(document,"cut",(function(i){return t.Editor.BlockEvents.handleCommandX(i)})),this.blocks.forEach((function(i){t.bindBlockEvents(i)}))}},{key:"validateIndex",value:function(t){return!(t<0||t>=this._blocks.length)}},{key:"blockDidMutated",value:function(t){return this.Editor.ModificationsObserver.onChange(new m.default(t)),t}},{key:"currentBlockIndex",get:function(){return this._currentBlockIndex},set:function(t){this._blocks[this._currentBlockIndex]&&this._blocks[this._currentBlockIndex].willUnselect(),this._blocks[t]&&this._blocks[t].willSelect(),this._currentBlockIndex=t}},{key:"firstBlock",get:function(){return this._blocks[0]}},{key:"lastBlock",get:function(){return this._blocks[this._blocks.length-1]}},{key:"currentBlock",get:function(){return this._blocks[this.currentBlockIndex]}},{key:"nextBlock",get:function(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}},{key:"nextContentfulBlock",get:function(){return this.blocks.slice(this.currentBlockIndex+1).find((function(t){return!!t.inputs.length}))}},{key:"previousContentfulBlock",get:function(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find((function(t){return!!t.inputs.length}))}},{key:"previousBlock",get:function(){return 0===this.currentBlockIndex?null:this._blocks[this.currentBlockIndex-1]}},{key:"blocks",get:function(){return this._blocks.array}},{key:"isEditorEmpty",get:function(){return this.blocks.every((function(t){return t.isEmpty}))}}]),b}(l.default);e.default=w,w.displayName="BlockManager",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e=n(381);function r(i,n,o){return t.exports=r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,i,n){var r=e(t,i);if(r){var o=Object.getOwnPropertyDescriptor(r,i);return o.get?o.get.call(n):o.value}},r(i,n,o||i)}t.exports=r},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(5),n(6),n(4),n(9),n(7),n(15),n(112),n(25),n(65)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h,f,l,d,v){var p=n(8),m=n(1);function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=m(r),o=m(o),s=m(s),a=m(a),u=m(u),c=m(c),h=p(h),f=m(f),l=m(l),d=m(d);var g=function(t){(0,s.default)(e,t);var i,n=(i=e,function(){var t,n=(0,u.default)(i);if(b()){var e=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,a.default)(this,t)});function e(){var t;return(0,r.default)(this,e),(t=n.apply(this,arguments)).anyBlockSelectedCache=null,t.needToSelectAll=!1,t.nativeInputSelected=!1,t.readyToBlockSelection=!1,t}return(0,o.default)(e,[{key:"prepare",value:function(){var t=this;this.selection=new d.default,l.default.add({name:"CMD+A",handler:function(i){var n=t.Editor,e=n.BlockManager;if(n.ReadOnly.isEnabled)return i.preventDefault(),void t.selectAllBlocks();e.currentBlock&&t.handleCommandA(i)},on:this.Editor.UI.nodes.redactor})}},{key:"toggleReadOnly",value:function(){d.default.get().removeAllRanges(),this.allBlocksSelected=!1}},{key:"unSelectBlockByIndex",value:function(t){var i=this.Editor.BlockManager;(isNaN(t)?i.currentBlock:i.getBlockByIndex(t)).selected=!1,this.clearCache()}},{key:"clearSelection",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.Editor,e=n.BlockManager,r=n.Caret,o=n.RectangleSelection;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;var s=t&&t instanceof KeyboardEvent,a=s&&h.isPrintableKey(t.keyCode);if(this.anyBlockSelected&&s&&a&&!d.default.isSelectionExists){var u=e.removeSelectedBlocks();e.insertDefaultBlockAtIndex(u,!0),r.setToBlock(e.currentBlock),h.delay((function(){var i=t.key;r.insertContentAtCaretPosition(i.length>1?"":i)}),20)()}this.Editor.CrossBlockSelection.clear(t),this.anyBlockSelected&&!o.isRectActivated()?(i&&this.selection.restore(),this.allBlocksSelected=!1):this.Editor.RectangleSelection.clearSelection()}},{key:"copySelectedBlocks",value:function(t){var i=this;t.preventDefault();var n=f.default.make("div");this.selectedBlocks.forEach((function(t){var e=(0,v.clean)(t.holder.innerHTML,i.sanitizerConfig),r=f.default.make("p");r.innerHTML=e,n.appendChild(r)}));var e=Array.from(n.childNodes).map((function(t){return t.textContent})).join("\n\n"),r=n.innerHTML;return t.clipboardData.setData("text/plain",e),t.clipboardData.setData("text/html",r),Promise.all(this.selectedBlocks.map((function(t){return t.save()}))).then((function(n){try{t.clipboardData.setData(i.Editor.Paste.MIME_TYPE,JSON.stringify(n))}catch(t){}}))}},{key:"selectBlockByIndex",value:function(t){var i,n=this.Editor.BlockManager;n.clearFocused(),i=isNaN(t)?n.currentBlock:n.getBlockByIndex(t),this.selection.save(),d.default.get().removeAllRanges(),i.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}},{key:"clearCache",value:function(){this.anyBlockSelectedCache=null}},{key:"destroy",value:function(){l.default.remove(this.Editor.UI.nodes.redactor,"CMD+A")}},{key:"handleCommandA",value:function(t){if(this.Editor.RectangleSelection.clearSelection(),!f.default.isNativeInput(t.target)||this.readyToBlockSelection){var i=this.Editor.BlockManager.getBlock(t.target).inputs;i.length>1&&!this.readyToBlockSelection?this.readyToBlockSelection=!0:1!==i.length||this.needToSelectAll?this.needToSelectAll?(t.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(t.preventDefault(),this.selectBlockByIndex(),this.needToSelectAll=!0):this.needToSelectAll=!0}else this.readyToBlockSelection=!0}},{key:"selectAllBlocks",value:function(){this.selection.save(),d.default.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}},{key:"sanitizerConfig",get:function(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}},{key:"allBlocksSelected",get:function(){return this.Editor.BlockManager.blocks.every((function(t){return!0===t.selected}))},set:function(t){this.Editor.BlockManager.blocks.forEach((function(i){i.selected=t})),this.clearCache()}},{key:"anyBlockSelected",get:function(){return null===this.anyBlockSelectedCache&&(this.anyBlockSelectedCache=this.Editor.BlockManager.blocks.some((function(t){return!0===t.selected}))),this.anyBlockSelectedCache}},{key:"selectedBlocks",get:function(){return this.Editor.BlockManager.blocks.filter((function(t){return t.selected}))}}]),e}(c.default);e.default=g,g.displayName="BlockSelection",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(5),n(6),n(4),n(25),n(9),n(15),n(7)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h,f,l){var d=n(8),v=n(1);function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=v(r),o=v(o),s=v(s),a=v(a),u=v(u),c=v(c),h=v(h),f=v(f),l=d(l);var m=function(t){(0,s.default)(e,t);var i,n=(i=e,function(){var t,n=(0,u.default)(i);if(p()){var e=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,a.default)(this,t)});function e(){return(0,r.default)(this,e),n.apply(this,arguments)}return(0,o.default)(e,[{key:"setToBlock",value:function(t){var i,n=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.positions.DEFAULT,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=this.Editor.BlockManager;switch(e){case this.positions.START:i=t.firstInput;break;case this.positions.END:i=t.lastInput;break;default:i=t.currentInput}if(i){var s=f.default.getDeepestNode(i,e===this.positions.END),a=f.default.getContentLength(s);switch(!0){case e===this.positions.START:r=0;break;case e===this.positions.END:case r>a:r=a}l.delay((function(){n.set(s,r)}),20)(),o.setCurrentBlockByChildNode(t.holder),o.currentBlock.currentInput=i}}},{key:"setToInput",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.positions.DEFAULT,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=this.Editor.BlockManager.currentBlock,r=f.default.getDeepestNode(t);switch(i){case this.positions.START:this.set(r,0);break;case this.positions.END:this.set(r,f.default.getContentLength(r));break;default:n&&this.set(r,n)}e.currentInput=t}},{key:"set",value:function(t){var i=c.default.setCursor(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=i.top,e=i.bottom,r=window.innerHeight;n<0&&window.scrollBy(0,n),e>r&&window.scrollBy(0,e-r)}},{key:"setToTheLastBlock",value:function(){var t=this.Editor.BlockManager.lastBlock;if(t)if(t.tool.isDefault&&t.isEmpty)this.setToBlock(t);else{var i=this.Editor.BlockManager.insertAtEnd();this.setToBlock(i)}}},{key:"extractFragmentFromCaretPosition",value:function(){var t=c.default.get();if(t.rangeCount){var i=t.getRangeAt(0),n=this.Editor.BlockManager.currentBlock.currentInput;if(i.deleteContents(),n){if(f.default.isNativeInput(n)){var e=n,r=document.createDocumentFragment(),o=e.value.substring(0,e.selectionStart),s=e.value.substring(e.selectionStart);return r.textContent=s,e.value=o,r}var a=i.cloneRange();return a.selectNodeContents(n),a.setStart(i.endContainer,i.endOffset),a.extractContents()}}}},{key:"navigateNext",value:function(){var t=this.Editor.BlockManager,i=t.currentBlock,n=i.nextInput,e=this.isAtEnd,r=t.nextContentfulBlock;if(!r&&!n){if(i.tool.isDefault||!e)return!1;r=t.insertAtEnd()}return!!e&&(n?this.setToInput(n,this.positions.START):this.setToBlock(r,this.positions.START),!0)}},{key:"navigatePrevious",value:function(){var t=this.Editor.BlockManager,i=t.currentBlock,n=t.previousContentfulBlock;if(!i)return!1;var e=i.previousInput;return!(!n&&!e||!this.isAtStart||(e?this.setToInput(e,this.positions.END):this.setToBlock(n,this.positions.END),0))}},{key:"createShadow",value:function(t){var i=document.createElement("span");i.classList.add(e.CSS.shadowCaret),t.insertAdjacentElement("beforeend",i)}},{key:"restoreCaret",value:function(t){var i=t.querySelector(".".concat(e.CSS.shadowCaret));i&&((new c.default).expandToTag(i),setTimeout((function(){var t=document.createRange();t.selectNode(i),t.extractContents()}),50))}},{key:"insertContentAtCaretPosition",value:function(t){var i=document.createDocumentFragment(),n=document.createElement("div"),e=c.default.get(),r=c.default.range;n.innerHTML=t,Array.from(n.childNodes).forEach((function(t){return i.appendChild(t)})),0===i.childNodes.length&&i.appendChild(new Text);var o=i.lastChild;r.deleteContents(),r.insertNode(i);var s=document.createRange();s.setStart(o,o.textContent.length),e.removeAllRanges(),e.addRange(s)}},{key:"getHigherLevelSiblings",value:function(t,i){for(var n=t,e=[];n.parentNode&&"true"!==n.parentNode.contentEditable;)n=n.parentNode;for(var r="left"===i?"previousSibling":"nextSibling";n[r];)e.push(n=n[r]);return e}},{key:"positions",get:function(){return{START:"start",END:"end",DEFAULT:"default"}}},{key:"isAtStart",get:function(){var t=c.default.get(),i=f.default.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput),n=t.focusNode;if(f.default.isNativeInput(i))return 0===i.selectionEnd;if(!t.anchorNode)return!1;var e=n.textContent.search(/\S/);-1===e&&(e=0);var r=t.focusOffset;return n.nodeType!==Node.TEXT_NODE&&n.childNodes.length&&(n.childNodes[r]?(n=n.childNodes[r],r=0):r=(n=n.childNodes[r-1]).textContent.length),!(!f.default.isLineBreakTag(i)&&!f.default.isEmpty(i)||!this.getHigherLevelSiblings(n,"left").every((function(t){var i=f.default.isLineBreakTag(t),n=1===t.children.length&&f.default.isLineBreakTag(t.children[0]),e=i||n;return f.default.isEmpty(t)&&!e}))||r!==e)||null===i||n===i&&r<=e}},{key:"isAtEnd",get:function(){var t=c.default.get(),i=t.focusNode,n=f.default.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput,!0);if(f.default.isNativeInput(n))return n.selectionEnd===n.value.length;if(!t.focusNode)return!1;var e=t.focusOffset;if(i.nodeType!==Node.TEXT_NODE&&i.childNodes.length&&(i.childNodes[e-1]?e=(i=i.childNodes[e-1]).textContent.length:(i=i.childNodes[0],e=0)),f.default.isLineBreakTag(n)||f.default.isEmpty(n)){var r=this.getHigherLevelSiblings(i,"right");if(r.every((function(t,i){return i===r.length-1&&f.default.isLineBreakTag(t)||f.default.isEmpty(t)&&!f.default.isLineBreakTag(t)}))&&e===i.textContent.length)return!0}var o=n.textContent.replace(/\s+$/,"");return i===n&&e>=o.length}}],[{key:"CSS",get:function(){return{shadowCaret:"cdx-shadow-caret"}}}]),e}(h.default);e.default=m,m.displayName="Caret",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(23),n(24),n(2),n(3),n(5),n(6),n(4),n(9),n(25),n(7)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h,f,l,d){var v=n(8),p=n(1);function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=p(r),o=p(o),s=p(s),a=p(a),u=p(u),c=p(c),h=p(h),f=p(f),l=p(l),d=v(d);var b=function(t){(0,u.default)(f,t);var i,n,e=(i=f,function(){var t,n=(0,h.default)(i);if(m()){var e=(0,h.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function f(){var t;return(0,s.default)(this,f),(t=e.apply(this,arguments)).onMouseUp=function(){t.listeners.off(document,"mouseover",t.onMouseOver),t.listeners.off(document,"mouseup",t.onMouseUp)},t.onMouseOver=function(i){var n=t.Editor,e=n.BlockManager,r=n.BlockSelection,o=e.getBlockByChildNode(i.relatedTarget)||t.lastSelectedBlock,s=e.getBlockByChildNode(i.target);if(o&&s&&s!==o){if(o===t.firstSelectedBlock)return l.default.get().removeAllRanges(),o.selected=!0,s.selected=!0,void r.clearCache();if(s===t.firstSelectedBlock)return o.selected=!1,s.selected=!1,void r.clearCache();t.Editor.InlineToolbar.close(),t.toggleBlocksSelectedState(o,s),t.lastSelectedBlock=s}},t}return(0,a.default)(f,[{key:"prepare",value:(n=(0,o.default)(r.default.mark((function t(){var i=this;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.listeners.on(document,"mousedown",(function(t){i.enableCrossBlockSelection(t)}));case 1:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"watchSelection",value:function(t){t.button===d.mouseButtons.LEFT&&(this.firstSelectedBlock=this.Editor.BlockManager.getBlock(t.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp))}},{key:"toggleBlockSelectedState",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=this.Editor,n=i.BlockManager,e=i.BlockSelection;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=n.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,e.clearCache(),l.default.get().removeAllRanges());var r=n.blocks.indexOf(this.lastSelectedBlock)+(t?1:-1),o=n.blocks[r];o&&(this.lastSelectedBlock.selected!==o.selected?(o.selected=!0,e.clearCache()):(this.lastSelectedBlock.selected=!1,e.clearCache()),this.lastSelectedBlock=o,this.Editor.InlineToolbar.close(),o.holder.scrollIntoView({block:"nearest"}))}},{key:"clear",value:function(t){var i=this.Editor,n=i.BlockManager,e=i.BlockSelection,r=i.Caret,o=n.blocks.indexOf(this.firstSelectedBlock),s=n.blocks.indexOf(this.lastSelectedBlock);if(e.anyBlockSelected&&o>-1&&s>-1)if(t&&t instanceof KeyboardEvent)switch(t.keyCode){case d.keyCodes.DOWN:case d.keyCodes.RIGHT:r.setToBlock(n.blocks[Math.max(o,s)],r.positions.END);break;case d.keyCodes.UP:case d.keyCodes.LEFT:r.setToBlock(n.blocks[Math.min(o,s)],r.positions.START);break;default:r.setToBlock(n.blocks[Math.max(o,s)],r.positions.END)}else r.setToBlock(n.blocks[Math.max(o,s)],r.positions.END);this.firstSelectedBlock=this.lastSelectedBlock=null}},{key:"enableCrossBlockSelection",value:function(t){var i=this.Editor.UI;l.default.isCollapsed||this.Editor.BlockSelection.clearSelection(t),i.nodes.redactor.contains(t.target)?this.watchSelection(t):this.Editor.BlockSelection.clearSelection(t)}},{key:"toggleBlocksSelectedState",value:function(t,i){for(var n=this.Editor,e=n.BlockManager,r=n.BlockSelection,o=e.blocks.indexOf(t),s=e.blocks.indexOf(i),a=t.selected!==i.selected,u=Math.min(o,s);u<=Math.max(o,s);u++){var c=e.blocks[u];c!==this.firstSelectedBlock&&c!==(a?t:i)&&(e.blocks[u].selected=!e.blocks[u].selected,r.clearCache())}}},{key:"isCrossBlockSelectionStarted",get:function(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}}]),f}(f.default);e.default=b,b.displayName="CrossBlockSelection",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(23),n(24),n(2),n(3),n(5),n(6),n(4),n(25),n(9)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h,f,l){var d=n(1);function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=d(r),o=d(o),s=d(s),a=d(a),u=d(u),c=d(c),h=d(h),f=d(f);var p=function(t){(0,u.default)(l,t);var i,n,e=(i=l,function(){var t,n=(0,h.default)(i);if(v()){var e=(0,h.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function l(){var t;return(0,s.default)(this,l),(t=e.apply(this,arguments)).isStartedAtEditor=!1,t}return(0,a.default)(l,[{key:"toggleReadOnly",value:function(t){t?this.disableModuleBindings():this.enableModuleBindings()}},{key:"enableModuleBindings",value:function(){var t=this,i=this.Editor.UI;this.readOnlyMutableListeners.on(i.nodes.holder,"drop",function(){var i=(0,o.default)(r.default.mark((function i(n){return r.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.processDrop(n);case 2:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}(),!0),this.readOnlyMutableListeners.on(i.nodes.holder,"dragstart",(function(){t.processDragStart()})),this.readOnlyMutableListeners.on(i.nodes.holder,"dragover",(function(i){t.processDragOver(i)}),!0)}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"processDrop",value:(n=(0,o.default)(r.default.mark((function t(i){var n,e,o,s,a,u;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(n=this.Editor).BlockManager,o=n.Caret,s=n.Paste,i.preventDefault(),e.blocks.forEach((function(t){t.dropTarget=!1})),f.default.isAtEditor&&!f.default.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1,(a=e.setCurrentBlockByChildNode(i.target))?this.Editor.Caret.setToBlock(a,o.positions.END):(u=e.setCurrentBlockByChildNode(e.lastBlock.holder),this.Editor.Caret.setToBlock(u,o.positions.END)),t.next=9,s.processDataTransfer(i.dataTransfer,!0);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"processDragStart",value:function(){f.default.isAtEditor&&!f.default.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}},{key:"processDragOver",value:function(t){t.preventDefault()}}]),l}((l=d(l)).default);e.default=p,p.displayName="DragNDrop",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(5),n(6),n(4),n(9),n(7)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h){var f=n(8),l=n(1);function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=l(r),o=l(o),s=l(s),a=l(a),u=l(u),c=l(c),h=f(h);var v=function(t){(0,s.default)(e,t);var i,n=(i=e,function(){var t,n=(0,u.default)(i);if(d()){var e=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,a.default)(this,t)});function e(){var t;return(0,r.default)(this,e),(t=n.apply(this,arguments)).disabled=!1,t}return(0,o.default)(e,[{key:"enable",value:function(){this.disabled=!1}},{key:"disable",value:function(){this.disabled=!0}},{key:"onChange",value:function(t){!this.disabled&&h.isFunction(this.config.onChange)&&this.config.onChange(this.Editor.API.methods,t)}}]),e}(c.default);e.default=v,v.displayName="ModificationsObserver",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(42),n(30),n(23),n(24),n(2),n(3),n(5),n(6),n(4),n(9),n(15),n(7),n(65)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h,f,l,d,v,p,m){var b=n(8),g=n(1);function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=g(r),o=g(o),s=g(s),a=g(a),u=g(u),c=g(c),h=g(h),f=g(f),l=g(l),d=g(d),v=g(v),p=b(p);var w=function(t){(0,h.default)(A,t);var i,n,e,d,b,g,w,x,k,_=(i=A,function(){var t,n=(0,l.default)(i);if(y()){var e=(0,l.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,f.default)(this,t)});function A(){var t;return(0,u.default)(this,A),(t=_.apply(this,arguments)).MIME_TYPE="application/x-editor-js",t.toolsTags={},t.tagsByTool={},t.toolsPatterns=[],t.toolsFiles={},t.exceptionList=[],t.processTool=function(i){try{var n=i.create({},{},!1);if(!1===i.pasteConfig)return void t.exceptionList.push(i.name);if(!p.isFunction(n.onPaste))return;t.getTagsConfig(i),t.getFilesConfig(i),t.getPatternsConfig(i)}catch(t){p.log("Paste handling for «".concat(i.name,"» Tool hasn't been set up because of the error"),"warn",t)}},t.handlePasteEvent=function(){var i=(0,a.default)(s.default.mark((function i(n){var e,r,o;return s.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(o=(e=t.Editor).Toolbar,(r=e.BlockManager).currentBlock&&(!t.isNativeBehaviour(n.target)||n.clipboardData.types.includes("Files"))){i.next=3;break}return i.abrupt("return");case 3:if(!r.currentBlock||!t.exceptionList.includes(r.currentBlock.name)){i.next=5;break}return i.abrupt("return");case 5:n.preventDefault(),t.processDataTransfer(n.clipboardData),r.clearFocused(),o.close();case 9:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}(),t}return(0,c.default)(A,[{key:"prepare",value:(k=(0,a.default)(s.default.mark((function t(){return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.processTools();case 1:case"end":return t.stop()}}),t,this)}))),function(){return k.apply(this,arguments)})},{key:"toggleReadOnly",value:function(t){t?this.unsetCallback():this.setCallback()}},{key:"processDataTransfer",value:(x=(0,a.default)(s.default.mark((function t(i){var n,e,r,o,a,u,c,h,f,l=arguments;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=l.length>1&&void 0!==l[1]&&l[1],e=this.Editor.Tools,!((r=i.types).includes?r.includes("Files"):r.contains("Files"))){t.next=8;break}return t.next=7,this.processFiles(i.files);case 7:return t.abrupt("return");case 8:if(o=i.getData(this.MIME_TYPE),a=i.getData("text/plain"),u=i.getData("text/html"),!o){t.next=19;break}return t.prev=12,this.insertEditorJSData(JSON.parse(o)),t.abrupt("return");case 17:t.prev=17,t.t0=t.catch(12);case 19:if(n&&a.trim()&&u.trim()&&(u="<p>"+(u.trim()?u:a)+"</p>"),c=Object.keys(this.toolsTags).reduce((function(t,i){return t[i.toLowerCase()]=!0,t}),{}),h=Object.assign({},c,e.getAllInlineToolsSanitizeConfig(),{br:{}}),(f=(0,m.clean)(u,h)).trim()&&f.trim()!==a&&v.default.isHTMLString(f)){t.next=28;break}return t.next=26,this.processText(a);case 26:t.next=30;break;case 28:return t.next=30,this.processText(f,!0);case 30:case"end":return t.stop()}}),t,this,[[12,17]])}))),function(t){return x.apply(this,arguments)})},{key:"processText",value:(w=(0,a.default)(s.default.mark((function t(i){var n,e,r,o,u,c=this,h=arguments;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=(n=this.Editor).Caret,r=n.BlockManager,(o=h.length>1&&void 0!==h[1]&&h[1]?this.processHTML(i):this.processPlain(i)).length){t.next=5;break}return t.abrupt("return");case 5:if(1!==o.length){t.next=8;break}return o[0].isBlock?this.processSingleBlock(o.pop()):this.processInlinePaste(o.pop()),t.abrupt("return");case 8:u=r.currentBlock&&r.currentBlock.tool.isDefault&&r.currentBlock.isEmpty,o.map(function(){var t=(0,a.default)(s.default.mark((function t(i,n){return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.insertBlock(i,0===n&&u));case 1:case"end":return t.stop()}}),t)})));return function(i,n){return t.apply(this,arguments)}}()),r.currentBlock&&e.setToBlock(r.currentBlock,e.positions.END);case 12:case"end":return t.stop()}}),t,this)}))),function(t){return w.apply(this,arguments)})},{key:"setCallback",value:function(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}},{key:"unsetCallback",value:function(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}},{key:"processTools",value:function(){Array.from(this.Editor.Tools.blockTools.values()).forEach(this.processTool)}},{key:"getTagsConfig",value:function(t){var i=this,n=t.pasteConfig.tags||[];n.forEach((function(n){Object.prototype.hasOwnProperty.call(i.toolsTags,n)?p.log("Paste handler for «".concat(t.name,"» Tool on «").concat(n,"» tag is skipped ")+"because it is already used by «".concat(i.toolsTags[n].tool.name,"» Tool."),"warn"):i.toolsTags[n.toUpperCase()]={tool:t}})),this.tagsByTool[t.name]=n.map((function(t){return t.toUpperCase()}))}},{key:"getFilesConfig",value:function(t){var i=t.pasteConfig.files,n=void 0===i?{}:i,e=n.extensions,r=n.mimeTypes;(e||r)&&(e&&!Array.isArray(e)&&(p.log("«extensions» property of the onDrop config for «".concat(t.name,"» Tool should be an array")),e=[]),r&&!Array.isArray(r)&&(p.log("«mimeTypes» property of the onDrop config for «".concat(t.name,"» Tool should be an array")),r=[]),r&&(r=r.filter((function(i){return!!p.isValidMimeType(i)||(p.log("MIME type value «".concat(i,"» for the «").concat(t.name,"» Tool is not a valid MIME type"),"warn"),!1)}))),this.toolsFiles[t.name]={extensions:e||[],mimeTypes:r||[]})}},{key:"getPatternsConfig",value:function(t){var i=this;t.pasteConfig.patterns&&!p.isEmpty(t.pasteConfig.patterns)&&Object.entries(t.pasteConfig.patterns).forEach((function(n){var e=(0,o.default)(n,2),r=e[0],s=e[1];s instanceof RegExp||p.log("Pattern ".concat(s," for «").concat(t.name,"» Tool is skipped because it should be a Regexp instance."),"warn"),i.toolsPatterns.push({key:r,pattern:s,tool:t})}))}},{key:"isNativeBehaviour",value:function(t){return v.default.isNativeInput(t)}},{key:"processFiles",value:(g=(0,a.default)(s.default.mark((function t(i){var n,e,r,o=this;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.Editor.BlockManager,t.next=3,Promise.all(Array.from(i).map((function(t){return o.processFile(t)})));case 3:e=(e=t.sent).filter((function(t){return!!t})),r=n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty,e.forEach((function(t,i){n.paste(t.type,t.event,0===i&&r)}));case 8:case"end":return t.stop()}}),t,this)}))),function(t){return g.apply(this,arguments)})},{key:"processFile",value:(b=(0,a.default)(s.default.mark((function t(i){var n,e,r,a,u;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=p.getFileExtension(i),e=Object.entries(this.toolsFiles).find((function(t){var e=(0,o.default)(t,2)[1],r=e.mimeTypes,s=e.extensions,a=i.type.split("/"),u=(0,o.default)(a,2),c=u[0],h=u[1],f=s.find((function(t){return t.toLowerCase()===n.toLowerCase()})),l=r.find((function(t){var i=t.split("/"),n=(0,o.default)(i,2),e=n[1];return n[0]===c&&(e===h||"*"===e)}));return!!f||!!l}))){t.next=4;break}return t.abrupt("return");case 4:return r=(0,o.default)(e,1),a=r[0],u=this.composePasteEvent("file",{file:i}),t.abrupt("return",{event:u,type:a});case 7:case"end":return t.stop()}}),t,this)}))),function(t){return b.apply(this,arguments)})},{key:"processHTML",value:function(t){var i=this,n=this.Editor.Tools,e=v.default.make("DIV");return e.innerHTML=t,this.getNodes(e).map((function(t){var e,r=n.defaultTool,o=!1;switch(t.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:(e=v.default.make("div")).appendChild(t);break;case Node.ELEMENT_NODE:o=!0,i.toolsTags[(e=t).tagName]&&(r=i.toolsTags[e.tagName].tool)}var s=r.pasteConfig.tags.reduce((function(t,i){return t[i.toLowerCase()]={},t}),{}),a=Object.assign({},s,r.baseSanitizeConfig);e.innerHTML=(0,m.clean)(e.innerHTML,a);var u=i.composePasteEvent("tag",{data:e});return{content:e,isBlock:o,tool:r.name,event:u}})).filter((function(t){return!v.default.isNodeEmpty(t.content)||v.default.isSingleTag(t.content)}))}},{key:"processPlain",value:function(t){var i=this;if(!t)return[];var n=this.config.defaultBlock;return t.split(/\r?\n/).filter((function(t){return t.trim()})).map((function(t){var e=v.default.make("div");e.textContent=t;var r=i.composePasteEvent("tag",{data:e});return{content:e,tool:n,isBlock:!1,event:r}}))}},{key:"processSingleBlock",value:(d=(0,a.default)(s.default.mark((function t(i){var n,e,r;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=(n=this.Editor).Caret,(r=n.BlockManager.currentBlock)&&i.tool===r.name&&v.default.containsOnlyInlineElements(i.content.innerHTML)){t.next=5;break}return this.insertBlock(i,(null==r?void 0:r.tool.isDefault)&&r.isEmpty),t.abrupt("return");case 5:e.insertContentAtCaretPosition(i.content.innerHTML);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"processInlinePaste",value:(e=(0,a.default)(s.default.mark((function t(i){var n,e,r,o,a,u;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(n=this.Editor).Caret,o=i.content,!((e=n.BlockManager).currentBlock&&e.currentBlock.tool.isDefault&&o.textContent.length<A.PATTERN_PROCESSING_MAX_LENGTH)){t.next=12;break}return t.next=6,this.processPattern(o.textContent);case 6:if(!(a=t.sent)){t.next=12;break}return u=e.paste(a.tool,a.event,e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty),r.setToBlock(u,r.positions.END),t.abrupt("return");case 12:e.currentBlock&&e.currentBlock.currentInput?document.execCommand("insertHTML",!1,(0,m.clean)(o.innerHTML,e.currentBlock.tool.sanitizeConfig)):this.insertBlock(i);case 13:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"processPattern",value:(n=(0,a.default)(s.default.mark((function t(i){var n,e;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.toolsPatterns.find((function(t){var n=t.pattern.exec(i);return!!n&&i===n.shift()}))){t.next=3;break}return t.abrupt("return");case 3:return e=this.composePasteEvent("pattern",{key:n.key,data:i}),t.abrupt("return",{event:e,tool:n.tool.name});case 5:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"insertBlock",value:function(t){var i,n=this.Editor,e=n.BlockManager,r=n.Caret,o=e.currentBlock;if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o&&o.isEmpty)return i=e.paste(t.tool,t.event,!0),void r.setToBlock(i,r.positions.END);i=e.paste(t.tool,t.event),r.setToBlock(i,r.positions.END)}},{key:"insertEditorJSData",value:function(t){var i=this.Editor,n=i.BlockManager,e=i.Caret,r=i.Tools;(0,m.sanitizeBlocks)(t,(function(t){return r.blockTools.get(t).sanitizeConfig})).forEach((function(t,i){var r=!1;0===i&&(r=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty);var o=n.insert({tool:t.tool,data:t.data,replace:r});e.setToBlock(o,e.positions.END)}))}},{key:"processElementNode",value:function(t,i,n){var e=Object.keys(this.toolsTags),o=t,s=(this.toolsTags[o.tagName]||{}).tool,a=this.tagsByTool[null==s?void 0:s.name]||[],u=e.includes(o.tagName),c=v.default.blockElements.includes(o.tagName.toLowerCase()),h=Array.from(o.children).some((function(t){var i=t.tagName;return e.includes(i)&&!a.includes(i)})),f=Array.from(o.children).some((function(t){return v.default.blockElements.includes(t.tagName.toLowerCase())}));return c||u||h?u&&!h||c&&!f&&!h?[].concat((0,r.default)(i),[n,o]):void 0:(n.appendChild(o),[].concat((0,r.default)(i),[n]))}},{key:"getNodes",value:function(t){var i,n=this;return Array.from(t.childNodes).reduce((function t(e,o){if(v.default.isEmpty(o)&&!v.default.isSingleTag(o))return e;var s=e[e.length-1],a=new DocumentFragment;switch(s&&v.default.isFragment(s)&&(a=e.pop()),o.nodeType){case Node.ELEMENT_NODE:if(i=n.processElementNode(o,e,a))return i;break;case Node.TEXT_NODE:return a.appendChild(o),[].concat((0,r.default)(e),[a]);default:return[].concat((0,r.default)(e),[a])}return[].concat((0,r.default)(e),(0,r.default)(Array.from(o.childNodes).reduce(t,[])))}),[])}},{key:"composePasteEvent",value:function(t,i){return new CustomEvent(t,{detail:i})}}]),A}(d.default);e.default=w,w.displayName="Paste",w.PATTERN_PROCESSING_MAX_LENGTH=450,t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(23),n(30),n(24),n(2),n(3),n(5),n(6),n(4),n(9),n(148)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h,f,l,d){var v=n(1);function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=v(r),o=v(o),s=v(s),a=v(a),u=v(u),c=v(c),h=v(h),f=v(f);var m=function(t){(0,c.default)(v,t);var i,n,e,l=(i=v,function(){var t,n=(0,f.default)(i);if(p()){var e=(0,f.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,h.default)(this,t)});function v(){var t;return(0,a.default)(this,v),(t=l.apply(this,arguments)).toolsDontSupportReadOnly=[],t.readOnlyEnabled=!1,t}return(0,u.default)(v,[{key:"prepare",value:(e=(0,s.default)(r.default.mark((function t(){var i;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=[],Array.from(this.Editor.Tools.blockTools.entries()).forEach((function(t){var n=(0,o.default)(t,2);n[1].isReadOnlySupported||i.push(n[0])})),this.toolsDontSupportReadOnly=i,this.config.readOnly&&i.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly);case 7:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"toggle",value:(n=(0,s.default)(r.default.mark((function t(){var i,n,e,o,s=arguments;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(i=s.length>0&&void 0!==s[0]?s[0]:!this.readOnlyEnabled)&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError(),n=this.readOnlyEnabled,this.readOnlyEnabled=i,t.t0=r.default.keys(this.Editor);case 5:if((t.t1=t.t0()).done){t.next=12;break}if(this.Editor[e=t.t1.value].toggleReadOnly){t.next=9;break}return t.abrupt("continue",5);case 9:this.Editor[e].toggleReadOnly(i),t.next=5;break;case 12:if(n!==i){t.next=14;break}return t.abrupt("return",this.readOnlyEnabled);case 14:return t.next=16,this.Editor.Saver.save();case 16:return o=t.sent,t.next=19,this.Editor.BlockManager.clear();case 19:return t.next=21,this.Editor.Renderer.render(o.blocks);case 21:return t.abrupt("return",this.readOnlyEnabled);case 22:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"throwCriticalError",value:function(){throw new d.CriticalError("To enable read-only mode all connected tools should support it. Tools ".concat(this.toolsDontSupportReadOnly.join(", ")," don't support read-only mode."))}},{key:"isEnabled",get:function(){return this.readOnlyEnabled}}]),v}((l=v(l)).default);e.default=m,m.displayName="ReadOnly",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(5),n(6),n(4),n(9),n(15),n(25),n(66)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h,f,l){var d=n(1);function v(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,i){if(t){if("string"==typeof t)return p(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,i):void 0}}(t))){var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,r,o=!0,s=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==e.return||e.return()}finally{if(s)throw r}}}}function p(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,e=new Array(i);n<i;n++)e[n]=t[n];return e}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=d(r),o=d(o),s=d(s),a=d(a),u=d(u),c=d(c),h=d(h),f=d(f),l=d(l);var b=function(t){(0,s.default)(e,t);var i,n=(i=e,function(){var t,n=(0,u.default)(i);if(m()){var e=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,a.default)(this,t)});function e(){var t;return(0,r.default)(this,e),(t=n.apply(this,arguments)).isRectSelectionActivated=!1,t.SCROLL_SPEED=3,t.HEIGHT_OF_SCROLL_ZONE=40,t.BOTTOM_SCROLL_ZONE=1,t.TOP_SCROLL_ZONE=2,t.MAIN_MOUSE_BUTTON=0,t.mousedown=!1,t.isScrolling=!1,t.inScrollZone=null,t.startX=0,t.startY=0,t.mouseX=0,t.mouseY=0,t.stackOfSelected=[],t.listenerIds=[],t}return(0,o.default)(e,[{key:"prepare",value:function(){this.enableModuleBindings()}},{key:"startSelection",value:function(t,i){var n=document.elementFromPoint(t-window.pageXOffset,i-window.pageYOffset);n.closest(".".concat(this.Editor.Toolbar.CSS.toolbar))||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);var e=[".".concat(l.default.CSS.content),".".concat(this.Editor.Toolbar.CSS.toolbar),".".concat(this.Editor.InlineToolbar.CSS.inlineToolbar)],r=n.closest("."+this.Editor.UI.CSS.editorWrapper),o=e.some((function(t){return!!n.closest(t)}));r&&!o&&(this.mousedown=!0,this.startX=t,this.startY=i)}},{key:"endSelection",value:function(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}},{key:"isRectActivated",value:function(){return this.isRectSelectionActivated}},{key:"clearSelection",value:function(){this.isRectSelectionActivated=!1}},{key:"enableModuleBindings",value:function(){var t=this,i=this.genHTML().container;this.listeners.on(i,"mousedown",(function(i){t.processMouseDown(i)}),!1),this.listeners.on(document.body,"mousemove",(function(i){t.processMouseMove(i)}),!1),this.listeners.on(document.body,"mouseleave",(function(){t.processMouseLeave()})),this.listeners.on(window,"scroll",(function(i){t.processScroll(i)}),!1),this.listeners.on(document.body,"mouseup",(function(){t.processMouseUp()}),!1)}},{key:"processMouseDown",value:function(t){t.button===this.MAIN_MOUSE_BUTTON&&(null!==t.target.closest(h.default.allInputsSelector)||this.startSelection(t.pageX,t.pageY))}},{key:"processMouseMove",value:function(t){this.changingRectangle(t),this.scrollByZones(t.clientY)}},{key:"processMouseLeave",value:function(){this.clearSelection(),this.endSelection()}},{key:"processScroll",value:function(t){this.changingRectangle(t)}},{key:"processMouseUp",value:function(){this.endSelection()}},{key:"scrollByZones",value:function(t){this.inScrollZone=null,t<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-t<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),this.inScrollZone?this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0):this.isScrolling=!1}},{key:"genHTML",value:function(){var t=this.Editor.UI,i=t.nodes.holder.querySelector("."+t.CSS.editorWrapper),n=h.default.make("div",e.CSS.overlay,{}),r=h.default.make("div",e.CSS.overlayContainer,{}),o=h.default.make("div",e.CSS.rect,{});return r.appendChild(o),n.appendChild(r),i.appendChild(n),this.overlayRectangle=o,{container:i,overlay:n}}},{key:"scrollVertical",value:function(t){var i=this;if(this.inScrollZone&&this.mousedown){var n=window.pageYOffset;window.scrollBy(0,t),this.mouseY+=window.pageYOffset-n,setTimeout((function(){i.scrollVertical(t)}),0)}}},{key:"changingRectangle",value:function(t){if(this.mousedown){void 0!==t.pageY&&(this.mouseX=t.pageX,this.mouseY=t.pageY);var i=this.genInfoForMouseSelection(),n=i.rightPos,e=i.leftPos,r=i.index;this.rectCrossesBlocks=!(this.startX>n&&this.mouseX>n||this.startX<e&&this.mouseX<e),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),void 0!==r&&(this.trySelectNextBlock(r),this.inverseSelection(),f.default.get().removeAllRanges(),t.preventDefault())}}},{key:"shrinkRectangleToPoint",value:function(){this.overlayRectangle.style.left="".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.top="".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.bottom="calc(100% - ".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.right="calc(100% - ".concat(this.startX-window.pageXOffset,"px")}},{key:"inverseSelection",value:function(){var t=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!t){var i,n=v(this.stackOfSelected);try{for(n.s();!(i=n.n()).done;)this.Editor.BlockSelection.selectBlockByIndex(i.value)}catch(t){n.e(t)}finally{n.f()}}if(!this.rectCrossesBlocks&&t){var e,r=v(this.stackOfSelected);try{for(r.s();!(e=r.n()).done;)this.Editor.BlockSelection.unSelectBlockByIndex(e.value)}catch(t){r.e(t)}finally{r.f()}}}},{key:"updateRectangleSize",value:function(){this.mouseY>=this.startY?(this.overlayRectangle.style.top="".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.bottom="calc(100% - ".concat(this.mouseY-window.pageYOffset,"px")):(this.overlayRectangle.style.bottom="calc(100% - ".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.top="".concat(this.mouseY-window.pageYOffset,"px")),this.mouseX>=this.startX?(this.overlayRectangle.style.left="".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.right="calc(100% - ".concat(this.mouseX-window.pageXOffset,"px")):(this.overlayRectangle.style.right="calc(100% - ".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.left="".concat(this.mouseX-window.pageXOffset,"px"))}},{key:"genInfoForMouseSelection",value:function(){var t,i=document.body.offsetWidth/2,n=this.mouseY-window.pageYOffset,e=document.elementFromPoint(i,n),r=this.Editor.BlockManager.getBlockByChildNode(e);void 0!==r&&(t=this.Editor.BlockManager.blocks.findIndex((function(t){return t.holder===r.holder})));var o=this.Editor.BlockManager.lastBlock.holder.querySelector("."+l.default.CSS.content),s=Number.parseInt(window.getComputedStyle(o).width,10)/2;return{index:t,leftPos:i-s,rightPos:i+s}}},{key:"addBlockInSelection",value:function(t){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(t),this.stackOfSelected.push(t)}},{key:"trySelectNextBlock",value:function(t){var i=this,n=this.stackOfSelected.length;if(this.stackOfSelected[this.stackOfSelected.length-1]!==t){var e=0;n>1&&(e=this.stackOfSelected[n-1]-this.stackOfSelected[n-2]>0?1:-1);var r=!(t>this.stackOfSelected[n-1]&&1===e||t<this.stackOfSelected[n-1]&&-1===e||0===e);if(r||!(t>this.stackOfSelected[n-1]||void 0===this.stackOfSelected[n-1])){if(!r&&t<this.stackOfSelected[n-1])for(var o=this.stackOfSelected[n-1]-1;o>=t;o--)this.addBlockInSelection(o);else if(r){var s,a=n-1;for(s=t>this.stackOfSelected[n-1]?function(){return t>i.stackOfSelected[a]}:function(){return t<i.stackOfSelected[a]};s();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[a]),this.stackOfSelected.pop(),a--}}else for(var u=this.stackOfSelected[n-1]+1||t;u<=t;u++)this.addBlockInSelection(u)}}}],[{key:"CSS",get:function(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}}]),e}(c.default);e.default=b,b.displayName="RectangleSelection",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(23),n(24),n(2),n(3),n(5),n(6),n(4),n(9),n(7)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h,f,l){var d=n(8),v=n(1);function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=v(r),o=v(o),s=v(s),a=v(a),u=v(u),c=v(c),h=v(h),f=v(f),l=d(l);var m=function(t){(0,u.default)(d,t);var i,n,e,f=(i=d,function(){var t,n=(0,h.default)(i);if(p()){var e=(0,h.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function d(){return(0,s.default)(this,d),f.apply(this,arguments)}return(0,a.default)(d,[{key:"render",value:(e=(0,o.default)(r.default.mark((function t(i){var n,e,o=this;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.map((function(t){return{function:function(){return o.insertBlock(t)}}})),this.Editor.ModificationsObserver.disable(),t.next=4,l.sequence(n);case 4:return e=t.sent,this.Editor.ModificationsObserver.enable(),this.Editor.UI.checkEmptiness(),t.abrupt("return",e);case 8:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"insertBlock",value:(n=(0,o.default)(r.default.mark((function t(i){var n,e,o,s,a,u,c,h,f;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=(n=this.Editor).BlockManager,a=i.data,u=i.tunes,c=i.id,!(e=n.Tools).available.has(s=i.type)){t.next=13;break}t.prev=3,o.insert({id:c,tool:s,data:a,tunes:u}),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(3),l.log("Block «".concat(s,"» skipped because of plugins error"),"warn",a),Error(t.t0);case 11:t.next=18;break;case 13:h={savedData:{id:c,type:s,data:a},title:s},e.unavailable.has(s)&&(f=e.unavailable.get(s).toolbox,h.title=(null==f?void 0:f.title)||h.title),o.insert({id:c,tool:e.stubTool,data:h}).stretched=!0,l.log("Tool «".concat(s,"» is not found. Check 'tools' property at your initial Editor.js config."),"warn");case 18:case"end":return t.stop()}}),t,this,[[3,7]])}))),function(t){return n.apply(this,arguments)})}]),d}(f.default);e.default=m,m.displayName="Renderer",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(23),n(24),n(2),n(3),n(5),n(6),n(4),n(9),n(7),n(65)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h,f,l,d){var v=n(8),p=n(1);function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=p(r),o=p(o),s=p(s),a=p(a),u=p(u),c=p(c),h=p(h),f=p(f),l=v(l);var b=function(t){(0,u.default)(v,t);var i,n,e,f=(i=v,function(){var t,n=(0,h.default)(i);if(m()){var e=(0,h.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function v(){return(0,s.default)(this,v),f.apply(this,arguments)}return(0,a.default)(v,[{key:"save",value:(e=(0,o.default)(r.default.mark((function t(){var i,n,e,o,s,a,u=this;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(i=this.Editor).Tools,e=i.ModificationsObserver,o=i.BlockManager.blocks,s=[],t.prev=2,e.disable(),o.forEach((function(t){s.push(u.getSavedData(t))})),t.next=7,Promise.all(s);case 7:return a=t.sent,t.next=10,(0,d.sanitizeBlocks)(a,(function(t){return n.blockTools.get(t).sanitizeConfig}));case 10:return t.abrupt("return",this.makeOutput(t.sent));case 14:t.prev=14,t.t0=t.catch(2),l.logLabeled("Saving failed due to the Error %o","error",t.t0);case 17:return t.prev=17,e.enable(),t.finish(17);case 20:case"end":return t.stop()}}),t,this,[[2,14,17,20]])}))),function(){return e.apply(this,arguments)})},{key:"getSavedData",value:(n=(0,o.default)(r.default.mark((function t(i){var n,e;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.save();case 2:if(t.t0=n=t.sent,!t.t0){t.next=8;break}return t.next=7,i.validate(n.data);case 7:t.t0=t.sent;case 8:return e=t.t0,t.abrupt("return",Object.assign(Object.assign({},n),{isValid:e}));case 10:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})},{key:"makeOutput",value:function(t){var i=this,n=0,e=[];return l.log("[Editor.js saving]:","groupCollapsed"),t.forEach((function(t){var r=t.id,o=t.tool,s=t.data,a=t.tunes,u=t.isValid;if(n+=t.time,l.log("".concat(o.charAt(0).toUpperCase()+o.slice(1)),"group"),!u)return l.log("Block «".concat(o,"» skipped because saved data is invalid")),void l.log(void 0,"groupEnd");if(l.log(s),l.log(void 0,"groupEnd"),o!==i.Editor.Tools.stubTool){var c=Object.assign({id:r,type:o,data:s},!l.isEmpty(a)&&{tunes:a});e.push(c)}else e.push(s)})),l.log("Total","log",n),l.log(void 0,"groupEnd"),{time:+new Date,blocks:e,version:"2.22.2"}}}]),v}(f.default);e.default=b,b.displayName="Saver",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(30),n(2),n(3),n(5),n(6),n(4),n(9),n(15),n(60),n(7),n(25)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h,f,l,d,v){var p=n(8),m=n(1);function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=m(r),o=m(o),s=m(s),a=m(a),u=m(u),c=m(c),h=m(h),f=m(f),l=m(l),d=p(d),v=m(v);var g=function(t){(0,a.default)(e,t);var i,n=(i=e,function(){var t,n=(0,c.default)(i);if(b()){var e=(0,c.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,u.default)(this,t)});function e(){var t;return(0,o.default)(this,e),(t=n.apply(this,arguments)).buttons=[],t.flipper=null,t.selection=new v.default,t}return(0,s.default)(e,[{key:"make",value:function(){this.nodes.wrapper=f.default.make("div",this.CSS.wrapper),this.nodes.toolSettings=f.default.make("div",this.CSS.toolSettings),this.nodes.defaultSettings=f.default.make("div",this.CSS.defaultSettings),f.default.append(this.nodes.wrapper,[this.nodes.toolSettings,this.nodes.defaultSettings]),this.enableFlipper()}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}},{key:"open",value:function(){this.nodes.wrapper.classList.add(this.CSS.wrapperOpened),this.selection.save(),this.Editor.BlockManager.currentBlock.selected=!0,this.Editor.BlockSelection.clearCache(),this.addToolSettings(),this.addTunes(),this.eventsDispatcher.emit(this.events.opened),this.flipper.activate(this.blockTunesButtons)}},{key:"close",value:function(){this.nodes.wrapper.classList.remove(this.CSS.wrapperOpened),v.default.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&(this.Editor.BlockManager.currentBlock.selected=!1),this.nodes.toolSettings.innerHTML="",this.nodes.defaultSettings.innerHTML="",this.eventsDispatcher.emit(this.events.closed),this.buttons=[],this.flipper.deactivate()}},{key:"addToolSettings",value:function(){var t=this.Editor.BlockManager.currentBlock.renderSettings();t&&f.default.append(this.nodes.toolSettings,t)}},{key:"addTunes",value:function(){var t=this.Editor.BlockManager.currentBlock.renderTunes(),i=(0,r.default)(t,2),n=i[1];f.default.append(this.nodes.toolSettings,i[0]),f.default.append(this.nodes.defaultSettings,n)}},{key:"enableFlipper",value:function(){var t=this;this.flipper=new l.default({focusedItemClass:this.CSS.focusedButton,activateCallback:function(i){i&&f.default.canSetCaret(i)?t.close():d.delay((function(){t.Editor.Caret.setToBlock(t.Editor.BlockManager.currentBlock)}),50)()}})}},{key:"events",get:function(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}},{key:"CSS",get:function(){return{wrapper:"ce-settings",wrapperOpened:"ce-settings--opened",toolSettings:"ce-settings__plugin-zone",defaultSettings:"ce-settings__default-zone",button:"ce-settings__button",focusedButton:"ce-settings__button--focused",focusedButtonAnimated:"ce-settings__button--focused-animated"}}},{key:"opened",get:function(){return this.nodes.wrapper.classList.contains(this.CSS.wrapperOpened)}},{key:"blockTunesButtons",get:function(){var t=this;if(0!==this.buttons.length)return this.buttons;var i=this.nodes.toolSettings.querySelectorAll(".".concat(this.Editor.StylesAPI.classes.settingsButton,", ").concat(f.default.allInputsSelector)),n=this.nodes.defaultSettings.querySelectorAll(".".concat(this.CSS.button));return i.forEach((function(i){t.buttons.push(i)})),n.forEach((function(i){t.buttons.push(i)})),this.buttons}}]),e}(h.default);e.default=g,g.displayName="BlockSettings",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(30),n(23),n(24),n(42),n(2),n(3),n(5),n(6),n(4),n(9),n(15),n(7),n(60),n(59),n(84),n(65)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h,f,l,d,v,p,m,b,g,y){var w=n(8),x=n(1);function k(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=x(r),o=x(o),s=x(s),a=x(a),u=x(u),c=x(c),h=x(h),f=x(f),l=x(l),d=x(d),v=x(v),p=w(p),m=x(m),b=x(b);var _=function(t){(0,h.default)(d,t);var i,n,e=(i=d,function(){var t,n=(0,l.default)(i);if(k()){var e=(0,l.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,f.default)(this,t)});function d(){var t;return(0,u.default)(this,d),(t=e.apply(this,arguments)).opened=!1,t.tools={},t.flipper=null,t.togglingCallback=null,t}return(0,c.default)(d,[{key:"make",value:function(){this.nodes.wrapper=v.default.make("div",[d.CSS.conversionToolbarWrapper].concat((0,a.default)(this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]))),this.nodes.tools=v.default.make("div",d.CSS.conversionToolbarTools);var t=v.default.make("div",d.CSS.conversionToolbarLabel,{textContent:b.default.ui(g.I18nInternalNS.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),v.default.append(this.nodes.wrapper,t),v.default.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}},{key:"toggle",value:function(t){this.opened?this.close():this.open(),p.isFunction(t)&&(this.togglingCallback=t)}},{key:"open",value:function(){var t=this;this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(d.CSS.conversionToolbarShowed),setTimeout((function(){t.flipper.activate(Object.values(t.tools).filter((function(t){return!t.classList.contains(d.CSS.conversionToolHidden)}))),t.flipper.focusFirst(),p.isFunction(t.togglingCallback)&&t.togglingCallback(!0)}),50)}},{key:"close",value:function(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(d.CSS.conversionToolbarShowed),p.isFunction(this.togglingCallback)&&this.togglingCallback(!1)}},{key:"hasTools",value:function(){var t=Object.keys(this.tools);return!(1===t.length&&t.shift()===this.config.defaultBlock)}},{key:"replaceWithBlock",value:(n=(0,s.default)(o.default.mark((function t(i){var n,e,r,s,a,u,c,h,f,l=this;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.Editor.BlockManager.currentBlock.tool,e=this.Editor.BlockManager.currentBlock.name,t.next=4,this.Editor.BlockManager.currentBlock.save();case 4:if(r=t.sent.data,e===i&&(i=this.config.defaultBlock),s=this.Editor.Tools.blockTools.get(i),a="",!p.isFunction(u=n.conversionConfig.export)){t.next=14;break}a=u(r),t.next=20;break;case 14:if(!p.isString(u)){t.next=18;break}a=r[u],t.next=20;break;case 18:return p.log("Conversion «export» property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),t.abrupt("return");case 20:if(c=(0,y.clean)(a,s.sanitizeConfig),h={},!p.isFunction(f=s.conversionConfig.import)){t.next=27;break}h=f(c),t.next=33;break;case 27:if(!p.isString(f)){t.next=31;break}h[f]=c,t.next=33;break;case 31:return p.log("Conversion «import» property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),t.abrupt("return");case 33:this.Editor.BlockManager.replace({tool:i,data:h}),this.Editor.BlockSelection.clearSelection(),this.close(),this.Editor.InlineToolbar.close(),p.delay((function(){l.Editor.Caret.setToBlock(l.Editor.BlockManager.currentBlock)}),10)();case 38:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"addTools",value:function(){var t=this;Array.from(this.Editor.Tools.blockTools.entries()).forEach((function(i){var n=(0,r.default)(i,2),e=n[0],o=n[1],s=o.toolbox,a=o.conversionConfig;!p.isEmpty(s)&&s.icon&&a&&a.import&&t.addTool(e,s.icon,s.title)}))}},{key:"addTool",value:function(t,i,n){var e=this,r=v.default.make("div",[d.CSS.conversionTool]),a=v.default.make("div",[d.CSS.conversionToolIcon]);r.dataset.tool=t,a.innerHTML=i,v.default.append(r,a),v.default.append(r,v.default.text(b.default.t(g.I18nInternalNS.toolNames,n||p.capitalize(t)))),v.default.append(this.nodes.tools,r),this.tools[t]=r,this.listeners.on(r,"click",(0,s.default)(o.default.mark((function i(){return o.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.replaceWithBlock(t);case 2:case"end":return i.stop()}}),i)}))))}},{key:"filterTools",value:function(){var t=this.Editor.BlockManager.currentBlock;Object.entries(this.tools).forEach((function(i){var n=(0,r.default)(i,2),e=n[0],o=n[1];o.hidden=!1,o.classList.toggle(d.CSS.conversionToolHidden,e===t.name)}))}},{key:"enableFlipper",value:function(){this.flipper=new m.default({focusedItemClass:d.CSS.conversionToolFocused})}}],[{key:"CSS",get:function(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}}]),d}(d.default);e.default=_,_.displayName="ConversionToolbar",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(42),n(30),n(2),n(3),n(5),n(6),n(4),n(9),n(15),n(25),n(7),n(60),n(59),n(84),n(112),n(82),n(67)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h,f,l,d,v,p,m,b,g,y,w){var x=n(8),k=n(1);function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=k(r),o=k(o),s=k(s),a=k(a),u=k(u),c=k(c),h=k(h),f=k(f),l=k(l),d=k(d),v=x(v),p=k(p),m=k(m),g=k(g),y=k(y);var A=function(t){(0,u.default)(e,t);var i,n=(i=e,function(){var t,n=(0,h.default)(i);if(_()){var e=(0,h.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function e(t){var i,r=t.config,o=t.eventsDispatcher;return(0,s.default)(this,e),(i=n.call(this,{config:r,eventsDispatcher:o})).CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},i.opened=!1,i.toolbarVerticalMargin=5,i.buttonsList=null,i.width=0,i.flipper=null,i.tooltip=new y.default,i}return(0,a.default)(e,[{key:"toggleReadOnly",value:function(t){t?(this.destroy(),this.Editor.ConversionToolbar.destroy()):this.make()}},{key:"tryToShow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.allowedToShow()?(this.move(),this.open(i),this.Editor.Toolbar.close()):t&&this.close()}},{key:"move",value:function(){var t=d.default.rect,i=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),n={x:t.x-i.left,y:t.y+t.height-i.top+this.toolbarVerticalMargin};t.width&&(n.x+=Math.floor(t.width/2));var e=n.x+this.width/2;this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarLeftOriented,n.x-this.width/2<this.Editor.UI.contentRect.left),this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarRightOriented,e>this.Editor.UI.contentRect.right),this.nodes.wrapper.style.left=Math.floor(n.x)+"px",this.nodes.wrapper.style.top=Math.floor(n.y)+"px"}},{key:"close",value:function(){var t=this;this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach((function(i){var n=(0,o.default)(i,2),e=n[1],r=t.getToolShortcut(n[0]);r&&g.default.remove(t.Editor.UI.nodes.redactor,r),v.isFunction(e.clear)&&e.clear()})),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}},{key:"open",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.opened){this.addToolsFiltered(),this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(".".concat(this.CSS.inlineToolButton)),this.opened=!0,t&&this.Editor.ConversionToolbar.hasTools()?this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0;var i=Array.from(this.buttonsList);i.unshift(this.nodes.conversionToggler),i=i.filter((function(t){return!t.hidden})),this.flipper.activate(i)}}},{key:"containsNode",value:function(t){return this.nodes.wrapper.contains(t)}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes(),this.tooltip.destroy()}},{key:"make",value:function(){var t=this;this.nodes.wrapper=l.default.make("div",[this.CSS.inlineToolbar].concat((0,r.default)(this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]))),this.nodes.togglerAndButtonsWrapper=l.default.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=l.default.make("div",this.CSS.buttonsWrapper),this.nodes.actions=l.default.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",(function(i){i.target.closest(".".concat(t.CSS.actionsWrapper))||i.preventDefault()})),l.default.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),l.default.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),l.default.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),this.recalculateWidth(),this.enableFlipper()}},{key:"allowedToShow",value:function(){var t=d.default.get();if(!t||!t.anchorNode)return!1;if(t.isCollapsed||d.default.text.length<1)return!1;var i=l.default.isElement(t.anchorNode)?t.anchorNode:t.anchorNode.parentElement;if(t&&["IMG","INPUT"].includes(i.tagName))return!1;if(null===i.closest('[contenteditable="true"]'))return!1;var n=this.Editor.BlockManager.getBlock(t.anchorNode);return!!n&&0!==n.tool.inlineTools.size}},{key:"recalculateWidth",value:function(){this.width=this.nodes.wrapper.offsetWidth}},{key:"addConversionToggler",value:function(){var t=this;this.nodes.conversionToggler=l.default.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=l.default.make("div",this.CSS.conversionTogglerContent);var i=l.default.svg("toggler-down",13,13);this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(i),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",(function(){t.Editor.ConversionToolbar.toggle((function(i){!i&&t.opened?t.flipper.activate():t.opened&&t.flipper.deactivate()}))})),this.tooltip.onHover(this.nodes.conversionToggler,m.default.ui(b.I18nInternalNS.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}},{key:"setConversionTogglerContent",value:function(){var t=this.Editor.BlockManager.currentBlock,i=t.name,n=t.tool.conversionConfig,e=n&&n.export;this.nodes.conversionToggler.hidden=!e,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!e);var r=t.tool.toolbox||{};this.nodes.conversionTogglerContent.innerHTML=r.icon||r.title||v.capitalize(i)}},{key:"prepareConversionToolbar",value:function(){var t=this.Editor.ConversionToolbar.make();l.default.append(this.nodes.wrapper,t)}},{key:"addToolsFiltered",value:function(){var t=this,i=d.default.get(),n=this.Editor.BlockManager.getBlock(i.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(n.tool.inlineTools.values()).forEach((function(i){t.addTool(i)})),this.recalculateWidth()}},{key:"addTool",value:function(t){var i=this,n=t.create(),e=n.render();if(e){if(e.dataset.tool=t.name,this.nodes.buttons.appendChild(e),this.toolsInstances.set(t.name,n),v.isFunction(n.renderActions)){var r=n.renderActions();this.nodes.actions.appendChild(r)}this.listeners.on(e,"click",(function(t){i.toolClicked(n),t.preventDefault()}));var o=this.getToolShortcut(t.name);if(o)try{this.enableShortcuts(n,o)}catch(t){}var s=l.default.make("div"),a=m.default.t(b.I18nInternalNS.toolNames,t.title||v.capitalize(t.name));s.appendChild(l.default.text(a)),o&&s.appendChild(l.default.make("div",this.CSS.inlineToolbarShortcut,{textContent:v.beautifyShortcut(o)})),this.tooltip.onHover(e,s,{placement:"top",hidingDelay:100}),n.checkState(d.default.get())}else v.log("Render method must return an instance of Node","warn",t.name)}},{key:"getToolShortcut",value:function(t){var i=this.Editor.Tools,n=i.inlineTools.get(t);return Array.from(i.internal.inlineTools.keys()).includes(t)?this.inlineTools[t][w.CommonInternalSettings.Shortcut]:n.shortcut}},{key:"enableShortcuts",value:function(t,i){var n=this;g.default.add({name:i,handler:function(i){var e=n.Editor.BlockManager.currentBlock;e&&e.tool.enabledInlineTools&&(i.preventDefault(),n.toolClicked(t))},on:this.Editor.UI.nodes.redactor})}},{key:"toolClicked",value:function(t){t.surround(d.default.range),this.checkToolsState()}},{key:"checkToolsState",value:function(){this.toolsInstances.forEach((function(t){t.checkState(d.default.get())}))}},{key:"enableFlipper",value:function(){this.flipper=new p.default({focusedItemClass:this.CSS.focusedButton,allowArrows:!1})}},{key:"inlineTools",get:function(){var t={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach((function(i){var n=(0,o.default)(i,2);t[n[0]]=n[1].create()})),t}}]),e}(f.default);e.default=A,A.displayName="InlineToolbar",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(5),n(6),n(4),n(9),n(15),n(7),n(60),n(66),n(59),n(84),n(112),n(82)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h,f,l,d,v,p,m,b){var g=n(8),y=n(1);function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=y(r),o=y(o),s=y(s),a=y(a),u=y(u),c=y(c),h=y(h),f=g(f),l=y(l),v=y(v),m=y(m),b=y(b);var x=function(t){(0,s.default)(e,t);var i,n=(i=e,function(){var t,n=(0,u.default)(i);if(w()){var e=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,a.default)(this,t)});function e(t){var i,o=t.config,s=t.eventsDispatcher;return(0,r.default)(this,e),(i=n.call(this,{config:o,eventsDispatcher:s})).nodes={toolbox:null,buttons:[]},i.opened=!1,i.displayedToolsCount=0,i.flipper=null,i.tooltip=new b.default,i}return(0,o.default)(e,[{key:"make",value:function(){this.nodes.toolbox=h.default.make("div",this.CSS.toolbox),this.addTools(),this.enableFlipper()}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes(),this.removeAllShortcuts(),this.tooltip.destroy()}},{key:"toolButtonActivate",value:function(t,i){this.insertNewBlock(i)}},{key:"open",value:function(){this.isEmpty||(this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolbarHolderModifier),this.nodes.toolbox.classList.add(this.CSS.toolboxOpened),this.opened=!0,this.flipper.activate())}},{key:"close",value:function(){this.nodes.toolbox.classList.remove(this.CSS.toolboxOpened),this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolbarHolderModifier),this.opened=!1,this.flipper.deactivate()}},{key:"toggle",value:function(){this.opened?this.close():this.open()}},{key:"addTools",value:function(){var t=this;Array.from(this.Editor.Tools.blockTools.values()).forEach((function(i){return t.addTool(i)}))}},{key:"addTool",value:function(t){var i=this,n=t.toolbox;if(n)if(!n||n.icon){var e=h.default.make("li",[this.CSS.toolboxButton]);e.dataset.tool=t.name,e.innerHTML=n.icon,h.default.append(this.nodes.toolbox,e),this.nodes.toolbox.appendChild(e),this.nodes.buttons.push(e),this.listeners.on(e,"click",(function(n){i.toolButtonActivate(n,t.name)}));var r=this.drawTooltip(t);this.tooltip.onHover(e,r,{placement:"bottom",hidingDelay:200});var o=t.shortcut;o&&this.enableShortcut(t.name,o),this.displayedToolsCount++}else f.log("Toolbar icon is missed. Tool %o skipped","warn",t.name)}},{key:"drawTooltip",value:function(t){var i=v.default.t(p.I18nInternalNS.toolNames,(t.toolbox||{}).title||t.name),n=t.shortcut,e=h.default.make("div",this.CSS.buttonTooltip),r=document.createTextNode(f.capitalize(i));return e.appendChild(r),n&&(n=f.beautifyShortcut(n),e.appendChild(h.default.make("div",this.CSS.buttonShortcut,{textContent:n}))),e}},{key:"enableShortcut",value:function(t,i){var n=this;m.default.add({name:i,handler:function(i){i.preventDefault(),n.insertNewBlock(t)},on:this.Editor.UI.nodes.redactor})}},{key:"removeAllShortcuts",value:function(){var t=this;Array.from(this.Editor.Tools.blockTools.values()).forEach((function(i){var n=i.shortcut;n&&m.default.remove(t.Editor.UI.nodes.redactor,n)}))}},{key:"enableFlipper",value:function(){var t=Array.from(this.nodes.toolbox.childNodes);this.flipper=new l.default({items:t,focusedItemClass:this.CSS.toolboxButtonActive})}},{key:"insertNewBlock",value:function(t){var i=this.Editor,n=i.BlockManager,e=i.Caret,r=n.insert({tool:t,replace:n.currentBlock.isEmpty});r.call(d.BlockToolAPI.APPEND_CALLBACK),this.Editor.Caret.setToBlock(r),0===r.inputs.length&&(r===n.lastBlock?(n.insertAtEnd(),e.setToBlock(n.lastBlock)):e.setToBlock(n.nextBlock)),this.Editor.Toolbar.close()}},{key:"CSS",get:function(){return{toolbox:"ce-toolbox",toolboxButton:"ce-toolbox__button",toolboxButtonActive:"ce-toolbox__button--active",toolboxOpened:"ce-toolbox--opened",openedToolbarHolderModifier:"codex-editor--toolbox-opened",buttonTooltip:"ce-toolbox-button-tooltip",buttonShortcut:"ce-toolbox-button-tooltip__shortcut"}}},{key:"isEmpty",get:function(){return 0===this.displayedToolsCount}}]),e}(c.default);e.default=x,x.displayName="Toolbox",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(42),n(30),n(23),n(24),n(2),n(3),n(5),n(6),n(4),n(80),n(384),n(9),n(7),n(385),n(386),n(387),n(388),n(389),n(393),n(394),n(395),n(184)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h,f,l,d,v,p,m,b,g,y,w,x,k,_,A,S){var E=n(8),M=n(1);function C(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=M(r),o=M(o),s=M(s),a=M(a),u=M(u),c=M(c),h=M(h),f=M(f),l=M(l),d=M(d),v=M(v),p=M(p),m=E(m),b=M(b),g=M(g),y=M(y),w=M(w),x=M(x),k=M(k),_=M(_),A=M(A),S=M(S);var O=function(t){(0,h.default)(d,t);var i,n,e=(i=d,function(){var t,n=(0,l.default)(i);if(C()){var e=(0,l.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,f.default)(this,t)});function d(){var t;return(0,u.default)(this,d),(t=e.apply(this,arguments)).stubTool="stub",t.toolsAvailable=new S.default,t.toolsUnavailable=new S.default,t}return(0,c.default)(d,[{key:"prepare",value:(n=(0,a.default)(s.default.mark((function t(){var i,n,e=this;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.validateTools(),this.config.tools=m.deepMerge({},this.internalTools,this.config.tools),Object.prototype.hasOwnProperty.call(this.config,"tools")&&0!==Object.keys(this.config.tools).length){t.next=4;break}throw Error("Can't start without tools");case 4:if(i=this.prepareConfig(),this.factory=new x.default(i,this.config,this.Editor.API),0!==(n=this.getListOfPrepareFunctions(i)).length){t.next=9;break}return t.abrupt("return",Promise.resolve());case 9:return t.next=11,m.sequence(n,(function(t){e.toolPrepareMethodSuccess(t)}),(function(t){e.toolPrepareMethodFallback(t)}));case 11:this.prepareBlockTools();case 12:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"getAllInlineToolsSanitizeConfig",value:function(){var t={};return Array.from(this.inlineTools.values()).forEach((function(i){Object.assign(t,i.sanitizeConfig)})),t}},{key:"destroy",value:function(){Object.values(this.available).forEach(function(){var t=(0,a.default)(s.default.mark((function t(i){return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!m.isFunction(i.reset)){t.next=3;break}return t.next=3,i.reset();case 3:case"end":return t.stop()}}),t)})));return function(i){return t.apply(this,arguments)}}())}},{key:"toolPrepareMethodSuccess",value:function(t){var i=this.factory.get(t.toolName);if(i.isInline()){var n=["render","surround","checkState"].filter((function(t){return!i.create()[t]}));if(n.length)return m.log("Incorrect Inline Tool: ".concat(i.name,". Some of required methods is not implemented %o"),"warn",n),void this.toolsUnavailable.set(i.name,i)}this.toolsAvailable.set(i.name,i)}},{key:"toolPrepareMethodFallback",value:function(t){this.toolsUnavailable.set(t.toolName,this.factory.get(t.toolName))}},{key:"getListOfPrepareFunctions",value:function(t){var i=[];return Object.entries(t).forEach((function(t){var n=(0,o.default)(t,2),e=n[0],r=n[1];i.push({function:m.isFunction(r.class.prepare)?r.class.prepare:function(){},data:{toolName:e}})})),i}},{key:"prepareBlockTools",value:function(){var t=this;Array.from(this.blockTools.values()).forEach((function(i){t.assignInlineToolsToBlockTool(i),t.assignBlockTunesToBlockTool(i)}))}},{key:"assignInlineToolsToBlockTool",value:function(t){var i=this;!1!==this.config.inlineToolbar&&(!0!==t.enabledInlineTools?Array.isArray(t.enabledInlineTools)&&(t.inlineTools=new S.default(t.enabledInlineTools.map((function(t){return[t,i.inlineTools.get(t)]})))):t.inlineTools=new S.default(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map((function(t){return[t,i.inlineTools.get(t)]})):Array.from(this.inlineTools.entries())))}},{key:"assignBlockTunesToBlockTool",value:function(t){var i=this;if(!1!==t.enabledBlockTunes)if(Array.isArray(t.enabledBlockTunes)){var n=new S.default(t.enabledBlockTunes.map((function(t){return[t,i.blockTunes.get(t)]})));t.tunes=new S.default([].concat((0,r.default)(n),(0,r.default)(this.blockTunes.internalTools)))}else if(Array.isArray(this.config.tunes)){var e=new S.default(this.config.tunes.map((function(t){return[t,i.blockTunes.get(t)]})));t.tunes=new S.default([].concat((0,r.default)(e),(0,r.default)(this.blockTunes.internalTools)))}else t.tunes=this.blockTunes.internalTools}},{key:"validateTools",value:function(){for(var t in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,t)){if(t in this.internalTools)return;var i=this.config.tools[t];if(!m.isFunction(i)&&!m.isFunction(i.class))throw Error("Tool «".concat(t,"» must be a constructor function or an object with function in the «class» property"))}}},{key:"prepareConfig",value:function(){var t={};for(var i in this.config.tools)t[i]=m.isObject(this.config.tools[i])?this.config.tools[i]:{class:this.config.tools[i]};return t}},{key:"available",get:function(){return this.toolsAvailable}},{key:"unavailable",get:function(){return this.toolsUnavailable}},{key:"inlineTools",get:function(){return this.available.inlineTools}},{key:"blockTools",get:function(){return this.available.blockTools}},{key:"blockTunes",get:function(){return this.available.blockTunes}},{key:"defaultTool",get:function(){return this.blockTools.get(this.config.defaultBlock)}},{key:"internal",get:function(){return this.available.internalTools}},{key:"internalTools",get:function(){return{bold:{class:b.default,isInternal:!0},italic:{class:g.default,isInternal:!0},link:{class:y.default,isInternal:!0},paragraph:{class:v.default,inlineToolbar:!0,isInternal:!0},stub:{class:w.default,isInternal:!0},moveUp:{class:A.default,isInternal:!0},delete:{class:_.default,isInternal:!0},moveDown:{class:k.default,isInternal:!0}}}}]),d}(p.default);e.default=O,O.displayName="Tools",function(t,i,n,e){var r,o=arguments.length,s=o<3?i:null===e?e=Object.getOwnPropertyDescriptor(i,n):e;if("object"===("undefined"==typeof Reflect?"undefined":(0,d.default)(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,i,n,e);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(i,n,s):r(i,n))||s);o>3&&s&&Object.defineProperty(i,n,s)}([m.cacheable],O.prototype,"getAllInlineToolsSanitizeConfig",null),t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(30),n(2),n(3),n(5),n(6),n(4),n(150)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h){var f=n(1);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=f(r),o=f(o),s=f(s),a=f(a),u=f(u),c=f(c);var d=function(t){(0,a.default)(e,t);var i,n=(i=e,function(){var t,n=(0,c.default)(i);if(l()){var e=(0,c.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,u.default)(this,t)});function e(){return(0,o.default)(this,e),n.apply(this,arguments)}return(0,s.default)(e,[{key:"blockTools",get:function(){return new e(Array.from(this.entries()).filter((function(t){return(0,r.default)(t,2)[1].isBlock()})))}},{key:"inlineTools",get:function(){return new e(Array.from(this.entries()).filter((function(t){return(0,r.default)(t,2)[1].isInline()})))}},{key:"blockTunes",get:function(){return new e(Array.from(this.entries()).filter((function(t){return(0,r.default)(t,2)[1].isTune()})))}},{key:"internalTools",get:function(){return new e(Array.from(this.entries()).filter((function(t){return(0,r.default)(t,2)[1].isInternal})))}},{key:"externalTools",get:function(){return new e(Array.from(this.entries()).filter((function(t){return!(0,r.default)(t,2)[1].isInternal})))}}]),e}((0,(h=f(h)).default)(Map));e.default=d,d.displayName="ToolsCollection",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(30),n(42),n(23),n(24),n(2),n(3),n(5),n(6),n(4),n(396),n(9),n(15),n(7),n(25),n(66),n(60)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h,f,l,d,v,p,m,b,g,y){var w=n(8),x=n(1);function k(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=x(r),o=x(o),s=x(s),a=x(a),u=x(u),c=x(c),h=x(h),f=x(f),l=x(l),d=x(d),v=x(v),p=x(p),m=w(m),b=x(b),g=x(g),y=x(y);var _=function(t){(0,h.default)(w,t);var i,e,v=(i=w,function(){var t,n=(0,l.default)(i);if(k()){var e=(0,l.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,f.default)(this,t)});function w(){var t;return(0,u.default)(this,w),(t=v.apply(this,arguments)).isMobile=!1,t.contentRectCache=void 0,t.resizeDebouncer=m.debounce((function(){t.windowResize()}),200),t}return(0,c.default)(w,[{key:"addLoader",value:function(){this.nodes.loader=p.default.make("div",this.CSS.editorLoader),this.nodes.wrapper.prepend(this.nodes.loader),this.nodes.redactor.classList.add(this.CSS.editorZoneHidden)}},{key:"removeLoader",value:function(){this.nodes.loader.remove(),this.nodes.redactor.classList.remove(this.CSS.editorZoneHidden)}},{key:"prepare",value:(e=(0,a.default)(s.default.mark((function t(){return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.checkIsMobile(),this.make(),this.addLoader(),this.appendSVGSprite(),this.loadStyles();case 5:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"toggleReadOnly",value:function(t){t?this.disableModuleBindings():this.enableModuleBindings()}},{key:"checkEmptiness",value:function(){this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,this.Editor.BlockManager.isEditorEmpty)}},{key:"destroy",value:function(){this.nodes.holder.innerHTML=""}},{key:"closeAllToolbars",value:function(){var t=this.Editor,i=t.Toolbox,n=t.InlineToolbar,e=t.ConversionToolbar;t.BlockSettings.close(),n.close(),e.close(),i.close()}},{key:"checkIsMobile",value:function(){this.isMobile=window.innerWidth<650}},{key:"make",value:function(){this.nodes.holder=p.default.getHolder(this.config.holder),this.nodes.wrapper=p.default.make("div",[this.CSS.editorWrapper].concat((0,o.default)(this.isRtl?[this.CSS.editorRtlFix]:[]))),this.nodes.redactor=p.default.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}},{key:"loadStyles",value:function(){var t=n(397);if(!p.default.get("editor-js-styles")){var i=p.default.make("style",null,{id:"editor-js-styles",textContent:t.toString()});p.default.prepend(document.head,i)}}},{key:"enableModuleBindings",value:function(){var t=this;this.readOnlyMutableListeners.on(this.nodes.redactor,"click",(function(i){t.redactorClicked(i)}),!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",(function(i){t.documentTouched(i)}),!0),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",(function(i){t.documentTouched(i)}),!0),this.readOnlyMutableListeners.on(document,"keydown",(function(i){t.documentKeydown(i)}),!0),this.readOnlyMutableListeners.on(document,"mousedown",(function(i){t.documentClicked(i)}),!0),this.readOnlyMutableListeners.on(document,"selectionchange",(function(i){t.selectionChanged(i)}),!0),this.readOnlyMutableListeners.on(window,"resize",(function(){t.resizeDebouncer()}),{passive:!0})}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"windowResize",value:function(){this.contentRectCache=null,this.checkIsMobile()}},{key:"documentKeydown",value:function(t){switch(t.keyCode){case m.keyCodes.ENTER:this.enterPressed(t);break;case m.keyCodes.BACKSPACE:this.backspacePressed(t);break;case m.keyCodes.ESC:this.escapePressed(t);break;default:this.defaultBehaviour(t)}}},{key:"defaultBehaviour",value:function(t){var i=this.Editor.BlockManager.currentBlock,n=t.target.closest(".".concat(this.CSS.editorWrapper));void 0===i||null!==n?n||i&&(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close()):this.Editor.BlockEvents.keydown(t)}},{key:"backspacePressed",value:function(t){var i=this.Editor,n=i.BlockManager,e=i.BlockSelection,r=i.Caret;if(e.anyBlockSelected&&!b.default.isSelectionExists){var o=n.removeSelectedBlocks();r.setToBlock(n.insertDefaultBlockAtIndex(o,!0),r.positions.START),e.clearSelection(t),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()}}},{key:"escapePressed",value:function(t){this.Editor.BlockSelection.clearSelection(t),this.Editor.Toolbox.opened?this.Editor.Toolbox.close():this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}},{key:"enterPressed",value:function(t){var i=this.Editor,n=i.BlockSelection,e=i.BlockManager.currentBlockIndex>=0;if(n.anyBlockSelected&&!b.default.isSelectionExists)return n.clearSelection(t),t.preventDefault(),t.stopImmediatePropagation(),void t.stopPropagation();if(!this.someToolbarOpened&&e&&"BODY"===t.target.tagName){var r=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(r),this.Editor.BlockManager.highlightCurrentNode(),this.Editor.Toolbar.move(),this.Editor.Toolbar.plusButton.show()}this.Editor.BlockSelection.clearSelection(t)}},{key:"documentClicked",value:function(t){t.isTrusted&&(this.nodes.holder.contains(t.target)||b.default.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.InlineToolbar.close(),this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close()),this.Editor.BlockSelection.clearSelection(t))}},{key:"documentTouched",value:function(t){var i=t.target;if(i===this.nodes.redactor){var n=t instanceof MouseEvent?t.clientX:t.touches[0].clientX,e=t instanceof MouseEvent?t.clientY:t.touches[0].clientY;i=document.elementFromPoint(n,e)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(i),this.Editor.BlockManager.highlightCurrentNode()}catch(t){this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.open(),this.Editor.Toolbar.plusButton.hide()}},{key:"redactorClicked",value:function(t){var i=this.Editor.BlockSelection;if(b.default.isCollapsed){var n=function(){t.stopImmediatePropagation(),t.stopPropagation()},e=t.target,r=t.metaKey||t.ctrlKey;if(p.default.isAnchor(e)&&r){n();var o=e.getAttribute("href"),s=m.getValidUrl(o);m.openTab(s)}else{if(t.target instanceof Element&&t.target.isEqualNode(this.nodes.redactor)&&!i.anyBlockSelected){n();var a=this.Editor,u=a.BlockManager,c=a.Caret,h=a.Toolbar;u.lastBlock.tool.isDefault&&u.lastBlock.isEmpty||u.insertAtEnd(),c.setToTheLastBlock(),h.move()}this.Editor.BlockManager.currentBlock.tool.isDefault&&(n(),this.Editor.BlockManager.currentBlock.isEmpty&&this.Editor.Toolbar.plusButton.show())}}}},{key:"selectionChanged",value:function(){var t=this.Editor,i=b.default.anchorElement;if(t.CrossBlockSelection.isCrossBlockSelectionStarted&&t.BlockSelection.anyBlockSelected&&b.default.get().removeAllRanges(),i){var n=null===i.closest(".".concat(g.default.CSS.content));if(n&&(this.Editor.InlineToolbar.containsNode(i)||this.Editor.InlineToolbar.close(),"true"!==i.dataset.inlineToolbar))return;this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(i),this.Editor.InlineToolbar.tryToShow(!0,!0!==n)}else b.default.range||this.Editor.InlineToolbar.close()}},{key:"appendSVGSprite",value:function(){var t=p.default.make("div");t.hidden=!0,t.style.display="none",t.innerHTML=d.default,p.default.append(this.nodes.wrapper,t)}},{key:"CSS",get:function(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorLoader:"codex-editor__loader",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}},{key:"contentRect",get:function(){if(this.contentRectCache)return this.contentRectCache;var t=this.nodes.wrapper.querySelector(".".concat(g.default.CSS.content));return t?(this.contentRectCache=t.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}},{key:"someToolbarOpened",get:function(){var t=this.Editor;return t.BlockSettings.opened||t.InlineToolbar.opened||t.ConversionToolbar.opened||t.Toolbox.opened}},{key:"someFlipperButtonFocused",get:function(){return Object.entries(this.Editor).filter((function(t){return(0,r.default)(t,2)[1].flipper instanceof y.default})).some((function(t){return(0,r.default)(t,2)[1].flipper.currentItem}))}}]),w}(v.default);e.default=_,_.displayName="UI",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){n(187),t.exports=n(359)},function(t,i,n){n(188)},function(t,i,n){n(189),n(332),n(334),n(337),n(339),n(341),n(343),n(345),n(347),n(349),n(351),n(353),n(355),n(144)},function(t,i,n){n(190),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(271),n(272),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(105),n(295),n(133),n(296),n(134),n(297),n(298),n(299),n(300),n(135),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),t.exports=n(17)},function(t,i,n){var e=n(10),r=n(26),o=n(18),s=n(0),a=n(21),u=n(41).KEY,c=n(11),h=n(68),f=n(53),l=n(44),d=n(14),v=n(86),p=n(114),m=n(192),b=n(71),g=n(12),y=n(13),w=n(20),x=n(28),k=n(40),_=n(43),A=n(48),S=n(117),E=n(34),M=n(70),C=n(19),O=n(46),T=E.f,R=C.f,j=S.f,I=e.Symbol,F=e.JSON,B=F&&F.stringify,z=d("_hidden"),P=d("toPrimitive"),L={}.propertyIsEnumerable,D=h("symbol-registry"),N=h("symbols"),U=h("op-symbols"),V=Object.prototype,H="function"==typeof I&&!!M.f,$=e.QObject,K=!$||!$.prototype||!$.prototype.findChild,W=o&&c((function(){return 7!=A(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a}))?function(t,i,n){var e=T(V,i);e&&delete V[i],R(t,i,n),e&&t!==V&&R(V,i,e)}:R,q=function(t){var i=N[t]=A(I.prototype);return i._k=t,i},G=H&&"symbol"==typeof I.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof I},Y=function(t,i,n){return t===V&&Y(U,i,n),g(t),i=k(i,!0),g(n),r(N,i)?(n.enumerable?(r(t,z)&&t[z][i]&&(t[z][i]=!1),n=A(n,{enumerable:_(0,!1)})):(r(t,z)||R(t,z,_(1,{})),t[z][i]=!0),W(t,i,n)):R(t,i,n)},J=function(t,i){g(t);for(var n,e=m(i=x(i)),r=0,o=e.length;o>r;)Y(t,n=e[r++],i[n]);return t},Q=function(t){var i=L.call(this,t=k(t,!0));return!(this===V&&r(N,t)&&!r(U,t))&&(!(i||!r(this,t)||!r(N,t)||r(this,z)&&this[z][t])||i)},Z=function(t,i){if(t=x(t),i=k(i,!0),t!==V||!r(N,i)||r(U,i)){var n=T(t,i);return!n||!r(N,i)||r(t,z)&&t[z][i]||(n.enumerable=!0),n}},X=function(t){for(var i,n=j(x(t)),e=[],o=0;n.length>o;)r(N,i=n[o++])||i==z||i==u||e.push(i);return e},tt=function(t){for(var i,n=t===V,e=j(n?U:x(t)),o=[],s=0;e.length>s;)!r(N,i=e[s++])||n&&!r(V,i)||o.push(N[i]);return o};H||(a((I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var t=l(arguments.length>0?arguments[0]:void 0),i=function(n){this===V&&i.call(U,n),r(this,z)&&r(this[z],t)&&(this[z][t]=!1),W(this,t,_(1,n))};return o&&K&&W(V,t,{configurable:!0,set:i}),q(t)}).prototype,"toString",(function(){return this._k})),E.f=Z,C.f=Y,n(49).f=S.f=X,n(62).f=Q,M.f=tt,o&&!n(45)&&a(V,"propertyIsEnumerable",Q,!0),v.f=function(t){return q(d(t))}),s(s.G+s.W+s.F*!H,{Symbol:I});for(var it="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;it.length>nt;)d(it[nt++]);for(var et=O(d.store),rt=0;et.length>rt;)p(et[rt++]);s(s.S+s.F*!H,"Symbol",{for:function(t){return r(D,t+="")?D[t]:D[t]=I(t)},keyFor:function(t){if(!G(t))throw TypeError(t+" is not a symbol!");for(var i in D)if(D[i]===t)return i},useSetter:function(){K=!0},useSimple:function(){K=!1}}),s(s.S+s.F*!H,"Object",{create:function(t,i){return void 0===i?A(t):J(A(t),i)},defineProperty:Y,defineProperties:J,getOwnPropertyDescriptor:Z,getOwnPropertyNames:X,getOwnPropertySymbols:tt});var ot=c((function(){M.f(1)}));s(s.S+s.F*ot,"Object",{getOwnPropertySymbols:function(t){return M.f(w(t))}}),F&&s(s.S+s.F*(!H||c((function(){var t=I();return"[null]"!=B([t])||"{}"!=B({a:t})||"{}"!=B(Object(t))}))),"JSON",{stringify:function(t){for(var i,n,e=[t],r=1;arguments.length>r;)e.push(arguments[r++]);if(n=i=e[1],(y(i)||void 0!==t)&&!G(t))return b(i)||(i=function(t,i){if("function"==typeof n&&(i=n.call(this,t,i)),!G(i))return i}),e[1]=i,B.apply(F,e)}}),I.prototype[P]||n(27)(I.prototype,P,I.prototype.valueOf),f(I,"Symbol"),f(Math,"Math",!0),f(e.JSON,"JSON",!0)},function(t,i,n){t.exports=n(68)("native-function-to-string",Function.toString)},function(t,i,n){var e=n(46),r=n(70),o=n(62);t.exports=function(t){var i=e(t),n=r.f;if(n)for(var s,a=n(t),u=o.f,c=0;a.length>c;)u.call(t,s=a[c++])&&i.push(s);return i}},function(t,i,n){var e=n(0);e(e.S,"Object",{create:n(48)})},function(t,i,n){var e=n(0);e(e.S+e.F*!n(18),"Object",{defineProperty:n(19).f})},function(t,i,n){var e=n(0);e(e.S+e.F*!n(18),"Object",{defineProperties:n(116)})},function(t,i,n){var e=n(28),r=n(34).f;n(35)("getOwnPropertyDescriptor",(function(){return function(t,i){return r(e(t),i)}}))},function(t,i,n){var e=n(20),r=n(50);n(35)("getPrototypeOf",(function(){return function(t){return r(e(t))}}))},function(t,i,n){var e=n(20),r=n(46);n(35)("keys",(function(){return function(t){return r(e(t))}}))},function(t,i,n){n(35)("getOwnPropertyNames",(function(){return n(117).f}))},function(t,i,n){var e=n(13),r=n(41).onFreeze;n(35)("freeze",(function(t){return function(i){return t&&e(i)?t(r(i)):i}}))},function(t,i,n){var e=n(13),r=n(41).onFreeze;n(35)("seal",(function(t){return function(i){return t&&e(i)?t(r(i)):i}}))},function(t,i,n){var e=n(13),r=n(41).onFreeze;n(35)("preventExtensions",(function(t){return function(i){return t&&e(i)?t(r(i)):i}}))},function(t,i,n){var e=n(13);n(35)("isFrozen",(function(t){return function(i){return!e(i)||!!t&&t(i)}}))},function(t,i,n){var e=n(13);n(35)("isSealed",(function(t){return function(i){return!e(i)||!!t&&t(i)}}))},function(t,i,n){var e=n(13);n(35)("isExtensible",(function(t){return function(i){return!!e(i)&&(!t||t(i))}}))},function(t,i,n){var e=n(0);e(e.S+e.F,"Object",{assign:n(118)})},function(t,i,n){var e=n(0);e(e.S,"Object",{is:n(119)})},function(t,i,n){var e=n(0);e(e.S,"Object",{setPrototypeOf:n(90).set})},function(t,i,n){var e=n(63),r={};r[n(14)("toStringTag")]="z",r+""!="[object z]"&&n(21)(Object.prototype,"toString",(function(){return"[object "+e(this)+"]"}),!0)},function(t,i,n){var e=n(0);e(e.P,"Function",{bind:n(120)})},function(t,i,n){var e=n(19).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||n(18)&&e(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,i,n){var e=n(13),r=n(50),o=n(14)("hasInstance"),s=Function.prototype;o in s||n(19).f(s,o,{value:function(t){if("function"!=typeof this||!e(t))return!1;if(!e(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},function(t,i,n){var e=n(0),r=n(122);e(e.G+e.F*(parseInt!=r),{parseInt:r})},function(t,i,n){var e=n(0),r=n(123);e(e.G+e.F*(parseFloat!=r),{parseFloat:r})},function(t,i,n){var e=n(10),r=n(26),o=n(37),s=n(92),a=n(40),u=n(11),c=n(49).f,h=n(34).f,f=n(19).f,l=n(54).trim,d=e.Number,v=d,p=d.prototype,m="Number"==o(n(48)(p)),b="trim"in String.prototype,g=function(t){var i=a(t,!1);if("string"==typeof i&&i.length>2){var n,e,r,o=(i=b?i.trim():l(i,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=i.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(i.charCodeAt(1)){case 66:case 98:e=2,r=49;break;case 79:case 111:e=8,r=55;break;default:return+i}for(var s,u=i.slice(2),c=0,h=u.length;c<h;c++)if((s=u.charCodeAt(c))<48||s>r)return NaN;return parseInt(u,e)}}return+i};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var i=arguments.length<1?0:t,n=this;return n instanceof d&&(m?u((function(){p.valueOf.call(n)})):"Number"!=o(n))?s(new v(g(i)),n,d):g(i)};for(var y,w=n(18)?c(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)r(v,y=w[x])&&!r(d,y)&&f(d,y,h(v,y));d.prototype=p,p.constructor=d,n(21)(e,"Number",d)}},function(t,i,n){var e=n(0),r=n(33),o=n(124),s=n(93),a=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],h="Number.toFixed: incorrect invocation!",f=function(t,i){for(var n=-1,e=i;++n<6;)c[n]=(e+=t*c[n])%1e7,e=u(e/1e7)},l=function(t){for(var i=6,n=0;--i>=0;)c[i]=u((n+=c[i])/t),n=n%t*1e7},d=function(){for(var t=6,i="";--t>=0;)if(""!==i||0===t||0!==c[t]){var n=String(c[t]);i=""===i?n:i+s.call("0",7-n.length)+n}return i},v=function(t,i,n){return 0===i?n:i%2==1?v(t,i-1,n*t):v(t*t,i/2,n)};e(e.P+e.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(11)((function(){a.call({})}))),"Number",{toFixed:function(t){var i,n,e,a,u=o(this,h),c=r(t),p="",m="0";if(c<0||c>20)throw RangeError(h);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(p="-",u=-u),u>1e-21)if(n=(i=function(t){for(var i=0,n=t;n>=4096;)i+=12,n/=4096;for(;n>=2;)i+=1,n/=2;return i}(u*v(2,69,1))-69)<0?u*v(2,-i,1):u/v(2,i,1),n*=4503599627370496,(i=52-i)>0){for(f(0,n),e=c;e>=7;)f(1e7,0),e-=7;for(f(v(10,e,1),0),e=i-1;e>=23;)l(1<<23),e-=23;l(1<<e),f(1,1),l(2),m=d()}else f(0,n),f(1<<-i,0),m=d()+s.call("0",c);return c>0?p+((a=m.length)<=c?"0."+s.call("0",c-a)+m:m.slice(0,a-c)+"."+m.slice(a-c)):p+m}})},function(t,i,n){var e=n(0),r=n(11),o=n(124),s=1..toPrecision;e(e.P+e.F*(r((function(){return"1"!==s.call(1,void 0)}))||!r((function(){s.call({})}))),"Number",{toPrecision:function(t){var i=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?s.call(i):s.call(i,t)}})},function(t,i,n){var e=n(0);e(e.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,i,n){var e=n(0),r=n(10).isFinite;e(e.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},function(t,i,n){var e=n(0);e(e.S,"Number",{isInteger:n(125)})},function(t,i,n){var e=n(0);e(e.S,"Number",{isNaN:function(t){return t!=t}})},function(t,i,n){var e=n(0),r=n(125),o=Math.abs;e(e.S,"Number",{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},function(t,i,n){var e=n(0);e(e.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,i,n){var e=n(0);e(e.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,i,n){var e=n(0),r=n(123);e(e.S+e.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(t,i,n){var e=n(0),r=n(122);e(e.S+e.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(t,i,n){var e=n(0),r=n(126),o=Math.sqrt,s=Math.acosh;e(e.S+e.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+o(t-1)*o(t+1))}})},function(t,i,n){var e=n(0),r=Math.asinh;e(e.S+e.F*!(r&&1/r(0)>0),"Math",{asinh:function t(i){return isFinite(i=+i)&&0!=i?i<0?-t(-i):Math.log(i+Math.sqrt(i*i+1)):i}})},function(t,i,n){var e=n(0),r=Math.atanh;e(e.S+e.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,i,n){var e=n(0),r=n(94);e(e.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,i,n){var e=n(0);e(e.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,i,n){var e=n(0),r=Math.exp;e(e.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},function(t,i,n){var e=n(0),r=n(95);e(e.S+e.F*(r!=Math.expm1),"Math",{expm1:r})},function(t,i,n){var e=n(0);e(e.S,"Math",{fround:n(235)})},function(t,i,n){var e=n(94),r=Math.pow,o=r(2,-52),s=r(2,-23),a=r(2,127)*(2-s),u=r(2,-126);t.exports=Math.fround||function(t){var i,n,r=Math.abs(t),c=e(t);return r<u?c*(r/u/s+1/o-1/o)*u*s:(n=(i=(1+s/o)*r)-(i-r))>a||n!=n?c*(1/0):c*n}},function(t,i,n){var e=n(0),r=Math.abs;e(e.S,"Math",{hypot:function(t,i){for(var n,e,o=0,s=0,a=arguments.length,u=0;s<a;)u<(n=r(arguments[s++]))?(o=o*(e=u/n)*e+1,u=n):o+=n>0?(e=n/u)*e:n;return u===1/0?1/0:u*Math.sqrt(o)}})},function(t,i,n){var e=n(0),r=Math.imul;e(e.S+e.F*n(11)((function(){return-5!=r(4294967295,5)||2!=r.length})),"Math",{imul:function(t,i){var n=+t,e=+i,r=65535&n,o=65535&e;return 0|r*o+((65535&n>>>16)*o+r*(65535&e>>>16)<<16>>>0)}})},function(t,i,n){var e=n(0);e(e.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,i,n){var e=n(0);e(e.S,"Math",{log1p:n(126)})},function(t,i,n){var e=n(0);e(e.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,i,n){var e=n(0);e(e.S,"Math",{sign:n(94)})},function(t,i,n){var e=n(0),r=n(95),o=Math.exp;e(e.S+e.F*n(11)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,i,n){var e=n(0),r=n(95),o=Math.exp;e(e.S,"Math",{tanh:function(t){var i=r(t=+t),n=r(-t);return i==1/0?1:n==1/0?-1:(i-n)/(o(t)+o(-t))}})},function(t,i,n){var e=n(0);e(e.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,i,n){var e=n(0),r=n(47),o=String.fromCharCode,s=String.fromCodePoint;e(e.S+e.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(t){for(var i,n=[],e=arguments.length,s=0;e>s;){if(i=+arguments[s++],r(i,1114111)!==i)throw RangeError(i+" is not a valid code point");n.push(i<65536?o(i):o(55296+((i-=65536)>>10),i%1024+56320))}return n.join("")}})},function(t,i,n){var e=n(0),r=n(28),o=n(16);e(e.S,"String",{raw:function(t){for(var i=r(t.raw),n=o(i.length),e=arguments.length,s=[],a=0;n>a;)s.push(String(i[a++])),a<e&&s.push(String(arguments[a]));return s.join("")}})},function(t,i,n){n(54)("trim",(function(t){return function(){return t(this,3)}}))},function(t,i,n){var e=n(96)(!0);n(97)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,i=this._t,n=this._i;return n>=i.length?{value:void 0,done:!0}:(t=e(i,n),this._i+=t.length,{value:t,done:!1})}))},function(t,i,n){var e=n(0),r=n(96)(!1);e(e.P,"String",{codePointAt:function(t){return r(this,t)}})},function(t,i,n){var e=n(0),r=n(16),o=n(98),s="".endsWith;e(e.P+e.F*n(100)("endsWith"),"String",{endsWith:function(t){var i=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,e=r(i.length),a=void 0===n?e:Math.min(r(n),e),u=String(t);return s?s.call(i,u,a):i.slice(a-u.length,a)===u}})},function(t,i,n){var e=n(0),r=n(98);e(e.P+e.F*n(100)("includes"),"String",{includes:function(t){return!!~r(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,i,n){var e=n(0);e(e.P,"String",{repeat:n(93)})},function(t,i,n){var e=n(0),r=n(16),o=n(98),s="".startsWith;e(e.P+e.F*n(100)("startsWith"),"String",{startsWith:function(t){var i=o(this,t,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,i.length)),e=String(t);return s?s.call(i,e,n):i.slice(n,n+e.length)===e}})},function(t,i,n){n(22)("anchor",(function(t){return function(i){return t(this,"a","name",i)}}))},function(t,i,n){n(22)("big",(function(t){return function(){return t(this,"big","","")}}))},function(t,i,n){n(22)("blink",(function(t){return function(){return t(this,"blink","","")}}))},function(t,i,n){n(22)("bold",(function(t){return function(){return t(this,"b","","")}}))},function(t,i,n){n(22)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},function(t,i,n){n(22)("fontcolor",(function(t){return function(i){return t(this,"font","color",i)}}))},function(t,i,n){n(22)("fontsize",(function(t){return function(i){return t(this,"font","size",i)}}))},function(t,i,n){n(22)("italics",(function(t){return function(){return t(this,"i","","")}}))},function(t,i,n){n(22)("link",(function(t){return function(i){return t(this,"a","href",i)}}))},function(t,i,n){n(22)("small",(function(t){return function(){return t(this,"small","","")}}))},function(t,i,n){n(22)("strike",(function(t){return function(){return t(this,"strike","","")}}))},function(t,i,n){n(22)("sub",(function(t){return function(){return t(this,"sub","","")}}))},function(t,i,n){n(22)("sup",(function(t){return function(){return t(this,"sup","","")}}))},function(t,i,n){var e=n(0);e(e.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,i,n){var e=n(0),r=n(20),o=n(40);e(e.P+e.F*n(11)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(){var t=r(this),i=o(t);return"number"!=typeof i||isFinite(i)?t.toISOString():null}})},function(t,i,n){var e=n(0),r=n(270);e(e.P+e.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(t,i,n){var e=n(11),r=Date.prototype.getTime,o=Date.prototype.toISOString,s=function(t){return t>9?t:"0"+t};t.exports=e((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!e((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var t=this,i=t.getUTCFullYear(),n=t.getUTCMilliseconds(),e=i<0?"-":i>9999?"+":"";return e+("00000"+Math.abs(i)).slice(e?-6:-4)+"-"+s(t.getUTCMonth()+1)+"-"+s(t.getUTCDate())+"T"+s(t.getUTCHours())+":"+s(t.getUTCMinutes())+":"+s(t.getUTCSeconds())+"."+(n>99?n:"0"+s(n))+"Z"}:o},function(t,i,n){var e=Date.prototype,r=e.toString,o=e.getTime;new Date(NaN)+""!="Invalid Date"&&n(21)(e,"toString",(function(){var t=o.call(this);return t==t?r.call(this):"Invalid Date"}))},function(t,i,n){var e=n(14)("toPrimitive"),r=Date.prototype;e in r||n(27)(r,e,n(273))},function(t,i,n){var e=n(12),r=n(40);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(e(this),"number"!=t)}},function(t,i,n){var e=n(0);e(e.S,"Array",{isArray:n(71)})},function(t,i,n){var e=n(31),r=n(0),o=n(20),s=n(128),a=n(101),u=n(16),c=n(102),h=n(103);r(r.S+r.F*!n(72)((function(t){Array.from(t)})),"Array",{from:function(t){var i,n,r,f,l=o(t),d="function"==typeof this?this:Array,v=arguments.length,p=v>1?arguments[1]:void 0,m=void 0!==p,b=0,g=h(l);if(m&&(p=e(p,v>2?arguments[2]:void 0,2)),null==g||d==Array&&a(g))for(n=new d(i=u(l.length));i>b;b++)c(n,b,m?p(l[b],b):l[b]);else for(f=g.call(l),n=new d;!(r=f.next()).done;b++)c(n,b,m?s(f,p,[r.value,b],!0):r.value);return n.length=b,n}})},function(t,i,n){var e=n(0),r=n(102);e(e.S+e.F*n(11)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,i=arguments.length,n=new("function"==typeof this?this:Array)(i);i>t;)r(n,t,arguments[t++]);return n.length=i,n}})},function(t,i,n){var e=n(0),r=n(28),o=[].join;e(e.P+e.F*(n(61)!=Object||!n(29)(o)),"Array",{join:function(t){return o.call(r(this),void 0===t?",":t)}})},function(t,i,n){var e=n(0),r=n(89),o=n(37),s=n(47),a=n(16),u=[].slice;e(e.P+e.F*n(11)((function(){r&&u.call(r)})),"Array",{slice:function(t,i){var n=a(this.length),e=o(this);if(i=void 0===i?n:i,"Array"==e)return u.call(this,t,i);for(var r=s(t,n),c=s(i,n),h=a(c-r),f=new Array(h),l=0;l<h;l++)f[l]="String"==e?this.charAt(r+l):this[r+l];return f}})},function(t,i,n){var e=n(0),r=n(32),o=n(20),s=n(11),a=[].sort,u=[1,2,3];e(e.P+e.F*(s((function(){u.sort(void 0)}))||!s((function(){u.sort(null)}))||!n(29)(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),r(t))}})},function(t,i,n){var e=n(0),r=n(36)(0),o=n(29)([].forEach,!0);e(e.P+e.F*!o,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},function(t,i,n){var e=n(13),r=n(71),o=n(14)("species");t.exports=function(t){var i;return r(t)&&("function"!=typeof(i=t.constructor)||i!==Array&&!r(i.prototype)||(i=void 0),e(i)&&null===(i=i[o])&&(i=void 0)),void 0===i?Array:i}},function(t,i,n){var e=n(0),r=n(36)(1);e(e.P+e.F*!n(29)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,i,n){var e=n(0),r=n(36)(2);e(e.P+e.F*!n(29)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,i,n){var e=n(0),r=n(36)(3);e(e.P+e.F*!n(29)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},function(t,i,n){var e=n(0),r=n(36)(4);e(e.P+e.F*!n(29)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},function(t,i,n){var e=n(0),r=n(130);e(e.P+e.F*!n(29)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},function(t,i,n){var e=n(0),r=n(130);e(e.P+e.F*!n(29)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},function(t,i,n){var e=n(0),r=n(69)(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;e(e.P+e.F*(s||!n(29)(o)),"Array",{indexOf:function(t){return s?o.apply(this,arguments)||0:r(this,t,arguments[1])}})},function(t,i,n){var e=n(0),r=n(28),o=n(33),s=n(16),a=[].lastIndexOf,u=!!a&&1/[1].lastIndexOf(1,-0)<0;e(e.P+e.F*(u||!n(29)(a)),"Array",{lastIndexOf:function(t){if(u)return a.apply(this,arguments)||0;var i=r(this),n=s(i.length),e=n-1;for(arguments.length>1&&(e=Math.min(e,o(arguments[1]))),e<0&&(e=n+e);e>=0;e--)if(e in i&&i[e]===t)return e||0;return-1}})},function(t,i,n){var e=n(0);e(e.P,"Array",{copyWithin:n(131)}),n(51)("copyWithin")},function(t,i,n){var e=n(0);e(e.P,"Array",{fill:n(104)}),n(51)("fill")},function(t,i,n){var e=n(0),r=n(36)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),e(e.P+e.F*o,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(51)("find")},function(t,i,n){var e=n(0),r=n(36)(6),o="findIndex",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),e(e.P+e.F*s,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(51)(o)},function(t,i,n){n(56)("Array")},function(t,i,n){var e=n(10),r=n(92),o=n(19).f,s=n(49).f,a=n(99),u=n(73),c=e.RegExp,h=c,f=c.prototype,l=/a/g,d=/a/g,v=new c(l)!==l;if(n(18)&&(!v||n(11)((function(){return d[n(14)("match")]=!1,c(l)!=l||c(d)==d||"/a/i"!=c(l,"i")})))){c=function(t,i){var n=this instanceof c,e=a(t),o=void 0===i;return!n&&e&&t.constructor===c&&o?t:r(v?new h(e&&!o?t.source:t,i):h((e=t instanceof c)?t.source:t,e&&o?u.call(t):i),n?this:f,c)};for(var p=function(t){t in c||o(c,t,{configurable:!0,get:function(){return h[t]},set:function(i){h[t]=i}})},m=s(h),b=0;m.length>b;)p(m[b++]);f.constructor=c,c.prototype=f,n(21)(e,"RegExp",c)}n(56)("RegExp")},function(t,i,n){n(134);var e=n(12),r=n(73),o=n(18),s=/./.toString,a=function(t){n(21)(RegExp.prototype,"toString",t,!0)};n(11)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?a((function(){var t=e(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)})):"toString"!=s.name&&a((function(){return s.call(this)}))},function(t,i,n){var e=n(12),r=n(16),o=n(107),s=n(74);n(75)("match",1,(function(t,i,n,a){return[function(n){var e=t(this),r=null==n?void 0:n[i];return void 0!==r?r.call(n,e):new RegExp(n)[i](String(e))},function(t){var i=a(n,t,this);if(i.done)return i.value;var u=e(t),c=String(this);if(!u.global)return s(u,c);var h=u.unicode;u.lastIndex=0;for(var f,l=[],d=0;null!==(f=s(u,c));){var v=String(f[0]);l[d]=v,""===v&&(u.lastIndex=o(c,r(u.lastIndex),h)),d++}return 0===d?null:l}]}))},function(t,i,n){var e=n(12),r=n(20),o=n(16),s=n(33),a=n(107),u=n(74),c=Math.max,h=Math.min,f=Math.floor,l=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g;n(75)("replace",2,(function(t,i,n,v){return[function(e,r){var o=t(this),s=null==e?void 0:e[i];return void 0!==s?s.call(e,o,r):n.call(String(o),e,r)},function(t,i){var r=v(n,t,this,i);if(r.done)return r.value;var f=e(t),l=String(this),d="function"==typeof i;d||(i=String(i));var m=f.global;if(m){var b=f.unicode;f.lastIndex=0}for(var g=[];;){var y=u(f,l);if(null===y)break;if(g.push(y),!m)break;""===String(y[0])&&(f.lastIndex=a(l,o(f.lastIndex),b))}for(var w,x="",k=0,_=0;_<g.length;_++){y=g[_];for(var A=String(y[0]),S=c(h(s(y.index),l.length),0),E=[],M=1;M<y.length;M++)E.push(void 0===(w=y[M])?w:String(w));var C=y.groups;if(d){var O=[A].concat(E,S,l);void 0!==C&&O.push(C);var T=String(i.apply(void 0,O))}else T=p(A,l,S,E,C,i);S>=k&&(x+=l.slice(k,S)+T,k=S+A.length)}return x+l.slice(k)}];function p(t,i,e,o,s,a){var u=e+t.length,c=o.length,h=d;return void 0!==s&&(s=r(s),h=l),n.call(a,h,(function(n,r){var a;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return i.slice(0,e);case"'":return i.slice(u);case"<":a=s[r.slice(1,-1)];break;default:var h=+r;if(0===h)return n;if(h>c){var l=f(h/10);return 0===l?n:l<=c?void 0===o[l-1]?r.charAt(1):o[l-1]+r.charAt(1):n}a=o[h-1]}return void 0===a?"":a}))}}))},function(t,i,n){var e=n(12),r=n(119),o=n(74);n(75)("search",1,(function(t,i,n,s){return[function(n){var e=t(this),r=null==n?void 0:n[i];return void 0!==r?r.call(n,e):new RegExp(n)[i](String(e))},function(t){var i=s(n,t,this);if(i.done)return i.value;var a=e(t),u=String(this),c=a.lastIndex;r(c,0)||(a.lastIndex=0);var h=o(a,u);return r(a.lastIndex,c)||(a.lastIndex=c),null===h?-1:h.index}]}))},function(t,i,n){var e=n(99),r=n(12),o=n(64),s=n(107),a=n(16),u=n(74),c=n(106),h=n(11),f=Math.min,l=[].push,d="length",v=!h((function(){}));n(75)("split",2,(function(t,i,n,h){var p;return p="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[d]||2!="ab".split(/(?:ab)*/)[d]||4!=".".split(/(.?)(.?)/)[d]||".".split(/()()/)[d]>1||"".split(/.?/)[d]?function(t,i){var r=String(this);if(void 0===t&&0===i)return[];if(!e(t))return n.call(r,t,i);for(var o,s,a,u=[],h=0,f=void 0===i?4294967295:i>>>0,v=new RegExp(t.source,(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":"")+"g");(o=c.call(v,r))&&!((s=v.lastIndex)>h&&(u.push(r.slice(h,o.index)),o[d]>1&&o.index<r[d]&&l.apply(u,o.slice(1)),a=o[0][d],h=s,u[d]>=f));)v.lastIndex===o.index&&v.lastIndex++;return h===r[d]?!a&&v.test("")||u.push(""):u.push(r.slice(h)),u[d]>f?u.slice(0,f):u}:"0".split(void 0,0)[d]?function(t,i){return void 0===t&&0===i?[]:n.call(this,t,i)}:n,[function(n,e){var r=t(this),o=null==n?void 0:n[i];return void 0!==o?o.call(n,r,e):p.call(String(r),n,e)},function(t,i){var e=h(p,t,this,i,p!==n);if(e.done)return e.value;var c=r(t),l=String(this),d=o(c,RegExp),m=c.unicode,b=new d(v?c:"^(?:"+c.source+")",(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(v?"y":"g")),g=void 0===i?4294967295:i>>>0;if(0===g)return[];if(0===l.length)return null===u(b,l)?[l]:[];for(var y=0,w=0,x=[];w<l.length;){b.lastIndex=v?w:0;var k,_=u(b,v?l:l.slice(w));if(null===_||(k=f(a(b.lastIndex+(v?0:w)),l.length))===y)w=s(l,w,m);else{if(x.push(l.slice(y,w)),x.length===g)return x;for(var A=1;A<=_.length-1;A++)if(x.push(_[A]),x.length===g)return x;w=y=k}}return x.push(l.slice(y)),x}]}))},function(t,i,n){var e=n(10),r=n(108).set,o=e.MutationObserver||e.WebKitMutationObserver,s=e.process,a=e.Promise,u="process"==n(37)(s);t.exports=function(){var t,i,n,c=function(){var e,r;for(u&&(e=s.domain)&&e.exit();t;){r=t.fn,t=t.next;try{r()}catch(e){throw t?n():i=void 0,e}}i=void 0,e&&e.enter()};if(u)n=function(){s.nextTick(c)};else if(!o||e.navigator&&e.navigator.standalone)if(a&&a.resolve){var h=a.resolve(void 0);n=function(){h.then(c)}}else n=function(){r.call(e,c)};else{var f=!0,l=document.createTextNode("");new o(c).observe(l,{characterData:!0}),n=function(){l.data=f=!f}}return function(e){var r={fn:e,next:void 0};i&&(i.next=r),t||(t=r,n()),i=r}}},function(t){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,i,n){var e=n(138),r=n(52);t.exports=n(78)("Map",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var i=e.getEntry(r(this,"Map"),t);return i&&i.v},set:function(t,i){return e.def(r(this,"Map"),0===t?0:t,i)}},e,!0)},function(t,i,n){var e=n(138),r=n(52);t.exports=n(78)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return e.def(r(this,"Set"),t=0===t?0:t,t)}},e)},function(t,i,n){var e,r=n(10),o=n(36)(0),s=n(21),a=n(41),u=n(118),c=n(139),h=n(13),f=n(52),l=n(52),d=!r.ActiveXObject&&"ActiveXObject"in r,v=a.getWeak,p=Object.isExtensible,m=c.ufstore,b=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},g={get:function(t){if(h(t)){var i=v(t);return!0===i?m(f(this,"WeakMap")).get(t):i?i[this._i]:void 0}},set:function(t,i){return c.def(f(this,"WeakMap"),t,i)}},y=t.exports=n(78)("WeakMap",b,g,c,!0,!0);l&&d&&(u((e=c.getConstructor(b,"WeakMap")).prototype,g),a.NEED=!0,o(["delete","has","get","set"],(function(t){var i=y.prototype,n=i[t];s(i,t,(function(i,r){if(h(i)&&!p(i)){this._f||(this._f=new e);var o=this._f[t](i,r);return"set"==t?this:o}return n.call(this,i,r)}))})))},function(t,i,n){var e=n(139),r=n(52);n(78)("WeakSet",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return e.def(r(this,"WeakSet"),t,!0)}},e,!1,!0)},function(t,i,n){var e=n(0),r=n(79),o=n(109),s=n(12),a=n(47),u=n(16),c=n(13),h=n(10).ArrayBuffer,f=n(64),l=o.ArrayBuffer,d=o.DataView,v=r.ABV&&h.isView,p=l.prototype.slice,m=r.VIEW;e(e.G+e.W+e.F*(h!==l),{ArrayBuffer:l}),e(e.S+e.F*!r.CONSTR,"ArrayBuffer",{isView:function(t){return v&&v(t)||c(t)&&m in t}}),e(e.P+e.U+e.F*n(11)((function(){return!new l(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function(t,i){if(void 0!==p&&void 0===i)return p.call(s(this),t);for(var n=s(this).byteLength,e=a(t,n),r=a(void 0===i?n:i,n),o=new(f(this,l))(u(r-e)),c=new d(this),h=new d(o),v=0;e<r;)h.setUint8(v++,c.getUint8(e++));return o}}),n(56)("ArrayBuffer")},function(t,i,n){var e=n(0);e(e.G+e.W+e.F*!n(79).ABV,{DataView:n(109).DataView})},function(t,i,n){n(39)("Int8",1,(function(t){return function(i,n,e){return t(this,i,n,e)}}))},function(t,i,n){n(39)("Uint8",1,(function(t){return function(i,n,e){return t(this,i,n,e)}}))},function(t,i,n){n(39)("Uint8",1,(function(t){return function(i,n,e){return t(this,i,n,e)}}),!0)},function(t,i,n){n(39)("Int16",2,(function(t){return function(i,n,e){return t(this,i,n,e)}}))},function(t,i,n){n(39)("Uint16",2,(function(t){return function(i,n,e){return t(this,i,n,e)}}))},function(t,i,n){n(39)("Int32",4,(function(t){return function(i,n,e){return t(this,i,n,e)}}))},function(t,i,n){n(39)("Uint32",4,(function(t){return function(i,n,e){return t(this,i,n,e)}}))},function(t,i,n){n(39)("Float32",4,(function(t){return function(i,n,e){return t(this,i,n,e)}}))},function(t,i,n){n(39)("Float64",8,(function(t){return function(i,n,e){return t(this,i,n,e)}}))},function(t,i,n){var e=n(0),r=n(32),o=n(12),s=(n(10).Reflect||{}).apply,a=Function.apply;e(e.S+e.F*!n(11)((function(){s((function(){}))})),"Reflect",{apply:function(t,i,n){var e=r(t),u=o(n);return s?s(e,i,u):a.call(e,i,u)}})},function(t,i,n){var e=n(0),r=n(48),o=n(32),s=n(12),a=n(13),u=n(11),c=n(120),h=(n(10).Reflect||{}).construct,f=u((function(){function t(){}return!(h((function(){}),[],t)instanceof t)})),l=!u((function(){h((function(){}))}));e(e.S+e.F*(f||l),"Reflect",{construct:function(t,i){o(t),s(i);var n=arguments.length<3?t:o(arguments[2]);if(l&&!f)return h(t,i,n);if(t==n){switch(i.length){case 0:return new t;case 1:return new t(i[0]);case 2:return new t(i[0],i[1]);case 3:return new t(i[0],i[1],i[2]);case 4:return new t(i[0],i[1],i[2],i[3])}var e=[null];return e.push.apply(e,i),new(c.apply(t,e))}var u=n.prototype,d=r(a(u)?u:Object.prototype),v=Function.apply.call(t,d,i);return a(v)?v:d}})},function(t,i,n){var e=n(19),r=n(0),o=n(12),s=n(40);r(r.S+r.F*n(11)((function(){Reflect.defineProperty(e.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,i,n){o(t),i=s(i,!0),o(n);try{return e.f(t,i,n),!0}catch(t){return!1}}})},function(t,i,n){var e=n(0),r=n(34).f,o=n(12);e(e.S,"Reflect",{deleteProperty:function(t,i){var n=r(o(t),i);return!(n&&!n.configurable)&&delete t[i]}})},function(t,i,n){var e=n(0),r=n(12),o=function(t){this._t=r(t),this._i=0;var i,n=this._k=[];for(i in t)n.push(i)};n(127)(o,"Object",(function(){var t,i=this._k;do{if(this._i>=i.length)return{value:void 0,done:!0}}while(!((t=i[this._i++])in this._t));return{value:t,done:!1}})),e(e.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,i,n){var e=n(34),r=n(50),o=n(26),s=n(0),a=n(13),u=n(12);s(s.S,"Reflect",{get:function t(i,n){var s,c,h=arguments.length<3?i:arguments[2];return u(i)===h?i[n]:(s=e.f(i,n))?o(s,"value")?s.value:void 0!==s.get?s.get.call(h):void 0:a(c=r(i))?t(c,n,h):void 0}})},function(t,i,n){var e=n(34),r=n(0),o=n(12);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,i){return e.f(o(t),i)}})},function(t,i,n){var e=n(0),r=n(50),o=n(12);e(e.S,"Reflect",{getPrototypeOf:function(t){return r(o(t))}})},function(t,i,n){var e=n(0);e(e.S,"Reflect",{has:function(t,i){return i in t}})},function(t,i,n){var e=n(0),r=n(12),o=Object.isExtensible;e(e.S,"Reflect",{isExtensible:function(t){return r(t),!o||o(t)}})},function(t,i,n){var e=n(0);e(e.S,"Reflect",{ownKeys:n(141)})},function(t,i,n){var e=n(0),r=n(12),o=Object.preventExtensions;e(e.S,"Reflect",{preventExtensions:function(t){r(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,i,n){var e=n(19),r=n(34),o=n(50),s=n(26),a=n(0),u=n(43),c=n(12),h=n(13);a(a.S,"Reflect",{set:function t(i,n,a){var f,l,d=arguments.length<4?i:arguments[3],v=r.f(c(i),n);if(!v){if(h(l=o(i)))return t(l,n,a,d);v=u(0)}if(s(v,"value")){if(!1===v.writable||!h(d))return!1;if(f=r.f(d,n)){if(f.get||f.set||!1===f.writable)return!1;f.value=a,e.f(d,n,f)}else e.f(d,n,u(0,a));return!0}return void 0!==v.set&&(v.set.call(d,a),!0)}})},function(t,i,n){var e=n(0),r=n(90);r&&e(e.S,"Reflect",{setPrototypeOf:function(t,i){r.check(t,i);try{return r.set(t,i),!0}catch(t){return!1}}})},function(t,i,n){n(333),t.exports=n(17).Array.includes},function(t,i,n){var e=n(0),r=n(69)(!0);e(e.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(51)("includes")},function(t,i,n){n(335),t.exports=n(17).Array.flatMap},function(t,i,n){var e=n(0),r=n(336),o=n(20),s=n(16),a=n(32),u=n(129);e(e.P,"Array",{flatMap:function(t){var i,n,e=o(this);return a(t),i=s(e.length),n=u(e,0),r(n,e,e,i,0,1,t,arguments[1]),n}}),n(51)("flatMap")},function(t,i,n){var e=n(71),r=n(13),o=n(16),s=n(31),a=n(14)("isConcatSpreadable");t.exports=function t(i,n,u,c,h,f,l,d){for(var v,p,m=h,b=0,g=!!l&&s(l,d,3);b<c;){if(b in u){if(v=g?g(u[b],b,n):u[b],p=!1,r(v)&&(p=void 0!==(p=v[a])?!!p:e(v)),p&&f>0)m=t(i,n,v,o(v.length),m,f-1)-1;else{if(m>=9007199254740991)throw TypeError();i[m]=v}m++}b++}return m}},function(t,i,n){n(338),t.exports=n(17).String.padStart},function(t,i,n){var e=n(0),r=n(142),o=n(77),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);e(e.P+e.F*s,"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,i,n){n(340),t.exports=n(17).String.padEnd},function(t,i,n){var e=n(0),r=n(142),o=n(77),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);e(e.P+e.F*s,"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,i,n){n(342),t.exports=n(17).String.trimLeft},function(t,i,n){n(54)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},function(t,i,n){n(344),t.exports=n(17).String.trimRight},function(t,i,n){n(54)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},function(t,i,n){n(346),t.exports=n(86).f("asyncIterator")},function(t,i,n){n(114)("asyncIterator")},function(t,i,n){n(348),t.exports=n(17).Object.getOwnPropertyDescriptors},function(t,i,n){var e=n(0),r=n(141),o=n(28),s=n(34),a=n(102);e(e.S,"Object",{getOwnPropertyDescriptors:function(t){for(var i,n,e=o(t),u=s.f,c=r(e),h={},f=0;c.length>f;)void 0!==(n=u(e,i=c[f++]))&&a(h,i,n);return h}})},function(t,i,n){n(350),t.exports=n(17).Object.values},function(t,i,n){var e=n(0),r=n(143)(!1);e(e.S,"Object",{values:function(t){return r(t)}})},function(t,i,n){n(352),t.exports=n(17).Object.entries},function(t,i,n){var e=n(0),r=n(143)(!0);e(e.S,"Object",{entries:function(t){return r(t)}})},function(t,i,n){n(135),n(354),t.exports=n(17).Promise.finally},function(t,i,n){var e=n(0),r=n(17),o=n(10),s=n(64),a=n(137);e(e.P+e.R,"Promise",{finally:function(t){var i=s(this,r.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return a(i,t()).then((function(){return n}))}:t,n?function(n){return a(i,t()).then((function(){throw n}))}:t)}})},function(t,i,n){n(356),n(357),n(358),t.exports=n(17)},function(t,i,n){var e=n(10),r=n(0),o=n(77),s=[].slice,a=/MSIE .\./.test(o),u=function(t){return function(i,n){var e=arguments.length>2,r=!!e&&s.call(arguments,2);return t(e?function(){("function"==typeof i?i:Function(i)).apply(this,r)}:i,n)}};r(r.G+r.B+r.F*a,{setTimeout:u(e.setTimeout),setInterval:u(e.setInterval)})},function(t,i,n){var e=n(0),r=n(108);e(e.G+e.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,i,n){for(var e=n(105),r=n(46),o=n(21),s=n(10),a=n(27),u=n(55),c=n(14),h=c("iterator"),f=c("toStringTag"),l=u.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=r(d),p=0;p<v.length;p++){var m,b=v[p],g=d[b],y=s[b],w=y&&y.prototype;if(w&&(w[h]||a(w,h,l),w[f]||a(w,f,b),u[b]=l,g))for(m in e)w[m]||o(w,m,e[m],!0)}},function(t,i,n){var e,r,o;r=[i,n(30),n(2),n(3),n(363),n(365),n(366),n(7)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h){var f=n(8),l=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=l(r),o=l(o),s=l(s),c=l(c),h=f(h);var d=function(){function t(i){var n=this;(0,o.default)(this,t);var e=function(){};h.isObject(i)&&h.isFunction(i.onReady)&&(e=i.onReady);var r=new c.default(i);this.isReady=r.isReady.then((function(){n.exportAPI(r),e()}))}return(0,s.default)(t,[{key:"exportAPI",value:function(t){var i=this;["configuration"].forEach((function(n){i[n]=t[n]})),this.destroy=function(){for(var n in Object.values(t.moduleInstances).forEach((function(t){h.isFunction(t.destroy)&&t.destroy(),t.listeners.removeAll()})),t=null,i)Object.prototype.hasOwnProperty.call(i,n)&&delete i[n];Object.setPrototypeOf(i,null)},Object.setPrototypeOf(this,t.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach((function(n){var e=(0,r.default)(n,2),o=e[0];Object.entries(e[1]).forEach((function(n){var e=(0,r.default)(n,2);i[e[1]]=t.moduleInstances.API.methods[o][e[0]]}))}))}}],[{key:"version",get:function(){return"2.22.2"}}]),t}();e.default=d,d.displayName="EditorJS",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t){t.exports=function(t){if(Array.isArray(t))return t}},function(t){t.exports=function(t,i){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],e=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(e=(s=a.next()).done)&&(n.push(s.value),!i||n.length!==i);e=!0);}catch(t){r=!0,o=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw o}}return n}}},function(t){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,i,n){(i=t.exports=function(...t){return r(...t)}).__esModule=!0;const e=n(364),r=e.default;Object.assign(i,e)},function(t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){},i.revert=function(){}},function(t,i){var n,e;void 0===(e="function"==typeof(n=function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var i=(this.document||this.ownerDocument).querySelectorAll(t),n=i.length;--n>=0&&i.item(n)!==this;);return n>-1}),Element.prototype.closest||(Element.prototype.closest=function(t){var i=this;if(!document.documentElement.contains(i))return null;do{if(i.matches(t))return i;i=i.parentElement||i.parentNode}while(null!==i);return null}),Element.prototype.prepend||(Element.prototype.prepend=function(t){var i=document.createDocumentFragment();Array.isArray(t)||(t=[t]),t.forEach((function(t){var n=t instanceof Node;i.appendChild(n?t:document.createTextNode(t))})),this.insertBefore(i,this.firstChild)})})?n.apply(i,[]):n)||(t.exports=e)},function(t,i,n){var e,r,o;r=[i,n(23),n(24),n(2),n(3),n(15),n(7),n(59),n(148),n(151)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h,f,l){var d=n(8),v=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=v(r),o=v(o),s=v(s),a=v(a),u=v(u),c=d(c),h=v(h),l=v(l);var p=n(374),m=[];p.keys().forEach((function(t){t.match(/^\.\/[^_][\w/]*\.([tj])s$/)&&m.push(p(t))}));var b=function(){function t(i){var n,e,a=this;(0,s.default)(this,t),this.moduleInstances={},this.eventsDispatcher=new l.default,this.isReady=new Promise((function(t,i){n=t,e=i})),Promise.resolve().then((0,o.default)(r.default.mark((function t(){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.configuration=i,t.next=3,a.validate();case 3:return t.next=5,a.init();case 5:return t.next=7,a.start();case 7:c.logLabeled("I'm ready! (ﾉ◕ヮ◕)ﾉ*:･ﾟ✧","log","","color: #E24A75"),setTimeout((0,o.default)(r.default.mark((function t(){var i,e,o;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.render();case 2:a.configuration.autofocus&&((o=(i=a.moduleInstances).Caret).setToBlock((e=i.BlockManager).blocks[0],o.positions.START),e.highlightCurrentNode()),a.moduleInstances.UI.removeLoader(),n();case 5:case"end":return t.stop()}}),t)}))),500);case 9:case"end":return t.stop()}}),t)})))).catch((function(t){c.log("Editor.js is not ready because of ".concat(t),"error"),e(t)}))}var i,n;return(0,a.default)(t,[{key:"validate",value:(n=(0,o.default)(r.default.mark((function t(){var i,n;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(i=this.config).holder,!i.holderId||!n){t.next=3;break}throw Error("«holderId» and «holder» param can't assign at the same time.");case 3:if(!c.isString(n)||u.default.get(n)){t.next=5;break}throw Error("element with ID «".concat(n,"» is missing. Pass correct holder's ID."));case 5:if(!n||!c.isObject(n)||u.default.isElement(n)){t.next=7;break}throw Error("«holder» value must be an Element node");case 7:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"init",value:function(){this.constructModules(),this.configureModules()}},{key:"start",value:(i=(0,o.default)(r.default.mark((function t(){var i,n=this;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"],t.next=3,i.reduce((function(t,i){return t.then((0,o.default)(r.default.mark((function t(){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.moduleInstances[i].prepare();case 3:t.next=10;break;case 5:if(t.prev=5,t.t0=t.catch(0),!(t.t0 instanceof f.CriticalError)){t.next=9;break}throw new Error(t.t0.message);case 9:c.log("Module ".concat(i," was skipped because of %o"),"warn",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,5]])}))))}),Promise.resolve());case 3:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"render",value:function(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}},{key:"constructModules",value:function(){var t=this;m.forEach((function(i){var n=c.isFunction(i)?i:i.default;try{t.moduleInstances[n.displayName]=new n({config:t.configuration,eventsDispatcher:t.eventsDispatcher})}catch(t){c.log("Module ".concat(n.displayName," skipped because"),"warn",t)}}))}},{key:"configureModules",value:function(){for(var t in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,t)&&(this.moduleInstances[t].state=this.getModulesDiff(t))}},{key:"getModulesDiff",value:function(t){var i={};for(var n in this.moduleInstances)n!==t&&(i[n]=this.moduleInstances[n]);return i}},{key:"configuration",set:function(t){var i,n;this.config=c.isObject(t)?Object.assign({},t):{holder:t},c.deprecationAssert(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),null==this.config.holder&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=c.LogLevels.VERBOSE),c.setLogLevel(this.config.logLevel),c.deprecationAssert(Boolean(this.config.initialBlock),"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=void 0!==this.config.minHeight?this.config.minHeight:300;var e={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=!!this.config.hideToolbar&&this.config.hideToolbar,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||function(){},this.config.onChange=this.config.onChange||function(){},this.config.inlineToolbar=void 0===this.config.inlineToolbar||this.config.inlineToolbar,!c.isEmpty(this.config.data)&&this.config.data.blocks&&0!==this.config.data.blocks.length||(this.config.data={blocks:[e]}),this.config.readOnly=this.config.readOnly||!1,(null===(i=this.config.i18n)||void 0===i?void 0:i.messages)&&h.default.setDictionary(this.config.i18n.messages),this.config.i18n.direction=(null===(n=this.config.i18n)||void 0===n?void 0:n.direction)||"ltr"},get:function(){return this.config}}]),t}();e.default=b,b.displayName="Core",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e=n(146);t.exports=function(t){if(Array.isArray(t))return e(t)}},function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t){t.exports=function(t,i,n){return i in t?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,t}},function(t){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}},function(t,i,n){var e=n(110),r=n(373);function o(i,n,s){return t.exports=o=r()?Reflect.construct:function(t,i,n){var r=[null];r.push.apply(r,i);var o=new(Function.bind.apply(t,r));return n&&e(o,n.prototype),o},o.apply(null,arguments)}t.exports=o},function(t){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}},function(t,i,n){var e={"./api":81,"./api/":81,"./api/blocks":152,"./api/blocks.ts":152,"./api/caret":153,"./api/caret.ts":153,"./api/events":154,"./api/events.ts":154,"./api/i18n":155,"./api/i18n.ts":155,"./api/index":81,"./api/index.ts":81,"./api/inlineToolbar":156,"./api/inlineToolbar.ts":156,"./api/listeners":157,"./api/listeners.ts":157,"./api/notifier":158,"./api/notifier.ts":158,"./api/readonly":159,"./api/readonly.ts":159,"./api/sanitizer":160,"./api/sanitizer.ts":160,"./api/saver":161,"./api/saver.ts":161,"./api/selection":162,"./api/selection.ts":162,"./api/styles":163,"./api/styles.ts":163,"./api/toolbar":164,"./api/toolbar.ts":164,"./api/tooltip":165,"./api/tooltip.ts":165,"./blockEvents":166,"./blockEvents.ts":166,"./blockManager":167,"./blockManager.ts":167,"./blockSelection":169,"./blockSelection.ts":169,"./caret":170,"./caret.ts":170,"./crossBlockSelection":171,"./crossBlockSelection.ts":171,"./dragNDrop":172,"./dragNDrop.ts":172,"./modificationsObserver":173,"./modificationsObserver.ts":173,"./paste":174,"./paste.ts":174,"./readonly":175,"./readonly.ts":175,"./rectangleSelection":176,"./rectangleSelection.ts":176,"./renderer":177,"./renderer.ts":177,"./saver":178,"./saver.ts":178,"./toolbar":83,"./toolbar/":83,"./toolbar/blockSettings":179,"./toolbar/blockSettings.ts":179,"./toolbar/conversion":180,"./toolbar/conversion.ts":180,"./toolbar/index":83,"./toolbar/index.ts":83,"./toolbar/inline":181,"./toolbar/inline.ts":181,"./toolbar/toolbox":182,"./toolbar/toolbox.ts":182,"./tools":183,"./tools.ts":183,"./ui":185,"./ui.ts":185};function r(t){var i=o(t);return n(i)}function o(t){if(!n.o(e,t)){var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}return e[t]}r.keys=function(){return Object.keys(e)},r.resolve=o,t.exports=r,r.id=374},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(7)],void 0===(o="function"==typeof(e=function(e,r,o,s){var a=n(8),u=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=u(r),o=u(o),s=a(s);var c=function(){function t(){(0,r.default)(this,t),this.allListeners=[]}return(0,o.default)(t,[{key:"on",value:function(t,i,n){var e=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=s.generateId("l"),o={id:r,element:t,eventType:i,handler:n,options:e};if(!this.findOne(t,i,n))return this.allListeners.push(o),t.addEventListener(i,n,e),r}},{key:"off",value:function(t,i,n){var e=this,r=this.findAll(t,i,n);r.forEach((function(t,i){var n=e.allListeners.indexOf(r[i]);n>-1&&(e.allListeners.splice(n,1),t.element.removeEventListener(t.eventType,t.handler,t.options))}))}},{key:"offById",value:function(t){var i=this.findById(t);i&&i.element.removeEventListener(i.eventType,i.handler,i.options)}},{key:"findOne",value:function(t,i,n){var e=this.findAll(t,i,n);return e.length>0?e[0]:null}},{key:"findAll",value:function(t,i,n){var e=t?this.findByEventTarget(t):[];return t&&i&&n?e.filter((function(t){return t.eventType===i&&t.handler===n})):t&&i?e.filter((function(t){return t.eventType===i})):e}},{key:"removeAll",value:function(){this.allListeners.map((function(t){t.element.removeEventListener(t.eventType,t.handler,t.options)})),this.allListeners=[]}},{key:"destroy",value:function(){this.removeAll()}},{key:"findByEventTarget",value:function(t){return this.allListeners.filter((function(i){if(i.element===t)return i}))}},{key:"findByType",value:function(t){return this.allListeners.filter((function(i){if(i.eventType===t)return i}))}},{key:"findByHandler",value:function(t){return this.allListeners.filter((function(i){if(i.handler===t)return i}))}},{key:"findById",value:function(t){return this.allListeners.find((function(i){return i.id===t}))}}]),t}();e.default=c,c.displayName="Listeners",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(377)],void 0===(o="function"==typeof(e=function(e,r,o,s){var a=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=a(r),o=a(o),s=a(s);var u=function(){function t(){(0,r.default)(this,t)}return(0,o.default)(t,[{key:"show",value:function(t){s.default.show(t)}}]),t}();e.default=u,u.displayName="Notifier",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t){t.exports=function(t){var i={};function n(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=i,n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,i){if(1&i&&(t=n(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)n.d(e,r,function(i){return t[i]}.bind(null,r));return e},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="/",n(n.s=0)}([function(t,i,n){n(1),t.exports=function(){var t=n(6),i=null;return{show:function(n){if(n.message){!function(){if(i)return!0;i=t.getWrapper(),document.body.appendChild(i)}();var e=null,r=n.time||8e3;switch(n.type){case"confirm":e=t.confirm(n);break;case"prompt":e=t.prompt(n);break;default:e=t.alert(n),window.setTimeout((function(){e.remove()}),r)}i.appendChild(e),e.classList.add("cdx-notify--bounce-in")}}}}()},function(t,i,n){var e=n(2);"string"==typeof e&&(e=[[t.i,e,""]]),n(4)(e,{hmr:!0,transform:void 0,insertInto:void 0}),e.locals&&(t.exports=e.locals)},function(t,i,n){(t.exports=n(3)(!1)).push([t.i,'.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:\'\';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:\'\';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}',""])},function(t){t.exports=function(t){var i=[];return i.toString=function(){return this.map((function(i){var n=function(t,i){var n=t[1]||"",e=t[3];if(!e)return n;if(i&&"function"==typeof btoa){var r="/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */",o=e.sources.map((function(t){return"/*# sourceURL="+e.sourceRoot+t+" */"}));return[n].concat(o).concat([r]).join("\n")}return[n].join("\n")}(i,t);return i[2]?"@media "+i[2]+"{"+n+"}":n})).join("")},i.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var e={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(e[o]=!0)}for(r=0;r<t.length;r++){var s=t[r];"number"==typeof s[0]&&e[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),i.push(s))}},i}},function(t,i,n){var e,r,o={},s=(e=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=e.apply(this,arguments)),r}),a=function(){var t={};return function(i){if("function"==typeof i)return i();if(void 0===t[i]){var n=function(t){return document.querySelector(t)}.call(this,i);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(i){n=null}t[i]=n}return t[i]}}(),u=null,c=0,h=[],f=n(5);function l(t,i){for(var n=0;n<t.length;n++){var e=t[n],r=o[e.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](e.parts[s]);for(;s<e.parts.length;s++)r.parts.push(g(e.parts[s],i))}else{var a=[];for(s=0;s<e.parts.length;s++)a.push(g(e.parts[s],i));o[e.id]={id:e.id,refs:1,parts:a}}}}function d(t,i){for(var n=[],e={},r=0;r<t.length;r++){var o=t[r],s=i.base?o[0]+i.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};e[s]?e[s].parts.push(a):n.push(e[s]={id:s,parts:[a]})}return n}function v(t,i){var n=a(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var e=h[h.length-1];if("top"===t.insertAt)e?e.nextSibling?n.insertBefore(i,e.nextSibling):n.appendChild(i):n.insertBefore(i,n.firstChild),h.push(i);else if("bottom"===t.insertAt)n.appendChild(i);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=a(t.insertInto+" "+t.insertAt.before);n.insertBefore(i,r)}}function p(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var i=h.indexOf(t);i>=0&&h.splice(i,1)}function m(t){var i=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),b(i,t.attrs),v(t,i),i}function b(t,i){Object.keys(i).forEach((function(n){t.setAttribute(n,i[n])}))}function g(t,i){var n,e,r,o;if(i.transform&&t.css){if(!(o=i.transform(t.css)))return function(){};t.css=o}if(i.singleton){var s=c++;n=u||(u=m(i)),e=x.bind(null,n,s,!1),r=x.bind(null,n,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var i=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",b(i,t.attrs),v(t,i),i}(i),e=function(t,i,n){var e=n.css,r=n.sourceMap;(i.convertToAbsoluteUrls||void 0===i.convertToAbsoluteUrls&&r)&&(e=f(e)),r&&(e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([e],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}.bind(null,n,i),r=function(){p(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(i),e=function(t,i){var n=i.css,e=i.media;if(e&&t.setAttribute("media",e),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){p(n)});return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else r()}}t.exports=function(t,i){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(i=i||{}).attrs="object"==typeof i.attrs?i.attrs:{},i.singleton||"boolean"==typeof i.singleton||(i.singleton=s()),i.insertInto||(i.insertInto="head"),i.insertAt||(i.insertAt="bottom");var n=d(t,i);return l(n,i),function(t){for(var e=[],r=0;r<n.length;r++)(s=o[n[r].id]).refs--,e.push(s);for(t&&l(d(t,i),i),r=0;r<e.length;r++){var s;if(0===(s=e[r]).refs){for(var a=0;a<s.parts.length;a++)s.parts[a]();delete o[s.id]}}}};var y,w=(y=[],function(t,i){return y[t]=i,y.filter(Boolean).join("\n")});function x(t,i,n,e){var r=n?"":e.css;if(t.styleSheet)t.styleSheet.cssText=w(i,r);else{var o=document.createTextNode(r),s=t.childNodes;s[i]&&t.removeChild(s[i]),s.length?t.insertBefore(o,s[i]):t.appendChild(o)}}},function(t){t.exports=function(t){var i="undefined"!=typeof window&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=i.protocol+"//"+i.host,e=n+i.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,i){var r,o=i.trim().replace(/^"(.*)"$/,(function(t,i){return i})).replace(/^'(.*)'$/,(function(t,i){return i}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:e+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(t){var i,n,e,r,o,s;t.exports=(i="cdx-notify",n="cdx-notify__cross",e="cdx-notify__button--confirm",r="cdx-notify__button",o="cdx-notify__btns-wrapper",{alert:s=function(t){var e=document.createElement("DIV"),r=document.createElement("DIV"),o=t.message,s=t.style;return e.classList.add(i),s&&e.classList.add(i+"--"+s),e.innerHTML=o,r.classList.add(n),r.addEventListener("click",e.remove.bind(e)),e.appendChild(r),e},confirm:function(t){var i=s(t),a=document.createElement("div"),u=document.createElement("button"),c=document.createElement("button"),h=i.querySelector("."+n),f=t.cancelHandler,l=t.okHandler;return a.classList.add(o),u.innerHTML=t.okText||"Confirm",c.innerHTML=t.cancelText||"Cancel",u.classList.add(r),c.classList.add(r),u.classList.add(e),c.classList.add("cdx-notify__button--cancel"),f&&"function"==typeof f&&(c.addEventListener("click",f),h.addEventListener("click",f)),l&&"function"==typeof l&&u.addEventListener("click",l),u.addEventListener("click",i.remove.bind(i)),c.addEventListener("click",i.remove.bind(i)),a.appendChild(u),a.appendChild(c),i.appendChild(a),i},prompt:function(t){var i=s(t),a=document.createElement("div"),u=document.createElement("button"),c=document.createElement("input"),h=i.querySelector("."+n),f=t.cancelHandler,l=t.okHandler;return a.classList.add(o),u.innerHTML=t.okText||"Ok",u.classList.add(r),u.classList.add(e),c.classList.add("cdx-notify__input"),t.placeholder&&c.setAttribute("placeholder",t.placeholder),t.default&&(c.value=t.default),t.inputType&&(c.type=t.inputType),f&&"function"==typeof f&&h.addEventListener("click",f),l&&"function"==typeof l&&u.addEventListener("click",(function(){l(c.value)})),u.addEventListener("click",i.remove.bind(i)),a.appendChild(c),a.appendChild(u),i.appendChild(a),i},getWrapper:function(){var t=document.createElement("DIV");return t.classList.add("cdx-notifies"),t}})}])},function(t,i,n){var e,r;void 0===(r="function"==typeof(e=function(){function t(t){var i=t.tags;if(!Object.keys(i).map((function(t){return typeof i[t]})).every((function(t){return"object"===t||"boolean"===t||"function"===t})))throw new Error("The configuration was invalid");this.config=t}var i=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function n(t){return-1!==i.indexOf(t.nodeName)}var e=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function r(t){return-1!==e.indexOf(t.nodeName)}function o(t,i,n){return"function"==typeof t.tags[i]?t.tags[i](n):t.tags[i]}function s(t,i){return void 0===i||"boolean"==typeof i&&!i}function a(t,i,n){var e=t.name.toLowerCase();return!0!==i&&("function"==typeof i[e]?!i[e](t.value,n):void 0===i[e]||!1===i[e]||"string"==typeof i[e]&&i[e]!==t.value)}return t.prototype.clean=function(t){const i=document.implementation.createHTMLDocument(),n=i.createElement("div");return n.innerHTML=t,this._sanitize(i,n),n.innerHTML},t.prototype._sanitize=function(t,i){var e=function(t,i){return t.createTreeWalker(i,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}(t,i),u=e.firstChild();if(u)do{if(u.nodeType!==Node.TEXT_NODE){if(u.nodeType===Node.COMMENT_NODE){i.removeChild(u),this._sanitize(t,i);break}var c,h=r(u);h&&(c=Array.prototype.some.call(u.childNodes,n));var f=!!i.parentNode,l=n(i)&&n(u)&&f,d=u.nodeName.toLowerCase(),v=o(this.config,d,u);if(h&&c||s(0,v)||!this.config.keepNestedBlockElements&&l){if("SCRIPT"!==u.nodeName&&"STYLE"!==u.nodeName)for(;u.childNodes.length>0;)i.insertBefore(u.childNodes[0],u);i.removeChild(u),this._sanitize(t,i);break}for(var p=0;p<u.attributes.length;p+=1){var m=u.attributes[p];a(m,v,u)&&(u.removeAttribute(m.name),p-=1)}this._sanitize(t,u)}else if(""===u.data.trim()&&(u.previousElementSibling&&n(u.previousElementSibling)||u.nextElementSibling&&n(u.nextElementSibling))){i.removeChild(u),this._sanitize(t,i);break}}while(u=e.nextSibling())},t})?e.call(i,n,i,t):e)||(t.exports=r)},function(t){t.exports=function(t){var i={};function n(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=i,n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,i){if(1&i&&(t=n(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)n.d(e,r,function(i){return t[i]}.bind(null,r));return e},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="",n(n.s=0)}([function(t,i,n){t.exports=n(1)},function(t,i,n){n.r(i),n.d(i,"default",(function(){return e}));class e{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(t,i,n){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const e=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},n);if(e.hidingDelay&&(this.hidingDelay=e.hidingDelay),this.nodes.content.innerHTML="","string"==typeof i)this.nodes.content.appendChild(document.createTextNode(i));else{if(!(i instanceof Node))throw Error("[CodeX Tooltip] Wrong type of «content» passed. It should be an instance of Node or String. But "+typeof i+" given.");this.nodes.content.appendChild(i)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),e.placement){case"top":this.placeTop(t,e);break;case"left":this.placeLeft(t,e);break;case"right":this.placeRight(t,e);break;case"bottom":default:this.placeBottom(t,e)}e&&e.delay?this.showingTimeout=setTimeout((()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0}),e.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(t=!1){if(this.hidingDelay&&!t)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout((()=>{this.hide(!0)}),this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(t,i,n){t.addEventListener("mouseenter",(()=>{this.show(t,i,n)})),t.addEventListener("mouseleave",(()=>{this.hide()}))}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const t="codex-tooltips-style";if(document.getElementById(t))return;const i=n(2),e=this.make("style",null,{textContent:i.toString(),id:t});this.prepend(document.head,e)}placeBottom(t,i){const n=t.getBoundingClientRect(),e=n.bottom+window.pageYOffset+this.offsetTop+i.marginTop;this.applyPlacement("bottom",n.left+t.clientWidth/2-this.nodes.wrapper.offsetWidth/2,e)}placeTop(t,i){const n=t.getBoundingClientRect(),e=n.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",n.left+t.clientWidth/2-this.nodes.wrapper.offsetWidth/2,e)}placeLeft(t,i){const n=t.getBoundingClientRect(),e=n.top+window.pageYOffset+t.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",n.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-i.marginLeft,e)}placeRight(t,i){const n=t.getBoundingClientRect(),e=n.top+window.pageYOffset+t.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",n.right+this.offsetRight+i.marginRight,e)}applyPlacement(t,i,n){this.nodes.wrapper.classList.add(this.CSS.placement[t]),this.nodes.wrapper.style.left=i+"px",this.nodes.wrapper.style.top=n+"px"}make(t,i=null,n={}){const e=document.createElement(t);Array.isArray(i)?e.classList.add(...i):i&&e.classList.add(i);for(const t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}append(t,i){Array.isArray(i)?i.forEach((i=>t.appendChild(i))):t.appendChild(i)}prepend(t,i){Array.isArray(i)?(i=i.reverse()).forEach((i=>t.prepend(i))):t.prepend(i)}}},function(t){t.exports='.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>\') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}'}]).default},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(15),n(7),n(25)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u){var c=n(8),h=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=h(r),o=h(o),s=h(s),a=c(a),u=h(u);var f=function(){function t(i,n){(0,r.default)(this,t),this.cursor=-1,this.items=[],this.items=i||[],this.focusedCssClass=n}return(0,o.default)(t,[{key:"setItems",value:function(t){this.items=t}},{key:"next",value:function(){this.cursor=this.leafNodesAndReturnIndex(t.directions.RIGHT)}},{key:"previous",value:function(){this.cursor=this.leafNodesAndReturnIndex(t.directions.LEFT)}},{key:"dropCursor",value:function(){-1!==this.cursor&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}},{key:"leafNodesAndReturnIndex",value:function(i){var n=this;if(0===this.items.length)return this.cursor;var e=this.cursor;return-1===e?e=i===t.directions.RIGHT?-1:0:this.items[e].classList.remove(this.focusedCssClass),s.default.canSetCaret(this.items[e=i===t.directions.RIGHT?(e+1)%this.items.length:(this.items.length+e-1)%this.items.length])&&a.delay((function(){return u.default.setCursor(n.items[e])}),50)(),this.items[e].classList.add(this.focusedCssClass),e}},{key:"currentItem",get:function(){return-1===this.cursor?null:this.items[this.cursor]}}]),t}();e.default=f,f.displayName="DomIterator",f.directions={RIGHT:"right",LEFT:"left"},t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e=n(4);t.exports=function(t,i){for(;!Object.prototype.hasOwnProperty.call(t,i)&&null!==(t=e(t)););return t}},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(7),n(15),n(66)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u){var c=n(8),h=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=h(r),o=h(o),s=c(s),a=h(a);var f=function(){function t(i){(0,r.default)(this,t),this.blocks=[],this.workingArea=i}return(0,o.default)(t,[{key:"push",value:function(t){this.blocks.push(t),this.insertToDOM(t)}},{key:"swap",value:function(t,i){var n=this.blocks[i];a.default.swap(this.blocks[t].holder,n.holder),this.blocks[i]=this.blocks[t],this.blocks[t]=n}},{key:"move",value:function(t,i){var n=this.blocks.splice(i,1)[0],e=Math.max(0,t-1);this.insertToDOM(n,t>0?"afterend":"beforebegin",this.blocks[e]),this.blocks.splice(t,0,n);var r=this.composeBlockEvent("move",{fromIndex:i,toIndex:t});n.call(u.BlockToolAPI.MOVED,r)}},{key:"insert",value:function(t,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.length)if(t>this.length&&(t=this.length),n&&(this.blocks[t].holder.remove(),this.blocks[t].call(u.BlockToolAPI.REMOVED)),this.blocks.splice(t,n?1:0,i),t>0)this.insertToDOM(i,"afterend",this.blocks[t-1]);else{var e=this.blocks[t+1];e?this.insertToDOM(i,"beforebegin",e):this.insertToDOM(i)}else this.push(i)}},{key:"remove",value:function(t){isNaN(t)&&(t=this.length-1),this.blocks[t].holder.remove(),this.blocks[t].call(u.BlockToolAPI.REMOVED),this.blocks.splice(t,1)}},{key:"removeAll",value:function(){this.workingArea.innerHTML="",this.blocks.forEach((function(t){return t.call(u.BlockToolAPI.REMOVED)})),this.blocks.length=0}},{key:"insertAfter",value:function(t,i){var n=this.blocks.indexOf(t);this.insert(n+1,i)}},{key:"get",value:function(t){return this.blocks[t]}},{key:"indexOf",value:function(t){return this.blocks.indexOf(t)}},{key:"insertToDOM",value:function(t,i,n){i?n.holder.insertAdjacentElement(i,t.holder):this.workingArea.appendChild(t.holder),t.call(u.BlockToolAPI.RENDERED)}},{key:"composeBlockEvent",value:function(t,i){return new CustomEvent(t,{detail:i})}},{key:"length",get:function(){return this.blocks.length}},{key:"array",get:function(){return this.blocks}},{key:"nodes",get:function(){return s.array(this.workingArea.children)}}],[{key:"set",value:function(t,i,n){return isNaN(Number(i))?(Reflect.set(t,i,n),!0):(t.insert(+i,n),!0)}},{key:"get",value:function(t,i){return isNaN(Number(i))?Reflect.get(t,i):t.get(+i)}}]),t}();e.default=f,f.displayName="Blocks",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t){t.exports=function(t){var i={};function n(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=i,n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,i){if(1&i&&(t=n(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)n.d(e,r,function(i){return t[i]}.bind(null,r));return e},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="",n(n.s=0)}([function(t,i,n){function e(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function r(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}n.r(i);var o=function(){function t(i){var n=this;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.commands={},this.keys={},this.name=i.name,this.parseShortcutName(i.name),this.element=i.on,this.callback=i.callback,this.executeShortcut=function(t){n.execute(t)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return r(t,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46}}}]),r(t,[{key:"parseShortcutName",value:function(i){i=i.split("+");for(var n=0;n<i.length;n++){i[n]=i[n].toUpperCase();var e=!1;for(var r in t.supportedCommands)if(t.supportedCommands[r].includes(i[n])){e=this.commands[r]=!0;break}e||(this.keys[i[n]]=!0)}for(var o in t.supportedCommands)this.commands[o]||(this.commands[o]=!1)}},{key:"execute",value:function(i){var n,e={CMD:i.ctrlKey||i.metaKey,SHIFT:i.shiftKey,ALT:i.altKey},r=!0;for(n in this.commands)this.commands[n]!==e[n]&&(r=!1);var o,s=!0;for(o in this.keys)s=s&&i.keyCode===t.keyCodes[o];r&&s&&this.callback(i)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),t}();i.default=o}]).default},function(t){t.exports=function(t){var i={};function n(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=i,n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,i){if(1&i&&(t=n(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)n.d(e,r,function(i){return t[i]}.bind(null,r));return e},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="/",n(n.s=0)}([function(t,i,n){function e(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function r(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}n(1).toString();var o=function(){function t(i){var n=i.data,e=i.config,r=i.api,o=i.readOnly;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.api=r,this.readOnly=o,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=e.placeholder?e.placeholder:t.DEFAULT_PLACEHOLDER,this._data={},this._element=this.drawView(),this._preserveBlank=void 0!==e.preserveBlank&&e.preserveBlank,this.data=n}return r(t,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),r(t,[{key:"onKeyUp",value:function(t){"Backspace"!==t.code&&"Delete"!==t.code||""===this._element.textContent&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var t=document.createElement("DIV");return t.classList.add(this._CSS.wrapper,this._CSS.block),t.contentEditable=!1,t.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(t.contentEditable=!0,t.addEventListener("keyup",this.onKeyUp)),t}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(t){this.data={text:this.data.text+t.text}}},{key:"validate",value:function(t){return!(""===t.text.trim()&&!this._preserveBlank)}},{key:"save",value:function(t){return{text:t.innerHTML}}},{key:"onPaste",value:function(t){this.data={text:t.detail.data.innerHTML}}},{key:"data",get:function(){return this._data.text=this._element.innerHTML,this._data},set:function(t){this._data=t||{},this._element.innerHTML=this._data.text||""}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:n(5).default,title:"Text"}}}]),t}();t.exports=o},function(t,i,n){var e=n(2),r=n(3);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]),e(r,{insert:"head",singleton:!1}),t.exports=r.locals||{}},function(t,i,n){var e,r=function(){var t={};return function(i){if(void 0===t[i]){var n=document.querySelector(i);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[i]=n}return t[i]}}(),o=[];function s(t){for(var i=-1,n=0;n<o.length;n++)if(o[n].identifier===t){i=n;break}return i}function a(t,i){for(var n={},e=[],r=0;r<t.length;r++){var a=t[r],u=i.base?a[0]+i.base:a[0],c=n[u]||0,h="".concat(u," ").concat(c);n[u]=c+1;var f=s(h),l={css:a[1],media:a[2],sourceMap:a[3]};-1!==f?(o[f].references++,o[f].updater(l)):o.push({identifier:h,updater:p(l,i),references:1}),e.push(h)}return e}function u(t){var i=document.createElement("style"),e=t.attributes||{};if(void 0===e.nonce){var o=n.nc;o&&(e.nonce=o)}if(Object.keys(e).forEach((function(t){i.setAttribute(t,e[t])})),"function"==typeof t.insert)t.insert(i);else{var s=r(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(i)}return i}var c,h=(c=[],function(t,i){return c[t]=i,c.filter(Boolean).join("\n")});function f(t,i,n,e){var r=n?"":e.media?"@media ".concat(e.media," {").concat(e.css,"}"):e.css;if(t.styleSheet)t.styleSheet.cssText=h(i,r);else{var o=document.createTextNode(r),s=t.childNodes;s[i]&&t.removeChild(s[i]),s.length?t.insertBefore(o,s[i]):t.appendChild(o)}}function l(t,i,n){var e=n.css,r=n.media,o=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),o&&btoa&&(e+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}var d=null,v=0;function p(t,i){var n,e,r;if(i.singleton){var o=v++;n=d||(d=u(i)),e=f.bind(null,n,o,!1),r=f.bind(null,n,o,!0)}else n=u(i),e=l.bind(null,n,i),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else r()}}t.exports=function(t,i){(i=i||{}).singleton||"boolean"==typeof i.singleton||(i.singleton=(void 0===e&&(e=Boolean(window&&document&&document.all&&!window.atob)),e));var n=a(t=t||[],i);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var e=0;e<n.length;e++){var r=s(n[e]);o[r].references--}for(var u=a(t,i),c=0;c<n.length;c++){var h=s(n[c]);0===o[h].references&&(o[h].updater(),o.splice(h,1))}n=u}}}},function(t,i,n){(i=n(4)(!1)).push([t.i,".ce-paragraph {\n    line-height: 1.6em;\n    outline: none;\n}\n\n.ce-paragraph[data-placeholder]:empty::before{\n  content: attr(data-placeholder);\n  color: #707684;\n  font-weight: normal;\n  opacity: 0;\n}\n\n/** Show placeholder at the first paragraph if Editor is empty */\n.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {\n  opacity: 1;\n}\n\n.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,\n.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {\n  opacity: 0;\n}\n\n.ce-paragraph p:first-of-type{\n    margin-top: 0;\n}\n\n.ce-paragraph p:last-of-type{\n    margin-bottom: 0;\n}\n",""]),t.exports=i},function(t){t.exports=function(t){var i=[];return i.toString=function(){return this.map((function(i){var n=function(t,i){var n,e,r=t[1]||"",o=t[3];if(!o)return r;if(i&&"function"==typeof btoa){var s=(n=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),e="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(e," */")),a=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[r].concat(a).concat([s]).join("\n")}return[r].join("\n")}(i,t);return i[2]?"@media ".concat(i[2]," {").concat(n,"}"):n})).join("")},i.i=function(t,n,e){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(e)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var a=0;a<t.length;a++){var u=[].concat(t[a]);e&&r[u[0]]||(n&&(u[2]=u[2]?"".concat(n," and ").concat(u[2]):n),i.push(u))}},i}},function(t,i,n){n.r(i),i.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0.2 -0.3 9 11.4" width="12" height="14">\n  <path d="M0 2.77V.92A1 1 0 01.2.28C.35.1.56 0 .83 0h7.66c.28.01.48.1.63.28.14.17.21.38.21.64v1.85c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26a1 1 0 01-.21-.66V1.69H5.6v7.58h.5c.25 0 .45.08.6.23.17.16.25.35.25.6s-.08.45-.24.6a.87.87 0 01-.62.22H3.21a.87.87 0 01-.61-.22.78.78 0 01-.24-.6c0-.25.08-.44.24-.6a.85.85 0 01.61-.23h.5V1.7H1.73v1.08c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26A1 1 0 010 2.77z"/>\n</svg>\n'}])},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(15)],void 0===(o="function"==typeof(e=function(e,r,o,s){var a=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=a(r),o=a(o),s=a(s);var u=function(){function t(){(0,r.default)(this,t),this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}return(0,o.default)(t,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.appendChild(s.default.svg("bold",12,14)),this.nodes.button}},{key:"surround",value:function(){document.execCommand(this.commandName)}},{key:"checkState",value:function(){var t=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,t),t}},{key:"shortcut",get:function(){return"CMD+B"}}],[{key:"sanitize",get:function(){return{b:{}}}}]),t}();e.default=u,u.displayName="BoldInlineTool",u.isInline=!0,u.title="Bold",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(15)],void 0===(o="function"==typeof(e=function(e,r,o,s){var a=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=a(r),o=a(o),s=a(s);var u=function(){function t(){(0,r.default)(this,t),this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}return(0,o.default)(t,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.appendChild(s.default.svg("italic",4,11)),this.nodes.button}},{key:"surround",value:function(){document.execCommand(this.commandName)}},{key:"checkState",value:function(){var t=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,t),t}},{key:"shortcut",get:function(){return"CMD+I"}}],[{key:"sanitize",get:function(){return{i:{}}}}]),t}();e.default=u,u.displayName="ItalicInlineTool",u.isInline=!0,u.title="Italic",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(25),n(15),n(7)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u){var c=n(8),h=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=h(r),o=h(o),s=h(s),a=h(a),u=c(u);var f=function(){function t(i){var n=i.api;(0,r.default)(this,t),this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=n.toolbar,this.inlineToolbar=n.inlineToolbar,this.notifier=n.notifier,this.i18n=n.i18n,this.selection=new s.default}return(0,o.default)(t,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.appendChild(a.default.svg("link",14,10)),this.nodes.button.appendChild(a.default.svg("unlink",15,11)),this.nodes.button}},{key:"renderActions",value:function(){var t=this;return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",(function(i){i.keyCode===t.ENTER_KEY&&t.enterPressed(i)})),this.nodes.input}},{key:"surround",value:function(t){if(t){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());var i=this.selection.findParentTag("A");if(i)return this.selection.expandToTag(i),this.unlink(),this.closeActions(),this.checkState(),void this.toolbar.close()}this.toggleActions()}},{key:"checkState",value:function(){var t=this.selection.findParentTag("A");if(t){this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();var i=t.getAttribute("href");this.nodes.input.value="null"!==i?i:"",this.selection.save()}else this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!t}},{key:"clear",value:function(){this.closeActions()}},{key:"toggleActions",value:function(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}},{key:"openActions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.nodes.input.classList.add(this.CSS.inputShowed),t&&this.nodes.input.focus(),this.inputOpened=!0}},{key:"closeActions",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.selection.isFakeBackgroundEnabled){var i=new s.default;i.save(),this.selection.restore(),this.selection.removeFakeBackground(),i.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",t&&this.selection.clearSaved(),this.inputOpened=!1}},{key:"enterPressed",value:function(t){var i=this.nodes.input.value||"";return i.trim()?this.validateURL(i)?(i=this.prepareLink(i),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(i),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),this.selection.collapseToEnd(),void this.inlineToolbar.close()):(this.notifier.show({message:"Pasted link is not valid.",style:"error"}),void u.log("Incorrect Link pasted","warn",i)):(this.selection.restore(),this.unlink(),t.preventDefault(),void this.closeActions())}},{key:"validateURL",value:function(t){return!/\s/.test(t)}},{key:"prepareLink",value:function(t){return t=t.trim(),this.addProtocol(t)}},{key:"addProtocol",value:function(t){if(/^(\w+):(\/\/)?/.test(t))return t;var i=/^\/[^/\s]/.test(t),n="#"===t.substring(0,1),e=/^\/\/[^/\s]/.test(t);return i||n||e||(t="http://"+t),t}},{key:"insertLink",value:function(t){var i=this.selection.findParentTag("A");i&&this.selection.expandToTag(i),document.execCommand(this.commandLink,!1,t)}},{key:"unlink",value:function(){document.execCommand(this.commandUnlink)}},{key:"shortcut",get:function(){return"CMD+K"}}],[{key:"sanitize",get:function(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}}]),t}();e.default=f,f.displayName="LinkInlineTool",f.isInline=!0,f.title="Link",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(15)],void 0===(o="function"==typeof(e=function(e,r,o,s){var a=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=a(r),o=a(o),s=a(s);var u=function(){function t(i){var n=i.data,e=i.api;(0,r.default)(this,t),this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=e,this.title=n.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=n.savedData,this.wrapper=this.make()}return(0,o.default)(t,[{key:"render",value:function(){return this.wrapper}},{key:"save",value:function(){return this.savedData}},{key:"make",value:function(){var t=s.default.make("div",this.CSS.wrapper),i=s.default.svg("sad-face",52,52),n=s.default.make("div",this.CSS.info),e=s.default.make("div",this.CSS.title,{textContent:this.title}),r=s.default.make("div",this.CSS.subtitle,{textContent:this.subtitle});return t.appendChild(i),n.appendChild(e),n.appendChild(r),t.appendChild(n),t}}]),t}();e.default=u,u.displayName="Stub",u.isReadOnlySupported=!0,t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(67),n(390),n(391),n(392)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c){var h=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=h(r),o=h(o),a=h(a),u=h(u),c=h(c);var f=function(){function t(i,n,e){(0,r.default)(this,t),this.api=e,this.config=i,this.editorConfig=n}return(0,o.default)(t,[{key:"get",value:function(t){var i=this.config[t],n=i.class,e=i.isInternal,r=void 0!==e&&e,o=function(t,i){var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.indexOf(e)<0&&(n[e]=t[e]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(e=Object.getOwnPropertySymbols(t);r<e.length;r++)i.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(n[e[r]]=t[e[r]])}return n}(i,["class","isInternal"]);return new(this.getConstructor(n))({name:t,constructable:n,config:o,api:this.api,isDefault:t===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:r})}},{key:"getConstructor",value:function(t){switch(!0){case t[s.InternalInlineToolSettings.IsInline]:return a.default;case t[s.InternalTuneSettings.IsTune]:return u.default;default:return c.default}}}]),t}();e.default=f,f.displayName="ToolsFactory",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(5),n(6),n(4),n(67)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c){var h=n(8),f=n(1);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=f(r),o=f(o),s=f(s),a=f(a),u=f(u);var d=function(t){(0,s.default)(e,t);var i,n=(i=e,function(){var t,n=(0,u.default)(i);if(l()){var e=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,a.default)(this,t)});function e(){var t;return(0,r.default)(this,e),(t=n.apply(this,arguments)).type=c.ToolType.Inline,t}return(0,o.default)(e,[{key:"create",value:function(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}},{key:"title",get:function(){return this.constructable[c.InternalInlineToolSettings.Title]}}]),e}((c=h(c)).default);e.default=d,d.displayName="InlineTool",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(5),n(6),n(4),n(67)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c){var h=n(8),f=n(1);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=f(r),o=f(o),s=f(s),a=f(a),u=f(u);var d=function(t){(0,s.default)(e,t);var i,n=(i=e,function(){var t,n=(0,u.default)(i);if(l()){var e=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,a.default)(this,t)});function e(){var t;return(0,r.default)(this,e),(t=n.apply(this,arguments)).type=c.ToolType.Tune,t}return(0,o.default)(e,[{key:"create",value:function(t,i){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings,block:i,data:t})}}]),e}((c=h(c)).default);e.default=d,d.displayName="BlockTune",t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(168),n(5),n(6),n(4),n(80),n(67),n(7),n(184)],void 0===(o="function"==typeof(e=function(e,r,o,s,a,u,c,h,f,l,d){var v=n(8),p=n(1);function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=p(r),o=p(o),s=p(s),a=p(a),u=p(u),c=p(c),h=p(h),f=v(f),l=v(l),d=p(d);var b=function(t,i,n,e){var r,o=arguments.length,s=o<3?i:null===e?e=Object.getOwnPropertyDescriptor(i,n):e;if("object"===("undefined"==typeof Reflect?"undefined":(0,h.default)(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,i,n,e);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(i,n,s):r(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},g=function(t){(0,a.default)(e,t);var i,n=(i=e,function(){var t,n=(0,c.default)(i);if(m()){var e=(0,c.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,u.default)(this,t)});function e(){var t;return(0,r.default)(this,e),(t=n.apply(this,arguments)).type=f.ToolType.Block,t.inlineTools=new d.default,t.tunes=new d.default,t}return(0,o.default)(e,[{key:"create",value:function(t,i,n){return new this.constructable({data:t,block:i,readOnly:n,api:this.api.getMethodsForTool(this),config:this.settings})}},{key:"isReadOnlySupported",get:function(){return!0===this.constructable[f.InternalBlockToolSettings.IsReadOnlySupported]}},{key:"isLineBreaksEnabled",get:function(){return this.constructable[f.InternalBlockToolSettings.IsEnabledLineBreaks]}},{key:"toolbox",get:function(){var t=this.constructable[f.InternalBlockToolSettings.Toolbox],i=this.config[f.UserSettings.Toolbox];if(!l.isEmpty(t)&&!1!==(null!=i?i:t))return Object.assign({},t,i)}},{key:"conversionConfig",get:function(){return this.constructable[f.InternalBlockToolSettings.ConversionConfig]}},{key:"enabledInlineTools",get:function(){return this.config[f.UserSettings.EnabledInlineTools]||!1}},{key:"enabledBlockTunes",get:function(){return this.config[f.UserSettings.EnabledBlockTunes]}},{key:"pasteConfig",get:function(){return this.constructable[f.InternalBlockToolSettings.PasteConfig]||{}}},{key:"sanitizeConfig",get:function(){var t=(0,s.default)((0,c.default)(e.prototype),"sanitizeConfig",this),i=this.baseSanitizeConfig;if(l.isEmpty(t))return i;var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=t[r];n[r]=l.isObject(o)?Object.assign({},i,o):o}return n}},{key:"baseSanitizeConfig",get:function(){var t={};return Array.from(this.inlineTools.values()).forEach((function(i){return Object.assign(t,i.sanitizeConfig)})),Array.from(this.tunes.values()).forEach((function(i){return Object.assign(t,i.sanitizeConfig)})),t}}]),e}(f.default);e.default=g,g.displayName="BlockTool",b([l.cacheable],g.prototype,"sanitizeConfig",null),b([l.cacheable],g.prototype,"baseSanitizeConfig",null),t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(15)],void 0===(o="function"==typeof(e=function(e,r,o,s){var a=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=a(r),o=a(o),s=a(s);var u=function(){function t(i){var n=i.api;(0,r.default)(this,t),this.CSS={button:"ce-settings__button",wrapper:"ce-tune-move-down",animation:"wobble"},this.api=n}return(0,o.default)(t,[{key:"render",value:function(){var t=this,i=s.default.make("div",[this.CSS.button,this.CSS.wrapper],{});return i.appendChild(s.default.svg("arrow-down",14,14)),this.api.listeners.on(i,"click",(function(n){return t.handleClick(n,i)}),!1),this.api.tooltip.onHover(i,this.api.i18n.t("Move down"),{hidingDelay:300}),i}},{key:"handleClick",value:function(t,i){var n=this,e=this.api.blocks.getCurrentBlockIndex(),r=this.api.blocks.getBlockByIndex(e+1);if(!r)return i.classList.add(this.CSS.animation),void window.setTimeout((function(){i.classList.remove(n.CSS.animation)}),500);var o=r.holder,s=o.getBoundingClientRect(),a=Math.abs(window.innerHeight-o.offsetHeight);s.top<window.innerHeight&&(a=window.scrollY+o.offsetHeight),window.scrollTo(0,a),this.api.blocks.move(e+1),this.api.tooltip.hide()}}]),t}();e.default=u,u.displayName="MoveDownTune",u.isTune=!0,t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(15)],void 0===(o="function"==typeof(e=function(e,r,o,s){var a=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=a(r),o=a(o),s=a(s);var u=function(){function t(i){var n=this,e=i.api;(0,r.default)(this,t),this.CSS={button:"ce-settings__button",buttonDelete:"ce-settings__button--delete",buttonConfirm:"ce-settings__button--confirm"},this.nodes={button:null},this.api=e,this.resetConfirmation=function(){n.setConfirmation(!1)}}return(0,o.default)(t,[{key:"render",value:function(){var t=this;return this.nodes.button=s.default.make("div",[this.CSS.button,this.CSS.buttonDelete],{}),this.nodes.button.appendChild(s.default.svg("cross",12,12)),this.api.listeners.on(this.nodes.button,"click",(function(i){return t.handleClick(i)}),!1),this.api.tooltip.onHover(this.nodes.button,this.api.i18n.t("Delete"),{hidingDelay:300}),this.nodes.button}},{key:"handleClick",value:function(t){this.needConfirmation?(this.api.events.off("block-settings-closed",this.resetConfirmation),this.api.blocks.delete(),this.api.toolbar.close(),this.api.tooltip.hide(),t.stopPropagation()):(this.setConfirmation(!0),this.api.events.on("block-settings-closed",this.resetConfirmation))}},{key:"setConfirmation",value:function(t){this.needConfirmation=t,this.nodes.button.classList.add(this.CSS.buttonConfirm)}}]),t}();e.default=u,u.displayName="DeleteTune",u.isTune=!0,t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){var e,r,o;r=[i,n(2),n(3),n(15)],void 0===(o="function"==typeof(e=function(e,r,o,s){var a=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=a(r),o=a(o),s=a(s);var u=function(){function t(i){var n=i.api;(0,r.default)(this,t),this.CSS={button:"ce-settings__button",wrapper:"ce-tune-move-up",animation:"wobble"},this.api=n}return(0,o.default)(t,[{key:"render",value:function(){var t=this,i=s.default.make("div",[this.CSS.button,this.CSS.wrapper],{});return i.appendChild(s.default.svg("arrow-up",14,14)),this.api.listeners.on(i,"click",(function(n){return t.handleClick(n,i)}),!1),this.api.tooltip.onHover(i,this.api.i18n.t("Move up"),{hidingDelay:300}),i}},{key:"handleClick",value:function(t,i){var n=this,e=this.api.blocks.getCurrentBlockIndex(),r=this.api.blocks.getBlockByIndex(e),o=this.api.blocks.getBlockByIndex(e-1);if(0===e||!r||!o)return i.classList.add(this.CSS.animation),void window.setTimeout((function(){i.classList.remove(n.CSS.animation)}),500);var s,a=o.holder,u=r.holder.getBoundingClientRect(),c=a.getBoundingClientRect();s=c.top>0?Math.abs(u.top)-Math.abs(c.top):window.innerHeight-Math.abs(u.top)+Math.abs(c.top),window.scrollBy(0,-1*s),this.api.blocks.move(e-1),this.api.tooltip.hide()}}]),t}();e.default=u,u.displayName="MoveUpTune",u.isTune=!0,t.exports=i.default})?e.apply(i,r):e)||(t.exports=o)},function(t,i,n){n.r(i),i.default='<?xml version="1.0" encoding="utf-8"?>\n<svg xmlns="http://www.w3.org/2000/svg">\n<symbol id="arrow-down" viewBox="0 0 14 14">\n  <path transform="matrix(1 0 0 -1 0 14)" d="M8.024 4.1v8.6a1.125 1.125 0 0 1-2.25 0V4.1L2.18 7.695A1.125 1.125 0 1 1 .59 6.104L6.103.588c.44-.439 1.151-.439 1.59 0l5.516 5.516a1.125 1.125 0 0 1-1.59 1.59L8.023 4.1z"/>\n\n</symbol>\n<symbol id="arrow-up" viewBox="0 0 14 14">\n    <path d="M8.024 4.1v8.6a1.125 1.125 0 0 1-2.25 0V4.1L2.18 7.695A1.125 1.125 0 1 1 .59 6.104L6.103.588c.44-.439 1.151-.439 1.59 0l5.516 5.516a1.125 1.125 0 0 1-1.59 1.59L8.023 4.1z"/>\n\n</symbol>\n<symbol id="bold" viewBox="0 0 12 14"><path d="M5.997 14H1.72c-.618 0-1.058-.138-1.323-.415C.132 13.308 0 12.867 0 12.262V1.738C0 1.121.135.676.406.406.676.136 1.114 0 1.719 0h4.536c.669 0 1.248.041 1.738.124.49.083.93.242 1.318.478a3.458 3.458 0 0 1 1.461 1.752c.134.366.2.753.2 1.16 0 1.401-.7 2.426-2.1 3.075 1.84.586 2.76 1.726 2.76 3.42 0 .782-.2 1.487-.602 2.114a3.61 3.61 0 0 1-1.623 1.39 5.772 5.772 0 0 1-1.471.377c-.554.073-1.2.11-1.939.11zm-.21-6.217h-2.95v4.087h3.046c1.916 0 2.874-.69 2.874-2.072 0-.707-.248-1.22-.745-1.537-.496-.319-1.238-.478-2.225-.478zM2.837 2.13v3.619h2.597c.707 0 1.252-.067 1.638-.2.385-.134.68-.389.883-.765.16-.267.239-.566.239-.897 0-.707-.252-1.176-.755-1.409-.503-.232-1.27-.348-2.301-.348H2.836z"/>\n</symbol>\n<symbol id="cross" viewBox="0 0 237 237">\n  <path transform="rotate(45 280.675 51.325)" d="M191 191V73c0-5.523 4.477-10 10-10h25c5.523 0 10 4.477 10 10v118h118c5.523 0 10 4.477 10 10v25c0 5.523-4.477 10-10 10H236v118c0 5.523-4.477 10-10 10h-25c-5.523 0-10-4.477-10-10V236H73c-5.523 0-10-4.477-10-10v-25c0-5.523 4.477-10 10-10h118z"/>\n\n</symbol>\n<symbol id="dots" viewBox="0 0 8 8">\n  <circle cx="6.5" cy="1.5" r="1.5"/>\n  <circle cx="6.5" cy="6.5" r="1.5"/>\n  <circle cx="1.5" cy="1.5" r="1.5"/>\n  <circle cx="1.5" cy="6.5" r="1.5"/>\n\n</symbol>\n<symbol id="italic" viewBox="0 0 4 11">\n    <path d="M3.289 4.17L2.164 9.713c-.078.384-.238.674-.48.87-.243.198-.52.296-.831.296-.312 0-.545-.1-.699-.302-.153-.202-.192-.49-.116-.864L1.15 4.225c.077-.38.232-.665.466-.857a1.25 1.25 0 01.818-.288c.312 0 .55.096.713.288.163.192.21.46.141.801zm-.667-2.09c-.295 0-.53-.09-.706-.273-.176-.181-.233-.439-.173-.77.055-.302.207-.55.457-.745C2.45.097 2.716 0 3 0c.273 0 .5.088.68.265.179.176.238.434.177.771-.06.327-.21.583-.45.767-.24.185-.502.277-.785.277z"/>\n\n</symbol>\n<symbol id="link" viewBox="0 0 14 10">\n  <path d="M6 0v2H5a3 3 0 000 6h1v2H5A5 5 0 115 0h1zm2 0h1a5 5 0 110 10H8V8h1a3 3 0 000-6H8V0zM5 4h4a1 1 0 110 2H5a1 1 0 110-2z"/>\n\n</symbol>\n<symbol id="plus" viewBox="0 0 14 14">\n    <path d="M8.05 5.8h4.625a1.125 1.125 0 0 1 0 2.25H8.05v4.625a1.125 1.125 0 0 1-2.25 0V8.05H1.125a1.125 1.125 0 0 1 0-2.25H5.8V1.125a1.125 1.125 0 0 1 2.25 0V5.8z"/>\n\n</symbol>\n<symbol id="sad-face" viewBox="0 0 52 52">\n    <path fill="#D76B6B" fill-rule="nonzero" d="M26 52C11.64 52 0 40.36 0 26S11.64 0 26 0s26 11.64 26 26-11.64 26-26 26zm0-3.25c12.564 0 22.75-10.186 22.75-22.75S38.564 3.25 26 3.25 3.25 13.436 3.25 26 13.436 48.75 26 48.75zM15.708 33.042a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm23.834 0a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm-15.875 5.452a1.083 1.083 0 1 1-1.834-1.155c1.331-2.114 3.49-3.179 6.334-3.179 2.844 0 5.002 1.065 6.333 3.18a1.083 1.083 0 1 1-1.833 1.154c-.913-1.45-2.366-2.167-4.5-2.167s-3.587.717-4.5 2.167z"/>\n\n</symbol>\n<symbol id="toggler-down">\n  <path d="M6.5 9.294a.792.792 0 01-.562-.232L2.233 5.356a.794.794 0 011.123-1.123L6.5 7.377l3.144-3.144a.794.794 0 011.123 1.123L7.062 9.062a.792.792 0 01-.562.232z"/>\n\n</symbol>\n<symbol id="unlink" viewBox="0 0 15 11">\n  <path d="M13.073 2.099l-1.448 1.448A3 3 0 009 2H8V0h1c1.68 0 3.166.828 4.073 2.099zM6.929 4l-.879.879L7.172 6H5a1 1 0 110-2h1.929zM6 0v2H5a3 3 0 100 6h1v2H5A5 5 0 115 0h1zm6.414 7l2.122 2.121-1.415 1.415L11 8.414l-2.121 2.122L7.464 9.12 9.586 7 7.464 4.879 8.88 3.464 11 5.586l2.121-2.122 1.415 1.415L12.414 7z"/>\n\n</symbol></svg>'},function(t){t.exports='.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide,.codex-editor__redactor--hidden{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff "}@media (min-width:651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width:651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor__loader{position:relative;height:30vh}.codex-editor__loader:before{content:"";position:absolute;left:50%;top:50%;width:30px;height:30px;margin-top:-15px;margin-left:-15px;border-radius:50%;border:2px solid rgba(201,201,204,.48);border-top-color:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-animation:editor-loader-spin .8s linear infinite;animation:editor-loader-spin .8s linear infinite;will-change:transform}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:rgba(46,170,220,.2);border:1px solid transparent}.codex-editor svg{fill:currentColor;vertical-align:middle;max-height:100%}::-moz-selection{background-color:#d4ecff}::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}@-webkit-keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,transform;display:none}@media (max-width:650px){.ce-toolbar{position:absolute;background-color:#fff;border:1px solid #eaeaea;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:4px;z-index:2}}@media (max-width:650px) and (max-width:650px){.ce-toolbar{-webkit-box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);border-bottom-color:#d5d7db}}@media (max-width:650px){.ce-toolbar{padding:3px;margin-top:5px}.ce-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar--opened{display:block}@media (max-width:650px){.ce-toolbar--opened{display:-webkit-box;display:-ms-flexbox;display:flex}}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}@media (max-width:650px){.ce-toolbar__content{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-line-pack:center;align-content:center;margin:0;max-width:calc(100% - 35px)}}.ce-toolbar__plus{color:#707684;cursor:pointer;width:34px;height:34px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;left:-34px;-ms-flex-negative:0;flex-shrink:0}.ce-toolbar__plus--active,.ce-toolbar__plus:hover{color:#388ae5}.ce-toolbar__plus--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}.ce-toolbar__plus--hidden{display:none}@media (max-width:650px){.ce-toolbar__plus{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important;position:static;-webkit-transform:none!important;transform:none!important}}.ce-toolbar .ce-toolbox,.ce-toolbar__plus{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.ce-toolbar__actions{position:absolute;right:-30px;top:5px;opacity:0}@media (max-width:650px){.ce-toolbar__actions{position:absolute;right:-28px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}}.ce-toolbar__actions--opened{opacity:1}.ce-toolbar__actions-buttons{text-align:right}.ce-toolbar__settings-btn{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:18px;height:18px;color:#707684;cursor:pointer;background:#eff2f5;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-toolbar__settings-btn:hover{color:#1d202b}@media (max-width:650px){.ce-toolbar__settings-btn{background:transparent}}@media (min-width:651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}.ce-toolbox{position:absolute;visibility:hidden;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}@media (max-width:650px){.ce-toolbox{position:static;-webkit-transform:none!important;transform:none!important;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow-x:auto}}.ce-toolbox--opened{opacity:1;visibility:visible}.ce-toolbox__button{color:#707684;cursor:pointer;width:34px;height:34px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-negative:0;flex-shrink:0}.ce-toolbox__button--active,.ce-toolbox__button:hover{color:#388ae5}.ce-toolbox__button--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbox-button-tooltip__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}@media (min-width:651px){.codex-editor--narrow .ce-toolbox{background:#fff;z-index:2}}.ce-inline-toolbar{position:absolute;background-color:#fff;border:1px solid #eaeaea;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:4px;z-index:2}@media (max-width:650px){.ce-inline-toolbar{-webkit-box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);border-bottom-color:#d5d7db}}.ce-inline-toolbar{-webkit-transform:translateX(-50%) translateY(8px) scale(.9);transform:translateX(-50%) translateY(8px) scale(.9);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.9);transform:translateX(-23px) translateY(8px) scale(.9)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translateX(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.9);transform:translateX(-100%) translateY(8px) scale(.9);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translateX(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{width:100%;padding:0 6px}.ce-inline-toolbar__buttons,.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;height:34px;padding:0 9px 0 10px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48)}.ce-inline-toolbar__dropdown:hover{background:#eff2f5}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content{display:-webkit-box;display:-ms-flexbox;display:flex;font-weight:500;font-size:14px}.ce-inline-toolbar__dropdown-content svg{height:12px}.ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:4px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#000;margin:0}.ce-inline-tool:hover{background-color:#eff2f5}.ce-inline-tool{border-radius:0;line-height:normal;width:auto;padding:0 5px!important;min-width:24px}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool:not(:last-of-type){margin-right:2px}.ce-inline-tool .icon{height:12px}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48)}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #eaeaea;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:4px;z-index:2}@media (max-width:650px){.ce-conversion-toolbar{-webkit-box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);border-bottom-color:#d5d7db}}.ce-conversion-toolbar{opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:150px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:20px;height:20px;border:1px solid rgba(201,201,204,.48);border-radius:3px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px;background:#fff}.ce-conversion-tool__icon svg{width:11px;height:11px}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-settings{position:absolute;background-color:#fff;border:1px solid #eaeaea;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:4px;z-index:2}@media (max-width:650px){.ce-settings{-webkit-box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);border-bottom-color:#d5d7db}}.ce-settings{right:-1px;top:30px;min-width:114px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-settings--left-oriented:before{left:15px;margin-left:0}.ce-settings--right-oriented:before{left:auto;right:15px;margin-left:0}@media (max-width:650px){.ce-settings{bottom:40px;right:-11px;top:auto}}.ce-settings:before{left:auto;right:12px}@media (max-width:650px){.ce-settings:before{bottom:-5px;top:auto}}.ce-settings{display:none}.ce-settings--opened{display:block;-webkit-animation-duration:.1s;animation-duration:.1s;-webkit-animation-name:panelShowing;animation-name:panelShowing}.ce-settings__plugin-zone:not(:empty){padding:3px 3px 0}.ce-settings__default-zone:not(:empty){padding:3px}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#000;margin:0}.ce-settings__button:hover{background-color:#eff2f5}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button{line-height:32px}.ce-settings__button--disabled{cursor:not-allowed!important;opacity:.3}.ce-settings__button--selected{color:#388ae5}.ce-settings__button--delete{-webkit-transition:background-color .3s ease;transition:background-color .3s ease;will-change:background-color}.ce-settings__button--delete .icon{-webkit-transition:-webkit-transform .2s ease-out;transition:-webkit-transform .2s ease-out;transition:transform .2s ease-out;transition:transform .2s ease-out,-webkit-transform .2s ease-out;will-change:transform}.ce-settings__button--confirm{background-color:#e24a4a!important;color:#fff}.ce-settings__button--confirm:hover{background-color:#d54a4a!important}.ce-settings__button--confirm .icon{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content .ce-stub,.ce-block--selected .ce-block__content img{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388ae5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388ae5,#388ae5 1px,#fff 0,#fff 6px)}.ce-block a{cursor:pointer;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width:651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-5%,0,0) rotate(-5deg);transform:translate3d(-5%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(2%,0,0) rotate(3deg);transform:translate3d(2%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-3%,0,0) rotate(-3deg);transform:translate3d(-3%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(2%,0,0) rotate(2deg);transform:translate3d(2%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-1%,0,0) rotate(-1deg);transform:translate3d(-1%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-5%,0,0) rotate(-5deg);transform:translate3d(-5%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(2%,0,0) rotate(3deg);transform:translate3d(2%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-3%,0,0) rotate(-3deg);transform:translate3d(-3%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(2%,0,0) rotate(2deg);transform:translate3d(2%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-1%,0,0) rotate(-1deg);transform:translate3d(-1%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.cdx-block{padding:.4em 0}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important;display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#000;margin:0}.cdx-settings-button:hover{background-color:#eff2f5}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button:not(:nth-child(3n+3)){margin-right:3px}.cdx-settings-button:nth-child(n+4){margin-top:3px}.cdx-settings-button--active{color:#388ae5}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s linear infinite;animation:cdxRotation 1.2s linear infinite}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px 0 rgba(18,30,57,.04);color:#707684;text-align:center;cursor:pointer}.cdx-button:hover{background:#fbfcfe;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px 0 rgba(18,30,57,.08)}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:3.5em 0;margin:17px 0;border-radius:3px;background:#fcf7f7;color:#b46262}.ce-stub__info{margin-left:20px}.ce-stub__title{margin-bottom:3px;font-weight:600;font-size:18px;text-transform:capitalize}.ce-stub__subtitle{font-size:16px}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-34px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-34px}@media (max-width:650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0 solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}'},function(t,i,n){n.r(i),n.d(i,"nanoid",(function(){return a})),n.d(i,"customAlphabet",(function(){return s})),n.d(i,"customRandom",(function(){return o})),n.d(i,"urlAlphabet",(function(){return e})),n.d(i,"random",(function(){return r}));let e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",r=t=>crypto.getRandomValues(new Uint8Array(t)),o=(t,i,n)=>{let e=(2<<Math.log(t.length-1)/Math.LN2)-1,r=-~(1.6*e*i/t.length);return()=>{let o="";for(;;){let s=n(r),a=r;for(;a--;)if(o+=t[s[a]&e]||"",o.length===i)return o}}},s=(t,i)=>o(t,i,r),a=(t=21)=>{let i="",n=crypto.getRandomValues(new Uint8Array(t));for(;t--;){let e=63&n[t];i+=e<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e<63?"_":"-"}return i}}])}))),ui=ei(ri((function(t){window,t.exports=function(t){var i={};function n(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=i,n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,i){if(1&i&&(t=n(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)n.d(e,r,function(i){return t[i]}.bind(null,r));return e},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="/",n(n.s=25)}([function(t){function i(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}t.exports=function(t,n,e){return n&&i(t.prototype,n),e&&i(t,e),t}},function(t){t.exports=function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}},function(t){t.exports=function(t){var i={};function n(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=i,n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,i){if(1&i&&(t=n(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)n.d(e,r,function(i){return t[i]}.bind(null,r));return e},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="",n(n.s=3)}([function(t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,i,n){(function(t){var e=n(2),r=setTimeout;function o(){}function s(t){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function a(t,i){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,s._immediateFn((function(){var n=1===t._state?i.onFulfilled:i.onRejected;if(null!==n){var e;try{e=n(t._value)}catch(t){return void c(i.promise,t)}u(i.promise,e)}else(1===t._state?u:c)(i.promise,t._value)}))):t._deferreds.push(i)}function u(t,i){try{if(i===t)throw new TypeError("A promise cannot be resolved with itself.");if(i&&("object"==typeof i||"function"==typeof i)){var n=i.then;if(i instanceof s)return t._state=3,t._value=i,void h(t);if("function"==typeof n)return void l((e=n,r=i,function(){e.apply(r,arguments)}),t)}t._state=1,t._value=i,h(t)}catch(i){c(t,i)}var e,r}function c(t,i){t._state=2,t._value=i,h(t)}function h(t){2===t._state&&0===t._deferreds.length&&s._immediateFn((function(){t._handled||s._unhandledRejectionFn(t._value)}));for(var i=0,n=t._deferreds.length;i<n;i++)a(t,t._deferreds[i]);t._deferreds=null}function f(t,i,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof i?i:null,this.promise=n}function l(t,i){var n=!1;try{t((function(t){n||(n=!0,u(i,t))}),(function(t){n||(n=!0,c(i,t))}))}catch(t){if(n)return;n=!0,c(i,t)}}s.prototype.catch=function(t){return this.then(null,t)},s.prototype.then=function(t,i){var n=new this.constructor(o);return a(this,new f(t,i,n)),n},s.prototype.finally=e.a,s.all=function(t){return new s((function(i,n){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var e=Array.prototype.slice.call(t);if(0===e.length)return i([]);var r=e.length;function o(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(i){o(t,i)}),n)}e[t]=s,0==--r&&i(e)}catch(t){n(t)}}for(var s=0;s<e.length;s++)o(s,e[s])}))},s.resolve=function(t){return t&&"object"==typeof t&&t.constructor===s?t:new s((function(i){i(t)}))},s.reject=function(t){return new s((function(i,n){n(t)}))},s.race=function(t){return new s((function(i,n){for(var e=0,r=t.length;e<r;e++)t[e].then(i,n)}))},s._immediateFn="function"==typeof t&&function(i){t(i)}||function(t){r(t,0)},s._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},i.a=s}).call(this,n(5).setImmediate)},function(t,i){i.a=function(t){var i=this.constructor;return this.then((function(n){return i.resolve(t()).then((function(){return n}))}),(function(n){return i.resolve(t()).then((function(){return i.reject(n)}))}))}},function(t,i,n){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n(4);var r,o,s,a,u,c,h,f=n(8),l=(o=function(t){return new Promise((function(i,n){t=a(t),(t=u(t)).beforeSend&&t.beforeSend();var e=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");e.open(t.method,t.url),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(t.headers).forEach((function(i){e.setRequestHeader(i,t.headers[i])}));var r=t.ratio;e.upload.addEventListener("progress",(function(i){var n=Math.round(i.loaded/i.total*100),e=Math.ceil(n*r/100);t.progress(Math.min(e,100))}),!1),e.addEventListener("progress",(function(i){var n=Math.round(i.loaded/i.total*100),e=Math.ceil(n*(100-r)/100)+r;t.progress(Math.min(e,100))}),!1),e.onreadystatechange=function(){if(4===e.readyState){var t=e.response;try{t=JSON.parse(t)}catch(t){}var r=f.parseHeaders(e.getAllResponseHeaders()),o={body:t,code:e.status,headers:r};h(e.status)?i(o):n(o)}},e.send(t.data)}))},s=function(t){return t.method="POST",o(t)},a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.url&&"string"!=typeof t.url)throw new Error("Url must be a string");if(t.url=t.url||"",t.method&&"string"!=typeof t.method)throw new Error("`method` must be a string or null");if(t.method=t.method?t.method.toUpperCase():"GET",t.headers&&"object"!==e(t.headers))throw new Error("`headers` must be an object or null");if(t.headers=t.headers||{},t.type&&("string"!=typeof t.type||!Object.values(r).includes(t.type)))throw new Error("`type` must be taken from module's «contentType» library");if(t.progress&&"function"!=typeof t.progress)throw new Error("`progress` must be a function or null");if(t.progress=t.progress||function(){},t.beforeSend=t.beforeSend||function(){},t.ratio&&"number"!=typeof t.ratio)throw new Error("`ratio` must be a number");if(t.ratio<0||t.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(t.ratio=t.ratio||90,t.accept&&"string"!=typeof t.accept)throw new Error("`accept` must be a string with a list of allowed mime-types");if(t.accept=t.accept||"*/*",t.multiple&&"boolean"!=typeof t.multiple)throw new Error("`multiple` must be a true or false");if(t.multiple=t.multiple||!1,t.fieldName&&"string"!=typeof t.fieldName)throw new Error("`fieldName` must be a string");return t.fieldName=t.fieldName||"files",t},u=function(t){switch(t.method){case"GET":var i=c(t.data,r.URLENCODED);delete t.data,t.url=/\?/.test(t.url)?t.url+"&"+i:t.url+"?"+i;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var n=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).type||r.JSON}(t);(f.isFormData(t.data)||f.isFormElement(t.data))&&(n=r.FORM),t.data=c(t.data,n),n!==l.contentType.FORM&&(t.headers["content-type"]=n)}return t},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case r.URLENCODED:return f.urlEncode(t);case r.JSON:return f.jsonEncode(t);case r.FORM:return f.formEncode(t);default:return t}},h=function(t){return t>=200&&t<300},{contentType:r={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:o,get:function(t){return t.method="GET",o(t)},post:s,transport:function(t){return t=a(t),f.selectFiles(t).then((function(i){for(var n=new FormData,e=0;e<i.length;e++)n.append(t.fieldName,i[e],i[e].name);f.isObject(t.data)&&Object.keys(t.data).forEach((function(i){n.append(i,t.data[i])}));var r=t.beforeSend;return t.beforeSend=function(){return r(i)},t.data=n,s(t)}))},selectFiles:function(t){return delete(t=a(t)).beforeSend,f.selectFiles(t)}});t.exports=l},function(t,i,n){n.r(i);var e=n(1);window.Promise=window.Promise||e.a},function(t,i,n){(function(t){var e=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(t,i){this._id=t,this._clearFn=i}i.setTimeout=function(){return new o(r.call(setTimeout,e,arguments),clearTimeout)},i.setInterval=function(){return new o(r.call(setInterval,e,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(e,this._id)},i.enroll=function(t,i){clearTimeout(t._idleTimeoutId),t._idleTimeout=i},i.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},i._unrefActive=i.active=function(t){clearTimeout(t._idleTimeoutId);var i=t._idleTimeout;i>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),i))},n(6),i.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,i.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(0))},function(t,i,n){(function(t,i){!function(t){if(!t.setImmediate){var n,e,r,o,s,a=1,u={},c=!1,h=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?n=function(t){i.nextTick((function(){d(t)}))}:function(){if(t.postMessage&&!t.importScripts){var i=!0,n=t.onmessage;return t.onmessage=function(){i=!1},t.postMessage("","*"),t.onmessage=n,i}}()?(o="setImmediate$"+Math.random()+"$",s=function(i){i.source===t&&"string"==typeof i.data&&0===i.data.indexOf(o)&&d(+i.data.slice(o.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),n=function(i){t.postMessage(o+i,"*")}):t.MessageChannel?((r=new MessageChannel).port1.onmessage=function(t){d(t.data)},n=function(t){r.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(e=h.documentElement,n=function(t){var i=h.createElement("script");i.onreadystatechange=function(){d(t),i.onreadystatechange=null,e.removeChild(i),i=null},e.appendChild(i)}):n=function(t){setTimeout(d,0,t)},f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var i=new Array(arguments.length-1),e=0;e<i.length;e++)i[e]=arguments[e+1];return u[a]={callback:t,args:i},n(a),a++},f.clearImmediate=l}function l(t){delete u[t]}function d(t){if(c)setTimeout(d,0,t);else{var i=u[t];if(i){c=!0;try{!function(t){var i=t.callback,n=t.args;switch(n.length){case 0:i();break;case 1:i(n[0]);break;case 2:i(n[0],n[1]);break;case 3:i(n[0],n[1],n[2]);break;default:i.apply(void 0,n)}}(i)}finally{l(t),c=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(0),n(7))},function(t){var i,n,e=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(i===setTimeout)return setTimeout(t,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(n){try{return i.call(null,t,0)}catch(n){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:r}catch(t){i=r}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var a,u=[],c=!1,h=-1;function f(){c&&a&&(c=!1,a.length?u=a.concat(u):h=-1,u.length&&l())}function l(){if(!c){var t=s(f);c=!0;for(var i=u.length;i;){for(a=u,u=[];++h<i;)a&&a[h].run();h=-1,i=u.length}a=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(i){try{return n.call(null,t)}catch(i){return n.call(this,t)}}}(t)}}function d(t,i){this.fun=t,this.array=i}function v(){}e.nextTick=function(t){var i=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)i[n-1]=arguments[n];u.push(new d(t,i)),1!==u.length||c||s(l)},d.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=v,e.addListener=v,e.once=v,e.off=v,e.removeListener=v,e.removeAllListeners=v,e.emit=v,e.prependListener=v,e.prependOnceListener=v,e.listeners=function(){return[]},e.binding=function(){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(t,i,n){var e=n(9);t.exports=function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t)}var i;return(i=[{key:"urlEncode",value:function(t){return e(t)}},{key:"jsonEncode",value:function(t){return JSON.stringify(t)}},{key:"formEncode",value:function(t){if(this.isFormData(t))return t;if(this.isFormElement(t))return new FormData(t);if(this.isObject(t)){var i=new FormData;return Object.keys(t).forEach((function(n){i.append(n,t[n])})),i}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(t){return"[object Object]"===Object.prototype.toString.call(t)}},{key:"isFormData",value:function(t){return t instanceof FormData}},{key:"isFormElement",value:function(t){return t instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(i){var n=document.createElement("INPUT");n.type="file",t.multiple&&n.setAttribute("multiple","multiple"),t.accept&&n.setAttribute("accept",t.accept),n.style.display="none",document.body.appendChild(n),n.addEventListener("change",(function(t){i(t.target.files),document.body.removeChild(n)}),!1),n.click()}))}},{key:"parseHeaders",value:function(t){var i=t.trim().split(/[\r\n]+/),n={};return i.forEach((function(t){var i=t.split(": "),e=i.shift(),r=i.join(": ");e&&(n[e]=r)})),n}}])&&function(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}(t,i),t}()},function(t){var i=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},n=function(t,e,r,o){return e=e||null,r=r||"&",o=o||null,t?function(t){for(var i=new Array,n=0;n<t.length;n++)t[n]&&i.push(t[n]);return i}(Object.keys(t).map((function(s){var a,u,c=s;if(o&&(c=o+"["+c+"]"),"object"==typeof t[s]&&null!==t[s])a=n(t[s],null,r,c);else{e&&(u=c,c=!isNaN(parseFloat(u))&&isFinite(u)?e+Number(c):c);var h=t[s];h=(h=0===(h=!1===(h=!0===h?"1":h)?"0":h)?"0":h)||"",a=i(c)+"="+i(h)}return a}))).join(r).replace(/[!'()*]/g,""):""};t.exports=n}])},function(t,i,n){t.exports=n(14)},function(t){t.exports=function(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,e=new Array(i);n<i;n++)e[n]=t[n];return e}},function(t,i,n){var e=n(4);t.exports=function(t,i){if(t){if("string"==typeof t)return e(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,i):void 0}}},function(t){function i(t,i,n,e,r,o,s){try{var a=t[o](s),u=a.value}catch(t){return void n(t)}a.done?i(u):Promise.resolve(u).then(e,r)}t.exports=function(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var s=t.apply(n,e);function a(t){i(s,r,o,a,u,"next",t)}function u(t){i(s,r,o,a,u,"throw",t)}a(void 0)}))}}},function(t,i,n){var e=n(19),r=n(20),o=n(5),s=n(21);t.exports=function(t){return e(t)||r(t)||o(t)||s()}},function(t){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.15 13.628A7.749 7.749 0 0 0 10 17.75a7.74 7.74 0 0 0 6.305-3.242l-2.387-2.127-2.765 2.244-4.389-4.496-3.614 3.5zm-.787-2.303l4.446-4.371 4.52 4.63 2.534-2.057 3.533 2.797c.23-.734.354-1.514.354-2.324a7.75 7.75 0 1 0-15.387 1.325zM10 20C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10-4.477 10-10 10z"></path></svg>'},function(t){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.043 8.265l3.183-3.183h-2.924L4.75 10.636v2.923l4.15-4.15v2.351l-2.158 2.159H8.9v2.137H4.7c-1.215 0-2.2-.936-2.2-2.09v-8.93c0-1.154.985-2.09 2.2-2.09h10.663l.033-.033.034.034c1.178.04 2.12.96 2.12 2.089v3.23H15.3V5.359l-2.906 2.906h-2.35zM7.951 5.082H4.75v3.201l3.201-3.2zm5.099 7.078v3.04h4.15v-3.04h-4.15zm-1.1-2.137h6.35c.635 0 1.15.489 1.15 1.092v5.13c0 .603-.515 1.092-1.15 1.092h-6.35c-.635 0-1.15-.489-1.15-1.092v-5.13c0-.603.515-1.092 1.15-1.092z"></path></svg>'},function(t){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.8 10.592v2.043h2.35v2.138H15.8v2.232h-2.25v-2.232h-2.4v-2.138h2.4v-2.28h2.25v.237h1.15-1.15zM1.9 8.455v-3.42c0-1.154.985-2.09 2.2-2.09h4.2v2.137H4.15v3.373H1.9zm0 2.137h2.25v3.325H8.3v2.138H4.1c-1.215 0-2.2-.936-2.2-2.09v-3.373zm15.05-2.137H14.7V5.082h-4.15V2.945h4.2c1.215 0 2.2.936 2.2 2.09v3.42z"></path></svg>'},function(t){t.exports='<svg width="17" height="10" viewBox="0 0 17 10" xmlns="http://www.w3.org/2000/svg"><path d="M13.568 5.925H4.056l1.703 1.703a1.125 1.125 0 0 1-1.59 1.591L.962 6.014A1.069 1.069 0 0 1 .588 4.26L4.38.469a1.069 1.069 0 0 1 1.512 1.511L4.084 3.787h9.606l-1.85-1.85a1.069 1.069 0 1 1 1.512-1.51l3.792 3.791a1.069 1.069 0 0 1-.475 1.788L13.514 9.16a1.125 1.125 0 0 1-1.59-1.591l1.644-1.644z"></path></svg>'},function(t){t.exports='<svg width="17" height="15" viewBox="0 0 336 276" xmlns="http://www.w3.org/2000/svg"><path d="M291 150.242V79c0-18.778-15.222-34-34-34H79c-18.778 0-34 15.222-34 34v42.264l67.179-44.192 80.398 71.614 56.686-29.14L291 150.242zm-.345 51.622l-42.3-30.246-56.3 29.884-80.773-66.925L45 174.187V197c0 18.778 15.222 34 34 34h178c17.126 0 31.295-12.663 33.655-29.136zM79 0h178c43.63 0 79 35.37 79 79v118c0 43.63-35.37 79-79 79H79c-43.63 0-79-35.37-79-79V79C0 35.37 35.37 0 79 0z"></path></svg>'},function(t,i,n){var e=n(22),r=n(23),o=n(5),s=n(24);t.exports=function(t,i){return e(t)||r(t,i)||o(t,i)||s()}},function(t){var i=function(t){var i=Object.prototype,n=i.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.asyncIterator||"@@asyncIterator",s=e.toStringTag||"@@toStringTag";function a(t,i,n,e){var r=Object.create((i&&i.prototype instanceof h?i:h).prototype),o=new k(e||[]);return r._invoke=function(t,i,n){var e="suspendedStart";return function(r,o){if("executing"===e)throw new Error("Generator is already running");if("completed"===e){if("throw"===r)throw o;return{value:void 0,done:!0}}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=y(s,n);if(a){if(a===c)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===e)throw e="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);e="executing";var h=u(t,i,n);if("normal"===h.type){if(e=n.done?"completed":"suspendedYield",h.arg===c)continue;return{value:h.arg,done:n.done}}"throw"===h.type&&(e="completed",n.method="throw",n.arg=h.arg)}}}(t,n,o),r}function u(t,i,n){try{return{type:"normal",arg:t.call(i,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var c={};function h(){}function f(){}function l(){}var d={};d[r]=function(){return this};var v=Object.getPrototypeOf,p=v&&v(v(_([])));p&&p!==i&&n.call(p,r)&&(d=p);var m=l.prototype=h.prototype=Object.create(d);function b(t){["next","throw","return"].forEach((function(i){t[i]=function(t){return this._invoke(i,t)}}))}function g(t,i){var e;this._invoke=function(r,o){function s(){return new i((function(e,s){!function e(r,o,s,a){var c=u(t[r],t,o);if("throw"!==c.type){var h=c.arg,f=h.value;return f&&"object"==typeof f&&n.call(f,"__await")?i.resolve(f.__await).then((function(t){e("next",t,s,a)}),(function(t){e("throw",t,s,a)})):i.resolve(f).then((function(t){h.value=t,s(h)}),(function(t){return e("throw",t,s,a)}))}a(c.arg)}(r,o,e,s)}))}return e=e?e.then(s,s):s()}}function y(t,i){var n=t.iterator[i.method];if(void 0===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=void 0,y(t,i),"throw"===i.method))return c;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var e=u(n,t.iterator,i.arg);if("throw"===e.type)return i.method="throw",i.arg=e.arg,i.delegate=null,c;var r=e.arg;return r?r.done?(i[t.resultName]=r.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=void 0),i.delegate=null,c):r:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,c)}function w(t){var i={tryLoc:t[0]};1 in t&&(i.catchLoc=t[1]),2 in t&&(i.finallyLoc=t[2],i.afterLoc=t[3]),this.tryEntries.push(i)}function x(t){var i=t.completion||{};i.type="normal",delete i.arg,t.completion=i}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function _(t){if(t){var i=t[r];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,o=function i(){for(;++e<t.length;)if(n.call(t,e))return i.value=t[e],i.done=!1,i;return i.value=void 0,i.done=!0,i};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return f.prototype=m.constructor=l,l.constructor=f,l[s]=f.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var i="function"==typeof t&&t.constructor;return!!i&&(i===f||"GeneratorFunction"===(i.displayName||i.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(g.prototype),g.prototype[o]=function(){return this},t.AsyncIterator=g,t.async=function(i,n,e,r,o){void 0===o&&(o=Promise);var s=new g(a(i,n,e,r),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},b(m),m[s]="Generator",m[r]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var i=[];for(var n in t)i.push(n);return i.reverse(),function n(){for(;i.length;){var e=i.pop();if(e in t)return n.value=e,n.done=!1,n}return n.done=!0,n}},t.values=_,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function e(n,e){return s.type="throw",s.arg=t,i.next=n,e&&(i.method="next",i.arg=void 0),!!e}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,i){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=i&&i<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=i,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(s)},complete:function(t,i){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&i&&(this.next=i),c},finish:function(t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),c}},catch:function(t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc===t){var e=n.completion;if("throw"===e.type){var r=e.arg;x(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:_(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},t}(t.exports);try{regeneratorRuntime=i}catch(t){Function("r","regeneratorRuntime = r")(i)}},function(t,i,n){var e=n(16),r=n(17);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var o=(e(r,{insert:"head",singleton:!1}),r.locals?r.locals:{});t.exports=o},function(t,i,n){var e,r=function(){var t={};return function(i){if(void 0===t[i]){var n=document.querySelector(i);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[i]=n}return t[i]}}(),o=[];function s(t){for(var i=-1,n=0;n<o.length;n++)if(o[n].identifier===t){i=n;break}return i}function a(t,i){for(var n={},e=[],r=0;r<t.length;r++){var a=t[r],u=i.base?a[0]+i.base:a[0],c=n[u]||0,h="".concat(u," ").concat(c);n[u]=c+1;var f=s(h),l={css:a[1],media:a[2],sourceMap:a[3]};-1!==f?(o[f].references++,o[f].updater(l)):o.push({identifier:h,updater:p(l,i),references:1}),e.push(h)}return e}function u(t){var i=document.createElement("style"),e=t.attributes||{};if(void 0===e.nonce){var o=n.nc;o&&(e.nonce=o)}if(Object.keys(e).forEach((function(t){i.setAttribute(t,e[t])})),"function"==typeof t.insert)t.insert(i);else{var s=r(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(i)}return i}var c,h=(c=[],function(t,i){return c[t]=i,c.filter(Boolean).join("\n")});function f(t,i,n,e){var r=n?"":e.media?"@media ".concat(e.media," {").concat(e.css,"}"):e.css;if(t.styleSheet)t.styleSheet.cssText=h(i,r);else{var o=document.createTextNode(r),s=t.childNodes;s[i]&&t.removeChild(s[i]),s.length?t.insertBefore(o,s[i]):t.appendChild(o)}}function l(t,i,n){var e=n.css,r=n.media,o=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),o&&btoa&&(e+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}var d=null,v=0;function p(t,i){var n,e,r;if(i.singleton){var o=v++;n=d||(d=u(i)),e=f.bind(null,n,o,!1),r=f.bind(null,n,o,!0)}else n=u(i),e=l.bind(null,n,i),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else r()}}t.exports=function(t,i){(i=i||{}).singleton||"boolean"==typeof i.singleton||(i.singleton=(void 0===e&&(e=Boolean(window&&document&&document.all&&!window.atob)),e));var n=a(t=t||[],i);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var e=0;e<n.length;e++){var r=s(n[e]);o[r].references--}for(var u=a(t,i),c=0;c<n.length;c++){var h=s(n[c]);0===o[h].references&&(o[h].updater(),o.splice(h,1))}n=u}}}},function(t,i,n){(i=n(18)(!1)).push([t.i,'.image-tool {\n  --bg-color: #cdd1e0;\n  --front-color: #388ae5;\n  --border-color: #e8e8eb;\n}\n\n  .image-tool__image {\n    border-radius: 3px;\n    overflow: hidden;\n    margin-bottom: 10px;\n  }\n\n  .image-tool__image-picture {\n      max-width: 100%;\n      vertical-align: bottom;\n      display: block;\n    }\n\n  .image-tool__image-preloader {\n      width: 50px;\n      height: 50px;\n      border-radius: 50%;\n      background-size: cover;\n      margin: auto;\n      position: relative;\n      background-color: var(--bg-color);\n      background-position: center center;\n    }\n\n  .image-tool__image-preloader::after {\n        content: "";\n        position: absolute;\n        z-index: 3;\n        width: 60px;\n        height: 60px;\n        border-radius: 50%;\n        border: 2px solid var(--bg-color);\n        border-top-color: var(--front-color);\n        left: 50%;\n        top: 50%;\n        margin-top: -30px;\n        margin-left: -30px;\n        animation: image-preloader-spin 2s infinite linear;\n        box-sizing: border-box;\n      }\n\n  .image-tool__caption[contentEditable="true"][data-placeholder]::before {\n      position: absolute !important;\n      content: attr(data-placeholder);\n      color: #707684;\n      font-weight: normal;\n      display: none;\n    }\n\n  .image-tool__caption[contentEditable="true"][data-placeholder]:empty::before {\n        display: block;\n      }\n\n  .image-tool__caption[contentEditable="true"][data-placeholder]:empty:focus::before {\n        display: none;\n      }\n\n  .image-tool--empty .image-tool__image {\n      display: none;\n    }\n\n  .image-tool--empty .image-tool__caption, .image-tool--loading .image-tool__caption {\n      display: none;\n    }\n\n  .image-tool--filled .cdx-button {\n      display: none;\n    }\n\n  .image-tool--filled .image-tool__image-preloader {\n        display: none;\n      }\n\n  .image-tool--loading .image-tool__image {\n      min-height: 200px;\n      display: flex;\n      border: 1px solid var(--border-color);\n      background-color: #fff;\n    }\n\n  .image-tool--loading .image-tool__image-picture {\n        display: none;\n      }\n\n  .image-tool--loading .cdx-button {\n      display: none;\n    }\n\n  /**\n   * Tunes\n   * ----------------\n   */\n\n  .image-tool--withBorder .image-tool__image {\n      border: 1px solid var(--border-color);\n    }\n\n  .image-tool--withBackground .image-tool__image {\n      padding: 15px;\n      background: var(--bg-color);\n    }\n\n  .image-tool--withBackground .image-tool__image-picture {\n        max-width: 60%;\n        margin: 0 auto;\n      }\n\n  .image-tool--stretched .image-tool__image-picture {\n        width: 100%;\n      }\n\n@keyframes image-preloader-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n',""]),t.exports=i},function(t){t.exports=function(t){var i=[];return i.toString=function(){return this.map((function(i){var n=function(t,i){var n,e,r=t[1]||"",o=t[3];if(!o)return r;if(i&&"function"==typeof btoa){var s=(n=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),e="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(e," */")),a=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[r].concat(a).concat([s]).join("\n")}return[r].join("\n")}(i,t);return i[2]?"@media ".concat(i[2]," {").concat(n,"}"):n})).join("")},i.i=function(t,n,e){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(e)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var a=0;a<t.length;a++){var u=[].concat(t[a]);e&&r[u[0]]||(n&&(u[2]=u[2]?"".concat(n," and ").concat(u[2]):n),i.push(u))}},i}},function(t,i,n){var e=n(4);t.exports=function(t){if(Array.isArray(t))return e(t)}},function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t){t.exports=function(t){if(Array.isArray(t))return t}},function(t){t.exports=function(t,i){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],e=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(e=(s=a.next()).done)&&(n.push(s.value),!i||n.length!==i);e=!0);}catch(t){r=!0,o=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw o}}return n}}},function(t){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,i,n){n.r(i),n.d(i,"default",(function(){return j}));var e=n(3),r=n.n(e),o=n(6),s=n.n(o),a=n(1),u=n.n(a),c=n(0),h=n.n(c),f=(n(15),n(7)),l=n.n(f),d=n(8),v=n.n(d),p=function(){function t(i){var n=i.api,e=i.config,r=i.onSelectFile,o=i.readOnly;u()(this,t),this.api=n,this.config=e,this.onSelectFile=r,this.readOnly=o,this.nodes={wrapper:m("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:m("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:m("div",this.CSS.imagePreloader),caption:m("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}return h()(t,[{key:"render",value:function(i){return i.file&&0!==Object.keys(i.file).length?this.toggleStatus(t.status.UPLOADING):this.toggleStatus(t.status.EMPTY),this.nodes.wrapper}},{key:"createFileButton",value:function(){var t=this,i=m("div",[this.CSS.button]);return i.innerHTML=this.config.buttonContent||"".concat(v.a," ").concat(this.api.i18n.t("Select an Image")),i.addEventListener("click",(function(){t.onSelectFile()})),i}},{key:"showPreloader",value:function(i){this.nodes.imagePreloader.style.backgroundImage="url(".concat(i,")"),this.toggleStatus(t.status.UPLOADING)}},{key:"hidePreloader",value:function(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus(t.status.EMPTY)}},{key:"fillImage",value:function(i){var n=this,e=/\.mp4$/.test(i)?"VIDEO":"IMG",r={src:i},o="load";"VIDEO"===e&&(r.autoplay=!0,r.loop=!0,r.muted=!0,r.playsinline=!0,o="loadeddata"),this.nodes.imageEl=m(e,this.CSS.imageEl,r),this.nodes.imageEl.addEventListener(o,(function(){n.toggleStatus(t.status.FILLED),n.nodes.imagePreloader&&(n.nodes.imagePreloader.style.backgroundImage="")})),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}},{key:"fillCaption",value:function(t){this.nodes.caption&&(this.nodes.caption.innerHTML=t)}},{key:"toggleStatus",value:function(i){for(var n in t.status)Object.prototype.hasOwnProperty.call(t.status,n)&&this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(t.status[n]),i===t.status[n])}},{key:"applyTune",value:function(t,i){this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(t),i)}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}}],[{key:"status",get:function(){return{EMPTY:"empty",UPLOADING:"loading",FILLED:"filled"}}}]),t}(),m=function(t){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=document.createElement(t);for(var o in Array.isArray(n)?(i=r.classList).add.apply(i,l()(n)):n&&r.classList.add(n),e)r[o]=e[o];return r},b=n(9),g=n.n(b),y=n(10),w=n.n(y),x=n(11),k=n.n(x),_=function(){function t(i){var n=i.api,e=i.actions,r=i.onChange;u()(this,t),this.api=n,this.actions=e,this.onChange=r,this.buttons=[]}return h()(t,[{key:"render",value:function(i){var n=this,e=m("div",this.CSS.wrapper);return this.buttons=[],t.tunes.concat(this.actions).forEach((function(t){var r=n.api.i18n.t(t.title),o=m("div",[n.CSS.buttonBase,n.CSS.button],{innerHTML:t.icon,title:r});o.addEventListener("click",(function(){n.tuneClicked(t.name,t.action)})),o.dataset.tune=t.name,o.classList.toggle(n.CSS.buttonActive,i[t.name]),n.buttons.push(o),n.api.tooltip.onHover(o,r,{placement:"top"}),e.appendChild(o)})),e}},{key:"tuneClicked",value:function(t,i){if("function"==typeof i&&!i(t))return!1;var n=this.buttons.find((function(i){return i.dataset.tune===t}));n.classList.toggle(this.CSS.buttonActive,!n.classList.contains(this.CSS.buttonActive)),this.onChange(t)}},{key:"CSS",get:function(){return{wrapper:"",buttonBase:this.api.styles.settingsButton,button:"image-tool__tune",buttonActive:this.api.styles.settingsButtonActive}}}],[{key:"tunes",get:function(){return[{name:"withBorder",icon:w.a,title:"With border"},{name:"stretched",icon:k.a,title:"Stretch image"},{name:"withBackground",icon:g.a,title:"With background"}]}}]),t}(),A=n(12),S=n.n(A),E=n(13),M=n.n(E),C=n(2),O=n.n(C),T=function(){function t(i){var n=i.config,e=i.onUpload,r=i.onError;u()(this,t),this.config=n,this.onUpload=e,this.onError=r}return h()(t,[{key:"uploadSelectedFile",value:function(t){var i=this,n=t.onPreview,e=function(t){var i=new FileReader;i.readAsDataURL(t),i.onload=function(t){n(t.target.result)}};(this.config.uploader&&"function"==typeof this.config.uploader.uploadByFile?O.a.selectFiles({accept:this.config.types}).then((function(t){e(t[0]);var n=i.config.uploader.uploadByFile(t[0]);return R(n)||console.warn("Custom uploader method uploadByFile should return a Promise"),n})):O.a.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:function(t){e(t[0])},fieldName:this.config.field}).then((function(t){return t.body}))).then((function(t){i.onUpload(t)})).catch((function(t){i.onError(t)}))}},{key:"uploadByUrl",value:function(t){var i,n=this;this.config.uploader&&"function"==typeof this.config.uploader.uploadByUrl?R(i=this.config.uploader.uploadByUrl(t))||console.warn("Custom uploader method uploadByUrl should return a Promise"):i=O.a.post({url:this.config.endpoints.byUrl,data:Object.assign({url:t},this.config.additionalRequestData),type:O.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then((function(t){return t.body})),i.then((function(t){n.onUpload(t)})).catch((function(t){n.onError(t)}))}},{key:"uploadByFile",value:function(t,i){var n,e=this,r=i.onPreview,o=new FileReader;if(o.readAsDataURL(t),o.onload=function(t){r(t.target.result)},this.config.uploader&&"function"==typeof this.config.uploader.uploadByFile)R(n=this.config.uploader.uploadByFile(t))||console.warn("Custom uploader method uploadByFile should return a Promise");else{var s=new FormData;s.append(this.config.field,t),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach((function(t){var i=M()(t,2);s.append(i[0],i[1])})),n=O.a.post({url:this.config.endpoints.byFile,data:s,type:O.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then((function(t){return t.body}))}n.then((function(t){e.onUpload(t)})).catch((function(t){e.onError(t)}))}}]),t}();function R(t){return t&&"function"==typeof t.then}
/**
 * Image Tool for the Editor.js
 *
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.js — main Tool's interface, public API and methods for working with data
 *  2) uploader.js — module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.js — module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js — working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */var j=function(){function t(i){var n=this,e=i.data,r=i.config,o=i.api,s=i.readOnly;u()(this,t),this.api=o,this.readOnly=s,this.config={endpoints:r.endpoints||"",additionalRequestData:r.additionalRequestData||{},additionalRequestHeaders:r.additionalRequestHeaders||{},field:r.field||"image",types:r.types||"image/*",captionPlaceholder:this.api.i18n.t(r.captionPlaceholder||"Caption"),buttonContent:r.buttonContent||"",uploader:r.uploader||void 0,actions:r.actions||[]},this.uploader=new T({config:this.config,onUpload:function(t){return n.onUpload(t)},onError:function(t){return n.uploadingFailed(t)}}),this.ui=new p({api:o,config:this.config,onSelectFile:function(){n.uploader.uploadSelectedFile({onPreview:function(t){n.ui.showPreloader(t)}})},readOnly:s}),this.tunes=new _({api:o,actions:this.config.actions,onChange:function(t){return n.tuneToggled(t)}}),this._data={},this.data=e}var i;return h()(t,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:S.a,title:"Image"}}}]),h()(t,[{key:"render",value:function(){return this.ui.render(this.data)}},{key:"save",value:function(){return this._data.caption=this.ui.nodes.caption.innerHTML,this.data}},{key:"renderSettings",value:function(){return this.tunes.render(this.data)}},{key:"appendCallback",value:function(){this.ui.nodes.fileButton.click()}},{key:"onPaste",value:(i=s()(r.a.mark((function t(i){var n,e;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=i.type,t.next="tag"===t.t0?3:"pattern"===t.t0?15:"file"===t.t0?18:21;break;case 3:if(!/^blob:/.test((n=i.detail.data).src)){t.next=13;break}return t.next=7,fetch(n.src);case 7:return e=t.sent,t.next=10,e.blob();case 10:return this.uploadFile(t.sent),t.abrupt("break",21);case 13:return this.uploadUrl(n.src),t.abrupt("break",21);case 15:return this.uploadUrl(i.detail.data),t.abrupt("break",21);case 18:return this.uploadFile(i.detail.file),t.abrupt("break",21);case 21:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"onUpload",value:function(t){t.success&&t.file?this.image=t.file:this.uploadingFailed("incorrect response: "+JSON.stringify(t))}},{key:"uploadingFailed",value:function(t){console.log("Image Tool: uploading failed because of",t),this.api.notifier.show({message:this.api.i18n.t("Couldn’t upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}},{key:"tuneToggled",value:function(t){this.setTune(t,!this._data[t])}},{key:"setTune",value:function(t,i){var n=this;this._data[t]=i,this.ui.applyTune(t,i),"stretched"===t&&Promise.resolve().then((function(){var t=n.api.blocks.getCurrentBlockIndex();n.api.blocks.stretchBlock(t,i)})).catch((function(t){console.error(t)}))}},{key:"uploadFile",value:function(t){var i=this;this.uploader.uploadByFile(t,{onPreview:function(t){i.ui.showPreloader(t)}})}},{key:"uploadUrl",value:function(t){this.ui.showPreloader(t),this.uploader.uploadByUrl(t)}},{key:"data",set:function(t){var i=this;this.image=t.file,this._data.caption=t.caption||"",this.ui.fillCaption(this._data.caption),_.tunes.forEach((function(n){var e=n.name;i.setTune(e,void 0!==t[e]&&(!0===t[e]||"true"===t[e]))}))},get:function(){return this._data}},{key:"image",set:function(t){this._data.file=t||{},t&&t.url&&this.ui.fillImage(t.url)}}],[{key:"pasteConfig",get:function(){return{tags:["img"],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png)$/i},files:{mimeTypes:["image/*"]}}}}]),t}()}]).default}))),ci=ei(ri((function(t){window,t.exports=function(t){var i={};function n(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=i,n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,i){if(1&i&&(t=n(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)n.d(e,r,function(i){return t[i]}.bind(null,r));return e},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="/",n(n.s=0)}([function(t,i,n){function e(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,i){if(t){if("string"==typeof t)return r(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,i):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,e=new Array(i);n<i;n++)e[n]=t[n];return e}function o(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function s(t,i,n){return i&&o(t.prototype,i),n&&o(t,n),t}n(1).toString();var a=function(){function t(i){var n=i.data,e=i.api,r=i.readOnly;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this._elements={wrapper:null},this.api=e,this.readOnly=r,this.settings=[{name:"unordered",title:this.api.i18n.t("Unordered"),icon:'<svg width="17" height="13" viewBox="0 0 17 13" xmlns="http://www.w3.org/2000/svg"> <path d="M5.625 4.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm0-4.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm0 9.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm-4.5-5a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25zm0-4.85a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25zm0 9.85a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25z"/></svg>',default:!1},{name:"ordered",title:this.api.i18n.t("Ordered"),icon:'<svg width="17" height="13" viewBox="0 0 17 13" xmlns="http://www.w3.org/2000/svg"><path d="M5.819 4.607h9.362a1.069 1.069 0 0 1 0 2.138H5.82a1.069 1.069 0 1 1 0-2.138zm0-4.607h9.362a1.069 1.069 0 0 1 0 2.138H5.82a1.069 1.069 0 1 1 0-2.138zm0 9.357h9.362a1.069 1.069 0 0 1 0 2.138H5.82a1.069 1.069 0 0 1 0-2.137zM1.468 4.155V1.33c-.554.404-.926.606-1.118.606a.338.338 0 0 1-.244-.104A.327.327 0 0 1 0 1.59c0-.107.035-.184.105-.234.07-.05.192-.114.369-.192.264-.118.475-.243.633-.373.158-.13.298-.276.42-.438a3.94 3.94 0 0 1 .238-.298C1.802.019 1.872 0 1.975 0c.115 0 .208.042.277.127.07.085.105.202.105.351v3.556c0 .416-.15.624-.448.624a.421.421 0 0 1-.32-.127c-.08-.085-.121-.21-.121-.376zm-.283 6.664h1.572c.156 0 .275.03.358.091a.294.294 0 0 1 .123.25.323.323 0 0 1-.098.238c-.065.065-.164.097-.296.097H.629a.494.494 0 0 1-.353-.119.372.372 0 0 1-.126-.28c0-.068.027-.16.081-.273a.977.977 0 0 1 .178-.268c.267-.264.507-.49.722-.678.215-.188.368-.312.46-.371.165-.11.302-.222.412-.334.109-.112.192-.226.25-.344a.786.786 0 0 0 .085-.345.6.6 0 0 0-.341-.553.75.75 0 0 0-.345-.08c-.263 0-.47.11-.62.329-.02.029-.054.107-.101.235a.966.966 0 0 1-.16.295c-.059.069-.145.103-.26.103a.348.348 0 0 1-.25-.094.34.34 0 0 1-.099-.258c0-.132.031-.27.093-.413.063-.143.155-.273.279-.39.123-.116.28-.21.47-.282.189-.072.411-.107.666-.107.307 0 .569.045.786.137a1.182 1.182 0 0 1 .618.623 1.18 1.18 0 0 1-.096 1.083 2.03 2.03 0 0 1-.378.457c-.128.11-.344.282-.646.517-.302.235-.509.417-.621.547a1.637 1.637 0 0 0-.148.187z"/></svg>',default:!0}],this._data={style:this.settings.find((function(t){return!0===t.default})).name,items:[]},this.data=n}return s(t,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg width="17" height="13" viewBox="0 0 17 13" xmlns="http://www.w3.org/2000/svg"> <path d="M5.625 4.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm0-4.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm0 9.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm-4.5-5a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25zm0-4.85a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25zm0 9.85a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25z"/></svg>',title:"List"}}}]),s(t,[{key:"render",value:function(){var t=this;return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach((function(i){t._elements.wrapper.appendChild(t._make("li",t.CSS.item,{innerHTML:i}))})):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",(function(i){switch(i.keyCode){case 13:t.getOutofList(i);break;case 8:t.backspace(i)}}),!1),this._elements.wrapper}},{key:"save",value:function(){return this.data}},{key:"renderSettings",value:function(){var t=this,i=this._make("div",[this.CSS.settingsWrapper],{});return this.settings.forEach((function(n){var e=t._make("div",t.CSS.settingsButton,{innerHTML:n.icon});e.addEventListener("click",(function(){t.toggleTune(n.name);var i=e.parentNode.querySelectorAll("."+t.CSS.settingsButton);Array.from(i).forEach((function(i){return i.classList.remove(t.CSS.settingsButtonActive)})),e.classList.toggle(t.CSS.settingsButtonActive)})),t.api.tooltip.onHover(e,n.title,{placement:"top",hidingDelay:500}),t._data.style===n.name&&e.classList.add(t.CSS.settingsButtonActive),i.appendChild(e)})),i}},{key:"onPaste",value:function(t){this.data=this.pasteHandler(t.detail.data)}},{key:"makeMainTag",value:function(t){return this._make("ordered"===t?"ol":"ul",[this.CSS.baseBlock,this.CSS.wrapper,"ordered"===t?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered],{contentEditable:!this.readOnly})}},{key:"toggleTune",value:function(t){for(var i=this.makeMainTag(t);this._elements.wrapper.hasChildNodes();)i.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(i),this._elements.wrapper=i,this._data.style=t}},{key:"_make",value:function(t){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=document.createElement(t);for(var s in Array.isArray(n)?(i=o.classList).add.apply(i,e(n)):n&&o.classList.add(n),r)o[s]=r[s];return o}},{key:"getOutofList",value:function(t){var i=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(!(i.length<2)){var n=i[i.length-1],e=this.currentItem;e!==n||n.textContent.trim().length||(e.parentElement.removeChild(e),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),t.preventDefault(),t.stopPropagation())}}},{key:"backspace",value:function(t){var i=this._elements.wrapper.querySelectorAll("."+this.CSS.item),n=i[0];n&&i.length<2&&!n.innerHTML.replace("<br>"," ").trim()&&t.preventDefault()}},{key:"selectItem",value:function(t){t.preventDefault();var i=window.getSelection(),n=i.anchorNode.parentNode.closest("."+this.CSS.item),e=new Range;e.selectNodeContents(n),i.removeAllRanges(),i.addRange(e)}},{key:"pasteHandler",value:function(t){var i,n=t.tagName;switch(n){case"OL":i="ordered";break;case"UL":case"LI":i="unordered"}var e={style:i,items:[]};if("LI"===n)e.items=[t.innerHTML];else{var r=Array.from(t.querySelectorAll("LI"));e.items=r.map((function(t){return t.innerHTML})).filter((function(t){return!!t.trim()}))}return e}},{key:"CSS",get:function(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item",settingsWrapper:"cdx-list-settings",settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive}}},{key:"data",set:function(t){t||(t={}),this._data.style=t.style||this.settings.find((function(t){return!0===t.default})).name,this._data.items=t.items||[];var i=this._elements.wrapper;i&&i.parentNode.replaceChild(this.render(),i)},get:function(){this._data.items=[];for(var t=this._elements.wrapper.querySelectorAll(".".concat(this.CSS.item)),i=0;i<t.length;i++)t[i].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(t[i].innerHTML);return this._data}},{key:"currentItem",get:function(){var t=window.getSelection().anchorNode;return t.nodeType!==Node.ELEMENT_NODE&&(t=t.parentNode),t.closest(".".concat(this.CSS.item))}}],[{key:"conversionConfig",get:function(){return{export:function(t){return t.items.join(". ")},import:function(t){return{items:[t],style:"unordered"}}}}},{key:"sanitize",get:function(){return{style:{},items:{br:!0}}}},{key:"pasteConfig",get:function(){return{tags:["OL","UL","LI"]}}}]),t}();t.exports=a},function(t,i,n){var e=n(2),r=n(3);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]),e(r,{insert:"head",singleton:!1}),t.exports=r.locals||{}},function(t,i,n){var e,r=function(){var t={};return function(i){if(void 0===t[i]){var n=document.querySelector(i);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[i]=n}return t[i]}}(),o=[];function s(t){for(var i=-1,n=0;n<o.length;n++)if(o[n].identifier===t){i=n;break}return i}function a(t,i){for(var n={},e=[],r=0;r<t.length;r++){var a=t[r],u=i.base?a[0]+i.base:a[0],c=n[u]||0,h="".concat(u," ").concat(c);n[u]=c+1;var f=s(h),l={css:a[1],media:a[2],sourceMap:a[3]};-1!==f?(o[f].references++,o[f].updater(l)):o.push({identifier:h,updater:p(l,i),references:1}),e.push(h)}return e}function u(t){var i=document.createElement("style"),e=t.attributes||{};if(void 0===e.nonce){var o=n.nc;o&&(e.nonce=o)}if(Object.keys(e).forEach((function(t){i.setAttribute(t,e[t])})),"function"==typeof t.insert)t.insert(i);else{var s=r(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(i)}return i}var c,h=(c=[],function(t,i){return c[t]=i,c.filter(Boolean).join("\n")});function f(t,i,n,e){var r=n?"":e.media?"@media ".concat(e.media," {").concat(e.css,"}"):e.css;if(t.styleSheet)t.styleSheet.cssText=h(i,r);else{var o=document.createTextNode(r),s=t.childNodes;s[i]&&t.removeChild(s[i]),s.length?t.insertBefore(o,s[i]):t.appendChild(o)}}function l(t,i,n){var e=n.css,r=n.media,o=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),o&&btoa&&(e+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}var d=null,v=0;function p(t,i){var n,e,r;if(i.singleton){var o=v++;n=d||(d=u(i)),e=f.bind(null,n,o,!1),r=f.bind(null,n,o,!0)}else n=u(i),e=l.bind(null,n,i),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else r()}}t.exports=function(t,i){(i=i||{}).singleton||"boolean"==typeof i.singleton||(i.singleton=(void 0===e&&(e=Boolean(window&&document&&document.all&&!window.atob)),e));var n=a(t=t||[],i);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var e=0;e<n.length;e++){var r=s(n[e]);o[r].references--}for(var u=a(t,i),c=0;c<n.length;c++){var h=s(n[c]);0===o[h].references&&(o[h].updater(),o.splice(h,1))}n=u}}}},function(t,i,n){(i=n(4)(!1)).push([t.i,".cdx-list {\n    margin: 0;\n    padding-left: 40px;\n    outline: none;\n}\n\n    .cdx-list__item {\n        padding: 5.5px 0 5.5px 3px;\n        line-height: 1.6em;\n    }\n\n    .cdx-list--unordered {\n        list-style: disc;\n    }\n\n    .cdx-list--ordered {\n        list-style: decimal;\n    }\n\n    .cdx-list-settings {\n        display: flex;\n    }\n\n    .cdx-list-settings .cdx-settings-button {\n            width: 50%;\n        }\n",""]),t.exports=i},function(t){t.exports=function(t){var i=[];return i.toString=function(){return this.map((function(i){var n=function(t,i){var n,e,r=t[1]||"",o=t[3];if(!o)return r;if(i&&"function"==typeof btoa){var s=(n=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),e="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(e," */")),a=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[r].concat(a).concat([s]).join("\n")}return[r].join("\n")}(i,t);return i[2]?"@media ".concat(i[2]," {").concat(n,"}"):n})).join("")},i.i=function(t,n,e){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(e)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var a=0;a<t.length;a++){var u=[].concat(t[a]);e&&r[u[0]]||(n&&(u[2]=u[2]?"".concat(n," and ").concat(u[2]):n),i.push(u))}},i}}])}))),hi=ei(ri((function(t){window,t.exports=function(t){var i={};function n(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=i,n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,i){if(1&i&&(t=n(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)n.d(e,r,function(i){return t[i]}.bind(null,r));return e},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="/",n(n.s=14)}([function(t,i,n){var e=n(5),r=n(6),o=n(7),s=n(9);t.exports=function(t,i){return e(t)||r(t,i)||o(t,i)||s()}},function(t){function i(n){return t.exports=i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(n)}t.exports=i},function(t){t.exports=function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}},function(t){function i(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}t.exports=function(t,n,e){return n&&i(t.prototype,n),e&&i(t,e),t}},function(t){function i(t,i,n){var e,r,o,s,a;function u(){var c=Date.now()-s;c<i&&c>=0?e=setTimeout(u,i-c):(e=null,n||(a=t.apply(o,r),o=r=null))}null==i&&(i=100);var c=function(){o=this,r=arguments,s=Date.now();var c=n&&!e;return e||(e=setTimeout(u,i)),c&&(a=t.apply(o,r),o=r=null),a};return c.clear=function(){e&&(clearTimeout(e),e=null)},c.flush=function(){e&&(a=t.apply(o,r),o=r=null,clearTimeout(e),e=null)},c}i.debounce=i,t.exports=i},function(t){t.exports=function(t){if(Array.isArray(t))return t}},function(t){t.exports=function(t,i){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],e=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(e=(s=a.next()).done)&&(n.push(s.value),!i||n.length!==i);e=!0);}catch(t){r=!0,o=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw o}}return n}}},function(t,i,n){var e=n(8);t.exports=function(t,i){if(t){if("string"==typeof t)return e(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,i):void 0}}},function(t){t.exports=function(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,e=new Array(i);n<i;n++)e[n]=t[n];return e}},function(t){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,i,n){var e=n(11),r=n(12);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]),e(r,{insert:"head",singleton:!1}),t.exports=r.locals||{}},function(t,i,n){var e,r=function(){var t={};return function(i){if(void 0===t[i]){var n=document.querySelector(i);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[i]=n}return t[i]}}(),o=[];function s(t){for(var i=-1,n=0;n<o.length;n++)if(o[n].identifier===t){i=n;break}return i}function a(t,i){for(var n={},e=[],r=0;r<t.length;r++){var a=t[r],u=i.base?a[0]+i.base:a[0],c=n[u]||0,h="".concat(u," ").concat(c);n[u]=c+1;var f=s(h),l={css:a[1],media:a[2],sourceMap:a[3]};-1!==f?(o[f].references++,o[f].updater(l)):o.push({identifier:h,updater:p(l,i),references:1}),e.push(h)}return e}function u(t){var i=document.createElement("style"),e=t.attributes||{};if(void 0===e.nonce){var o=n.nc;o&&(e.nonce=o)}if(Object.keys(e).forEach((function(t){i.setAttribute(t,e[t])})),"function"==typeof t.insert)t.insert(i);else{var s=r(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(i)}return i}var c,h=(c=[],function(t,i){return c[t]=i,c.filter(Boolean).join("\n")});function f(t,i,n,e){var r=n?"":e.media?"@media ".concat(e.media," {").concat(e.css,"}"):e.css;if(t.styleSheet)t.styleSheet.cssText=h(i,r);else{var o=document.createTextNode(r),s=t.childNodes;s[i]&&t.removeChild(s[i]),s.length?t.insertBefore(o,s[i]):t.appendChild(o)}}function l(t,i,n){var e=n.css,r=n.media,o=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),o&&btoa&&(e+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}var d=null,v=0;function p(t,i){var n,e,r;if(i.singleton){var o=v++;n=d||(d=u(i)),e=f.bind(null,n,o,!1),r=f.bind(null,n,o,!0)}else n=u(i),e=l.bind(null,n,i),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else r()}}t.exports=function(t,i){(i=i||{}).singleton||"boolean"==typeof i.singleton||(i.singleton=(void 0===e&&(e=Boolean(window&&document&&document.all&&!window.atob)),e));var n=a(t=t||[],i);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var e=0;e<n.length;e++){var r=s(n[e]);o[r].references--}for(var u=a(t,i),c=0;c<n.length;c++){var h=s(n[c]);0===o[h].references&&(o[h].updater(),o.splice(h,1))}n=u}}}},function(t,i,n){(i=n(13)(!1)).push([t.i,".embed-tool--loading .embed-tool__caption {\n      display: none;\n    }\n\n    .embed-tool--loading .embed-tool__preloader {\n      display: block;\n    }\n\n    .embed-tool--loading .embed-tool__content {\n      display: none;\n    }\n  .embed-tool__preloader {\n    display: none;\n    position: relative;\n    height: 200px;\n    box-sizing: border-box;\n    border-radius: 5px;\n    border: 1px solid #e6e9eb;\n  }\n  .embed-tool__preloader::before {\n      content: '';\n      position: absolute;\n      z-index: 3;\n      left: 50%;\n      top: 50%;\n      width: 30px;\n      height: 30px;\n      margin-top: -25px;\n      margin-left: -15px;\n      border-radius: 50%;\n      border: 2px solid #cdd1e0;\n      border-top-color: #388ae5;\n      box-sizing: border-box;\n      animation: embed-preloader-spin 2s infinite linear;\n    }\n  .embed-tool__url {\n    position: absolute;\n    bottom: 20px;\n    left: 50%;\n    transform: translateX(-50%);\n    max-width: 250px;\n    color: #7b7e89;\n    font-size: 11px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n  .embed-tool__content {\n    width: 100%;\n  }\n  .embed-tool__caption {\n    margin-top: 7px;\n  }\n  .embed-tool__caption[contentEditable=true][data-placeholder]::before{\n      position: absolute;\n      content: attr(data-placeholder);\n      color: #707684;\n      font-weight: normal;\n      opacity: 0;\n    }\n  .embed-tool__caption[contentEditable=true][data-placeholder]:empty::before {\n         opacity: 1;\n      }\n  .embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus::before {\n        opacity: 0;\n      }\n\n@keyframes embed-preloader-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n",""]),t.exports=i},function(t){t.exports=function(t){var i=[];return i.toString=function(){return this.map((function(i){var n=function(t,i){var n,e,r=t[1]||"",o=t[3];if(!o)return r;if(i&&"function"==typeof btoa){var s=(n=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),e="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(e," */")),a=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[r].concat(a).concat([s]).join("\n")}return[r].join("\n")}(i,t);return i[2]?"@media ".concat(i[2]," {").concat(n,"}"):n})).join("")},i.i=function(t,n,e){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(e)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var a=0;a<t.length;a++){var u=[].concat(t[a]);e&&r[u[0]]||(n&&(u[2]=u[2]?"".concat(n," and ").concat(u[2]):n),i.push(u))}},i}},function(t,i,n){n.r(i),n.d(i,"default",(function(){return d}));var e=n(1),r=n.n(e),o=n(0),s=n.n(o),a=n(2),u=n.n(a),c=n(3),h=n.n(c),f={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:function(t){var i=s()(t,2),n=i[0],e=i[1];if(!e&&n)return n;var r={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};return e=e.slice(1).split("&").map((function(t){var i=t.split("="),e=s()(i,2),o=e[0],a=e[1];return n||"v"!==o?r[o]?"".concat(r[o],"=").concat(a):null:(n=a,null)})).filter((function(t){return!!t})),n+"?"+e.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:"<iframe frameborder='0' scrolling='no' style=\"width:100%;\" height='436' allowfullscreen ></iframe>",height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:function(t){return t.join("/")}},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:function(t){return t.join("/")}},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:function(t){return t.join("/embed/")}},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/twitter\.com\/(?:#!\/)?(\w+)\/status(?:es)?\/(\d+)(?:\/.*)?$/,embedUrl:"https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:function(t){return t.join("/status/")}},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:function(t){return t[1]}},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:function(t){return t.join("/")}},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'}},l=(n(10),n(4)),d=function(){function t(i){var n=i.data,e=i.api,r=i.readOnly;u()(this,t),this.api=e,this._data={},this.element=null,this.readOnly=r,this.data=n}return h()(t,[{key:"render",value:function(){var i=this;if(!this.data.service){var n=document.createElement("div");return this.element=n,n}var e=t.services[this.data.service].html,r=document.createElement("div"),o=document.createElement("div"),s=document.createElement("template"),a=this.createPreloader();r.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),o.classList.add(this.CSS.input,this.CSS.caption),r.appendChild(a),o.contentEditable=!this.readOnly,o.dataset.placeholder=this.api.i18n.t("Enter a caption"),o.innerHTML=this.data.caption||"",s.innerHTML=e,s.content.firstChild.setAttribute("src",this.data.embed),s.content.firstChild.classList.add(this.CSS.content);var u=this.embedIsReady(r);return r.appendChild(s.content.firstChild),r.appendChild(o),u.then((function(){r.classList.remove(i.CSS.containerLoading)})),this.element=r,r}},{key:"createPreloader",value:function(){var t=document.createElement("preloader"),i=document.createElement("div");return i.textContent=this.data.source,t.classList.add(this.CSS.preloader),i.classList.add(this.CSS.url),t.appendChild(i),t}},{key:"save",value:function(){return this.data}},{key:"onPaste",value:function(i){var n=i.detail,e=n.key,r=n.data,o=t.services[e],s=o.embedUrl,a=o.width,u=o.height,c=o.id,h=void 0===c?function(t){return t.shift()}:c,f=o.regex.exec(r).slice(1),l=s.replace(/<%= remote_id %>/g,h(f));this.data={service:e,source:r,embed:l,width:a,height:u}}},{key:"embedIsReady",value:function(t){var i=null;return new Promise((function(n){(i=new MutationObserver(Object(l.debounce)(n,450))).observe(t,{childList:!0,subtree:!0})})).then((function(){i.disconnect()}))}},{key:"data",set:function(t){if(!(t instanceof Object))throw Error("Embed Tool data should be object");var i=t.caption;this._data={service:t.service||this.data.service,source:t.source||this.data.source,embed:t.embed||this.data.embed,width:t.width||this.data.width,height:t.height||this.data.height,caption:(void 0===i?"":i)||this.data.caption||""};var n=this.element;n&&n.parentNode.replaceChild(this.render(),n)},get:function(){if(this.element){var t=this.element.querySelector(".".concat(this.api.styles.input));this._data.caption=t?t.innerHTML:""}return this._data}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}}],[{key:"prepare",value:function(i){var n=i.config,e=(void 0===n?{}:n).services,o=void 0===e?{}:e,a=Object.entries(f),u=Object.entries(o).filter((function(t){var i=s()(t,2)[1];return"boolean"==typeof i&&!0===i})).map((function(t){return s()(t,1)[0]})),c=Object.entries(o).filter((function(t){var i=s()(t,2)[1];return"object"===r()(i)})).filter((function(i){var n=s()(i,2);return t.checkServiceConfig(n[1])})).map((function(t){var i=s()(t,2),n=i[1];return[i[0],{regex:n.regex,embedUrl:n.embedUrl,html:n.html,height:n.height,width:n.width,id:n.id}]}));u.length&&(a=a.filter((function(t){var i=s()(t,1)[0];return u.includes(i)}))),a=a.concat(c),t.services=a.reduce((function(t,i){var n=s()(i,2),e=n[0],r=n[1];return e in t?(t[e]=Object.assign({},t[e],r),t):(t[e]=r,t)}),{}),t.patterns=a.reduce((function(t,i){var n=s()(i,2);return t[n[0]]=n[1].regex,t}),{})}},{key:"checkServiceConfig",value:function(t){var i=t.regex,n=t.embedUrl,e=t.html,r=t.height,o=t.width,s=t.id,a=i&&i instanceof RegExp&&n&&"string"==typeof n&&e&&"string"==typeof e;return(a=(a=a&&(void 0===s||s instanceof Function))&&(void 0===r||Number.isFinite(r)))&&(void 0===o||Number.isFinite(o))}},{key:"pasteConfig",get:function(){return{patterns:t.patterns}}},{key:"isReadOnlySupported",get:function(){return!0}}]),t}()}]).default}))),fi=ei(ri((function(t){window,t.exports=function(t){var i={};function n(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=i,n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,i){if(1&i&&(t=n(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)n.d(e,r,function(i){return t[i]}.bind(null,r));return e},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="/",n(n.s=0)}([function(t,i,n){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}n(1).toString();
/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */
var o=function(){function t(i){var n=i.data,e=i.config,r=i.api,o=i.readOnly;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.api=r,this.readOnly=o,this._CSS={block:this.api.styles.block,settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive,wrapper:"ce-header"},this._settings=e,this._data=this.normalizeData(n),this.settingsButtons=[],this._element=this.getTag()}var i,o,s;return i=t,s=[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{level:!1,text:{}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["H1","H2","H3","H4","H5","H6"]}}},{key:"toolbox",get:function(){return{icon:n(6).default,title:"Heading"}}}],(o=[{key:"normalizeData",value:function(t){var i={};return"object"!==e(t)&&(t={}),i.text=t.text||"",i.level=parseInt(t.level)||this.defaultLevel.number,i}},{key:"render",value:function(){return this._element}},{key:"renderSettings",value:function(){var t=this,i=document.createElement("DIV");return this.levels.length<=1||this.levels.forEach((function(n){var e=document.createElement("SPAN");e.classList.add(t._CSS.settingsButton),t.currentLevel.number===n.number&&e.classList.add(t._CSS.settingsButtonActive),e.innerHTML=n.svg,e.dataset.level=n.number,e.addEventListener("click",(function(){t.setLevel(n.number)})),i.appendChild(e),t.settingsButtons.push(e)})),i}},{key:"setLevel",value:function(t){var i=this;this.data={level:t,text:this.data.text},this.settingsButtons.forEach((function(n){n.classList.toggle(i._CSS.settingsButtonActive,parseInt(n.dataset.level)===t)}))}},{key:"merge",value:function(t){this.data={text:this.data.text+t.text,level:this.data.level}}},{key:"validate",value:function(t){return""!==t.text.trim()}},{key:"save",value:function(t){return{text:t.innerHTML,level:this.currentLevel.number}}},{key:"getTag",value:function(){var t=document.createElement(this.currentLevel.tag);return t.innerHTML=this._data.text||"",t.classList.add(this._CSS.wrapper),t.contentEditable=this.readOnly?"false":"true",t.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),t}},{key:"onPaste",value:function(t){var i=t.detail.data,n=this.defaultLevel.number;switch(i.tagName){case"H1":n=1;break;case"H2":n=2;break;case"H3":n=3;break;case"H4":n=4;break;case"H5":n=5;break;case"H6":n=6}this._settings.levels&&(n=this._settings.levels.reduce((function(t,i){return Math.abs(i-n)<Math.abs(t-n)?i:t}))),this.data={level:n,text:i.innerHTML}}},{key:"data",get:function(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data},set:function(t){if(this._data=this.normalizeData(t),void 0!==t.level&&this._element.parentNode){var i=this.getTag();i.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(i,this._element),this._element=i}void 0!==t.text&&(this._element.innerHTML=this._data.text||"")}},{key:"currentLevel",get:function(){var t=this,i=this.levels.find((function(i){return i.number===t._data.level}));return i||(i=this.defaultLevel),i}},{key:"defaultLevel",get:function(){var t=this;if(this._settings.defaultLevel){var i=this.levels.find((function(i){return i.number===t._settings.defaultLevel}));if(i)return i;console.warn("(ง'̀-'́)ง Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}},{key:"levels",get:function(){var t=this,i=[{number:1,tag:"H1",svg:'<svg width="16" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.14 1.494V4.98h4.62V1.494c0-.498.098-.871.293-1.12A.927.927 0 0 1 7.82 0c.322 0 .583.123.782.37.2.246.3.62.3 1.124v9.588c0 .503-.101.88-.303 1.128a.957.957 0 0 1-.779.374.921.921 0 0 1-.77-.378c-.193-.251-.29-.626-.29-1.124V6.989H2.14v4.093c0 .503-.1.88-.302 1.128a.957.957 0 0 1-.778.374.921.921 0 0 1-.772-.378C.096 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.285.374A.922.922 0 0 1 1.06 0c.321 0 .582.123.782.37.199.246.299.62.299 1.124zm11.653 9.985V5.27c-1.279.887-2.14 1.33-2.583 1.33a.802.802 0 0 1-.563-.228.703.703 0 0 1-.245-.529c0-.232.08-.402.241-.511.161-.11.446-.25.854-.424.61-.259 1.096-.532 1.462-.818a5.84 5.84 0 0 0 .97-.962c.282-.355.466-.573.552-.655.085-.082.246-.123.483-.123.267 0 .481.093.642.28.161.186.242.443.242.77v7.813c0 .914-.345 1.371-1.035 1.371-.307 0-.554-.093-.74-.28-.187-.186-.28-.461-.28-.825z"/></svg>'},{number:2,tag:"H2",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm10.99 9.288h3.527c.351 0 .62.072.804.216.185.144.277.34.277.588 0 .22-.073.408-.22.56-.146.154-.368.23-.665.23h-4.972c-.338 0-.601-.093-.79-.28a.896.896 0 0 1-.284-.659c0-.162.06-.377.182-.645s.255-.478.399-.631a38.617 38.617 0 0 1 1.621-1.598c.482-.444.827-.735 1.034-.875.369-.261.676-.523.922-.787.245-.263.432-.534.56-.81.129-.278.193-.549.193-.815 0-.288-.069-.546-.206-.773a1.428 1.428 0 0 0-.56-.53 1.618 1.618 0 0 0-.774-.19c-.59 0-1.054.26-1.392.777-.045.068-.12.252-.226.554-.106.302-.225.534-.358.696-.133.162-.328.243-.585.243a.76.76 0 0 1-.56-.223c-.149-.148-.223-.351-.223-.608 0-.31.07-.635.21-.972.139-.338.347-.645.624-.92a3.093 3.093 0 0 1 1.054-.665c.426-.169.924-.253 1.496-.253.69 0 1.277.108 1.764.324.315.144.592.343.83.595.24.252.425.544.558.875.133.33.2.674.2 1.03 0 .558-.14 1.066-.416 1.523-.277.457-.56.815-.848 1.074-.288.26-.771.666-1.45 1.22-.677.554-1.142.984-1.394 1.29a3.836 3.836 0 0 0-.331.44z"/></svg>'},{number:3,tag:"H3",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm11.61 4.919c.418 0 .778-.123 1.08-.368.301-.245.452-.597.452-1.055 0-.35-.12-.65-.36-.902-.241-.252-.566-.378-.974-.378-.277 0-.505.038-.684.116a1.1 1.1 0 0 0-.426.306 2.31 2.31 0 0 0-.296.49c-.093.2-.178.388-.255.565a.479.479 0 0 1-.245.225.965.965 0 0 1-.409.081.706.706 0 0 1-.5-.22c-.152-.148-.228-.345-.228-.59 0-.236.071-.484.214-.745a2.72 2.72 0 0 1 .627-.746 3.149 3.149 0 0 1 1.024-.568 4.122 4.122 0 0 1 1.368-.214c.44 0 .842.06 1.205.18.364.12.679.294.947.52.267.228.47.49.606.79.136.3.204.622.204.967 0 .454-.099.843-.296 1.168-.198.324-.48.64-.848.95.354.19.653.408.895.653.243.245.426.516.548.813.123.298.184.619.184.964 0 .413-.083.812-.248 1.198-.166.386-.41.73-.732 1.031a3.49 3.49 0 0 1-1.147.708c-.443.17-.932.256-1.467.256a3.512 3.512 0 0 1-1.464-.293 3.332 3.332 0 0 1-1.699-1.64c-.142-.314-.214-.573-.214-.777 0-.263.085-.475.255-.636a.89.89 0 0 1 .637-.242c.127 0 .25.037.367.112a.53.53 0 0 1 .232.27c.236.63.489 1.099.759 1.405.27.306.65.46 1.14.46a1.714 1.714 0 0 0 1.46-.824c.17-.273.256-.588.256-.947 0-.53-.145-.947-.436-1.249-.29-.302-.694-.453-1.212-.453-.09 0-.231.01-.422.028-.19.018-.313.027-.367.027-.25 0-.443-.062-.579-.187-.136-.125-.204-.299-.204-.521 0-.218.081-.394.245-.528.163-.134.406-.2.728-.2h.28z"/></svg>'},{number:4,tag:"H4",svg:'<svg width="20" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm13.003 10.09v-1.252h-3.38c-.427 0-.746-.097-.96-.29-.213-.193-.32-.456-.32-.788 0-.085.016-.171.048-.259.031-.088.078-.18.141-.276.063-.097.128-.19.195-.28.068-.09.15-.2.25-.33l3.568-4.774a5.44 5.44 0 0 1 .576-.683.763.763 0 0 1 .542-.212c.682 0 1.023.39 1.023 1.171v5.212h.29c.346 0 .623.047.832.142.208.094.313.3.313.62 0 .26-.086.45-.256.568-.17.12-.427.179-.768.179h-.41v1.252c0 .346-.077.603-.23.771-.152.168-.356.253-.612.253a.78.78 0 0 1-.61-.26c-.154-.173-.232-.427-.232-.764zm-2.895-2.76h2.895V4.91L12.26 8.823z"/></svg>'},{number:5,tag:"H5",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm14.16 2.645h-3.234l-.388 2.205c.644-.344 1.239-.517 1.783-.517.436 0 .843.082 1.222.245.38.164.712.39.998.677.286.289.51.63.674 1.025.163.395.245.82.245 1.273 0 .658-.148 1.257-.443 1.797-.295.54-.72.97-1.276 1.287-.556.318-1.197.477-1.923.477-.813 0-1.472-.15-1.978-.45-.506-.3-.865-.643-1.076-1.031-.21-.388-.316-.727-.316-1.018 0-.177.073-.345.22-.504a.725.725 0 0 1 .556-.238c.381 0 .665.22.85.66.182.404.427.719.736.943.309.225.654.337 1.035.337.35 0 .656-.09.919-.272.263-.182.466-.431.61-.749.142-.318.214-.678.214-1.082 0-.436-.078-.808-.232-1.117a1.607 1.607 0 0 0-.62-.69 1.674 1.674 0 0 0-.864-.229c-.39 0-.67.048-.837.143-.168.095-.41.262-.725.5-.316.239-.576.358-.78.358a.843.843 0 0 1-.592-.242c-.173-.16-.259-.344-.259-.548 0-.022.025-.177.075-.463l.572-3.26c.063-.39.181-.675.354-.852.172-.177.454-.265.844-.265h3.595c.708 0 1.062.27 1.062.81a.711.711 0 0 1-.26.572c-.172.145-.426.218-.762.218z"/></svg>'},{number:6,tag:"H6",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zM12.53 7.058a3.093 3.093 0 0 1 1.004-.814 2.734 2.734 0 0 1 1.214-.264c.43 0 .827.08 1.19.24.365.161.684.39.957.686.274.296.485.645.635 1.048a3.6 3.6 0 0 1 .223 1.262c0 .637-.145 1.216-.437 1.736-.292.52-.699.926-1.221 1.218-.522.292-1.114.438-1.774.438-.76 0-1.416-.186-1.967-.557-.552-.37-.974-.919-1.265-1.645-.292-.726-.438-1.613-.438-2.662 0-.855.088-1.62.265-2.293.176-.674.43-1.233.76-1.676.33-.443.73-.778 1.2-1.004.47-.226 1.006-.339 1.608-.339.579 0 1.089.113 1.53.34.44.225.773.506.997.84.224.335.335.656.335.964 0 .185-.07.354-.21.505a.698.698 0 0 1-.536.227.874.874 0 0 1-.529-.18 1.039 1.039 0 0 1-.36-.498 1.42 1.42 0 0 0-.495-.655 1.3 1.3 0 0 0-.786-.247c-.24 0-.479.069-.716.207a1.863 1.863 0 0 0-.6.56c-.33.479-.525 1.333-.584 2.563zm1.832 4.213c.456 0 .834-.186 1.133-.56.298-.373.447-.862.447-1.468 0-.412-.07-.766-.21-1.062a1.584 1.584 0 0 0-.577-.678 1.47 1.47 0 0 0-.807-.234c-.28 0-.548.074-.804.224-.255.149-.461.365-.617.647a2.024 2.024 0 0 0-.234.994c0 .61.158 1.12.475 1.527.316.407.714.61 1.194.61z"/></svg>'}];return this._settings.levels?i.filter((function(i){return t._settings.levels.includes(i.number)})):i}}])&&r(i.prototype,o),s&&r(i,s),t}();t.exports=o},function(t,i,n){var e=n(2);"string"==typeof e&&(e=[[t.i,e,""]]);n(4)(e,{hmr:!0,transform:void 0,insertInto:void 0}),e.locals&&(t.exports=e.locals)},function(t,i,n){(t.exports=n(3)(!1)).push([t.i,"/**\n * Plugin styles\n */\n.ce-header {\n  padding: 1em 0;\n  margin: 0;\n  margin-bottom: -0.9em;\n  line-height: 1.5em;\n  outline: none;\n}\n\n.ce-header p,\n.ce-header div{\n  padding: 0 !important;\n  margin: 0 !important;\n}\n\n/**\n * Styles for Plugin icon in Toolbar\n */\n.ce-header__icon {}\n\n.ce-header[contentEditable=true][data-placeholder]::before{\n  position: absolute;\n  content: attr(data-placeholder);\n  color: #707684;\n  font-weight: normal;\n  display: none;\n  cursor: text;\n}\n\n.ce-header[contentEditable=true][data-placeholder]:empty::before {\n  display: block;\n}\n\n.ce-header[contentEditable=true][data-placeholder]:empty:focus::before {\n  display: none;\n}\n",""])},function(t){t.exports=function(t){var i=[];return i.toString=function(){return this.map((function(i){var n=function(t,i){var n=t[1]||"",e=t[3];if(!e)return n;if(i&&"function"==typeof btoa){var r="/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */",o=e.sources.map((function(t){return"/*# sourceURL="+e.sourceRoot+t+" */"}));return[n].concat(o).concat([r]).join("\n")}return[n].join("\n")}(i,t);return i[2]?"@media "+i[2]+"{"+n+"}":n})).join("")},i.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var e={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(e[o]=!0)}for(r=0;r<t.length;r++){var s=t[r];"number"==typeof s[0]&&e[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),i.push(s))}},i}},function(t,i,n){var e,r,o={},s=(e=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=e.apply(this,arguments)),r}),a=function(t){return document.querySelector(t)},u=function(){var t={};return function(i){if("function"==typeof i)return i();if(void 0===t[i]){var n=a.call(this,i);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(i){n=null}t[i]=n}return t[i]}}(),c=null,h=0,f=[],l=n(5);function d(t,i){for(var n=0;n<t.length;n++){var e=t[n],r=o[e.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](e.parts[s]);for(;s<e.parts.length;s++)r.parts.push(y(e.parts[s],i))}else{var a=[];for(s=0;s<e.parts.length;s++)a.push(y(e.parts[s],i));o[e.id]={id:e.id,refs:1,parts:a}}}}function v(t,i){for(var n=[],e={},r=0;r<t.length;r++){var o=t[r],s=i.base?o[0]+i.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};e[s]?e[s].parts.push(a):n.push(e[s]={id:s,parts:[a]})}return n}function p(t,i){var n=u(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var e=f[f.length-1];if("top"===t.insertAt)e?e.nextSibling?n.insertBefore(i,e.nextSibling):n.appendChild(i):n.insertBefore(i,n.firstChild),f.push(i);else if("bottom"===t.insertAt)n.appendChild(i);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=u(t.insertInto+" "+t.insertAt.before);n.insertBefore(i,r)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var i=f.indexOf(t);i>=0&&f.splice(i,1)}function b(t){var i=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),g(i,t.attrs),p(t,i),i}function g(t,i){Object.keys(i).forEach((function(n){t.setAttribute(n,i[n])}))}function y(t,i){var n,e,r,o;if(i.transform&&t.css){if(!(o=i.transform(t.css)))return function(){};t.css=o}if(i.singleton){var s=h++;n=c||(c=b(i)),e=k.bind(null,n,s,!1),r=k.bind(null,n,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var i=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",g(i,t.attrs),p(t,i),i}(i),e=A.bind(null,n,i),r=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=b(i),e=_.bind(null,n),r=function(){m(n)});return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else r()}}t.exports=function(t,i){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(i=i||{}).attrs="object"==typeof i.attrs?i.attrs:{},i.singleton||"boolean"==typeof i.singleton||(i.singleton=s()),i.insertInto||(i.insertInto="head"),i.insertAt||(i.insertAt="bottom");var n=v(t,i);return d(n,i),function(t){for(var e=[],r=0;r<n.length;r++)(s=o[n[r].id]).refs--,e.push(s);for(t&&d(v(t,i),i),r=0;r<e.length;r++){var s;if(0===(s=e[r]).refs){for(var a=0;a<s.parts.length;a++)s.parts[a]();delete o[s.id]}}}};var w,x=(w=[],function(t,i){return w[t]=i,w.filter(Boolean).join("\n")});function k(t,i,n,e){var r=n?"":e.css;if(t.styleSheet)t.styleSheet.cssText=x(i,r);else{var o=document.createTextNode(r),s=t.childNodes;s[i]&&t.removeChild(s[i]),s.length?t.insertBefore(o,s[i]):t.appendChild(o)}}function _(t,i){var n=i.css,e=i.media;if(e&&t.setAttribute("media",e),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function A(t,i,n){var e=n.css,r=n.sourceMap;(i.convertToAbsoluteUrls||void 0===i.convertToAbsoluteUrls&&r)&&(e=l(e)),r&&(e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([e],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}},function(t){t.exports=function(t){var i="undefined"!=typeof window&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=i.protocol+"//"+i.host,e=n+i.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,i){var r,o=i.trim().replace(/^"(.*)"$/,(function(t,i){return i})).replace(/^'(.*)'$/,(function(t,i){return i}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:e+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(t,i,n){n.r(i),i.default='<svg width="10" height="14" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 14">\n  <path d="M7.6 8.15H2.25v4.525a1.125 1.125 0 0 1-2.25 0V1.125a1.125 1.125 0 1 1 2.25 0V5.9H7.6V1.125a1.125 1.125 0 0 1 2.25 0v11.55a1.125 1.125 0 0 1-2.25 0V8.15z"/>\n</svg>\n'}])}))),li=ei(ri((function(t){window,t.exports=function(t){var i={};function n(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=i,n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,i){if(1&i&&(t=n(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)n.d(e,r,function(i){return t[i]}.bind(null,r));return e},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="/",n(n.s=0)}([function(t,i,n){function e(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function r(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}n(1).toString();var o=function(){function t(i){var n=i.data,e=i.config,r=i.api,o=i.readOnly;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.api=r,this.config=e,this.readOnly=o,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph",alignment:{left:"ce-paragraph--left",center:"ce-paragraph--center",right:"ce-paragraph--right",justify:"ce-paragraph--justify"}},this.CSS={baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive},this.settings=[{name:"left",icon:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m10 23h28c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m10 45h28c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/></svg>'},{name:"center",icon:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m46 23c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m46 45c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/></svg>'},{name:"right",icon:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 19h-28c-1.104 0-2 .896-2 2s.896 2 2 2h28c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 41h-28c-1.104 0-2 .896-2 2s.896 2 2 2h28c1.104 0 2-.896 2-2s-.896-2-2-2z"/></svg>'},{name:"justify",icon:'<svg viewBox="0 0 64 64" width="20" height="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="M 52.867 19 L 10.914 19 C 9.26 19 7.918 19.896 7.918 21 C 7.918 22.104 9.26 23 10.914 23 L 52.867 23 C 54.522 23 55.863 22.104 55.863 21 C 55.863 19.896 54.522 19 52.867 19 Z" style=""></path><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="M 52.779 41 L 11.113 41 C 9.469 41 8.136 41.896 8.136 43 C 8.136 44.104 9.469 45 11.113 45 L 52.779 45 C 54.421 45 55.754 44.104 55.754 43 C 55.754 41.896 54.421 41 52.779 41 Z" style=""></path></svg>'}],this.onKeyUp=this.onKeyUp.bind(this),this._placeholder=e.placeholder?e.placeholder:t.DEFAULT_PLACEHOLDER,this._data={text:n.text||"",alignment:n.alignment||e.defaultAlignment||t.DEFAULT_ALIGNMENT},this._element=this.drawView(),this.data=n,this._preserveBlank=void 0!==e.preserveBlank&&e.preserveBlank}return r(t,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}},{key:"ALIGNMENTS",get:function(){return{left:"left",center:"center",right:"right",justify:"justify"}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"DEFAULT_ALIGNMENT",get:function(){return t.ALIGNMENTS.left}}]),r(t,[{key:"onKeyUp",value:function(t){"Backspace"!==t.code&&"Delete"!==t.code||""===this._element.textContent&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var t=document.createElement("DIV");return t.classList.add(this._CSS.wrapper,this._CSS.block,this._CSS.alignment[this.data.alignment]),t.contentEditable=!this.readOnly,t.dataset.placeholder=this.api.i18n.t(this._placeholder),t.innerHTML=this.data.text,t.addEventListener("keyup",this.onKeyUp),t}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(t){var i={text:this.data.text+=t.text,alignment:this.data.alignment};this._element.innerHTML=this.data.text,this.data=i}},{key:"validate",value:function(t){return!(""===t.text.trim()&&!this._preserveBlank)}},{key:"save",value:function(t){return Object.assign(this.data,{text:t.innerHTML})}},{key:"onPaste",value:function(i){this.data={text:i.detail.data.innerHTML,alignment:this.config.defaultAlignment||t.DEFAULT_ALIGNMENT}}},{key:"renderSettings",value:function(){var t=this,i=document.createElement("div");return this.settings.map((function(n){var e=document.createElement("div");return e.classList.add("cdx-settings-button"),e.innerHTML=n.icon,e.classList.toggle(t.CSS.settingsButtonActive,n.name===t.data.alignment),i.appendChild(e),e})).forEach((function(i,n,e){i.addEventListener("click",(function(){t._toggleTune(t.settings[n].name),e.forEach((function(i,n){var e=t.settings[n].name;i.classList.toggle(t.CSS.settingsButtonActive,e===t.data.alignment),t._element.classList.toggle(t._CSS.alignment[e],e===t.data.alignment)}))}))})),i}},{key:"_toggleTune",value:function(t){this.data.alignment=t}},{key:"data",get:function(){return this._data},set:function(i){this._data={text:i.text||"",alignment:i.alignment||this.config.defaultAlignment||t.DEFAULT_ALIGNMENT},this._element.innerHTML=this._data.text||""}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0},alignment:{}}}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:n(5).default,title:"Text"}}}]),t}();t.exports=o},function(t,i,n){var e=n(2),r=n(3);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]),e(r,{insert:"head",singleton:!1}),t.exports=r.locals||{}},function(t,i,n){var e,r=function(){var t={};return function(i){if(void 0===t[i]){var n=document.querySelector(i);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[i]=n}return t[i]}}(),o=[];function s(t){for(var i=-1,n=0;n<o.length;n++)if(o[n].identifier===t){i=n;break}return i}function a(t,i){for(var n={},e=[],r=0;r<t.length;r++){var a=t[r],u=i.base?a[0]+i.base:a[0],c=n[u]||0,h="".concat(u," ").concat(c);n[u]=c+1;var f=s(h),l={css:a[1],media:a[2],sourceMap:a[3]};-1!==f?(o[f].references++,o[f].updater(l)):o.push({identifier:h,updater:p(l,i),references:1}),e.push(h)}return e}function u(t){var i=document.createElement("style"),e=t.attributes||{};if(void 0===e.nonce){var o=n.nc;o&&(e.nonce=o)}if(Object.keys(e).forEach((function(t){i.setAttribute(t,e[t])})),"function"==typeof t.insert)t.insert(i);else{var s=r(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(i)}return i}var c,h=(c=[],function(t,i){return c[t]=i,c.filter(Boolean).join("\n")});function f(t,i,n,e){var r=n?"":e.media?"@media ".concat(e.media," {").concat(e.css,"}"):e.css;if(t.styleSheet)t.styleSheet.cssText=h(i,r);else{var o=document.createTextNode(r),s=t.childNodes;s[i]&&t.removeChild(s[i]),s.length?t.insertBefore(o,s[i]):t.appendChild(o)}}function l(t,i,n){var e=n.css,r=n.media,o=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(e+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}var d=null,v=0;function p(t,i){var n,e,r;if(i.singleton){var o=v++;n=d||(d=u(i)),e=f.bind(null,n,o,!1),r=f.bind(null,n,o,!0)}else n=u(i),e=l.bind(null,n,i),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else r()}}t.exports=function(t,i){(i=i||{}).singleton||"boolean"==typeof i.singleton||(i.singleton=(void 0===e&&(e=Boolean(window&&document&&document.all&&!window.atob)),e));var n=a(t=t||[],i);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var e=0;e<n.length;e++){var r=s(n[e]);o[r].references--}for(var u=a(t,i),c=0;c<n.length;c++){var h=s(n[c]);0===o[h].references&&(o[h].updater(),o.splice(h,1))}n=u}}}},function(t,i,n){(i=n(4)(!1)).push([t.i,".ce-paragraph {\n    line-height: 1.6em;\n    outline: none;\n}\n.ce-paragraph--right {\n    text-align: right;\n}\n.ce-paragraph--center {\n    text-align: center;\n}\n.ce-paragraph--left {\n    text-align: left;\n}\n\n.ce-paragraph--justify {\n    text-align: justify;\n}\n\n.ce-paragraph[data-placeholder]:empty::before{\n  content: attr(data-placeholder);\n  color: #707684;\n  font-weight: normal;\n  opacity: 0;\n}\n\n/** Show placeholder at the first paragraph if Editor is empty */\n.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {\n  opacity: 1;\n}\n\n.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,\n.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {\n  opacity: 0;\n}\n\n.ce-paragraph p:first-of-type{\n    margin-top: 0;\n}\n\n.ce-paragraph p:last-of-type{\n    margin-bottom: 0;\n}\n\n\n.svg-icon {\n    width: 1em;\n    height: 1em;\n}\n\n.svg-icon path,\n.svg-icon polygon,\n.svg-icon rect {\n    fill: #4691f6;\n}\n\n.svg-icon circle {\n    stroke: #4691f6;\n    stroke-width: 1;\n}",""]),t.exports=i},function(t){t.exports=function(t){var i=[];return i.toString=function(){return this.map((function(i){var n=function(t,i){var n,e,r=t[1]||"",o=t[3];if(!o)return r;if(i&&"function"==typeof btoa){var s=(n=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),e="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(e," */")),a=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[r].concat(a).concat([s]).join("\n")}return[r].join("\n")}(i,t);return i[2]?"@media ".concat(i[2]," {").concat(n,"}"):n})).join("")},i.i=function(t,n,e){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(e)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var a=0;a<t.length;a++){var u=[].concat(t[a]);e&&r[u[0]]||(n&&(u[2]=u[2]?"".concat(n," and ").concat(u[2]):n),i.push(u))}},i}},function(t,i,n){n.r(i),i.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0.2 -0.3 9 11.4" width="12" height="14">\n  <path d="M0 2.77V.92A1 1 0 01.2.28C.35.1.56 0 .83 0h7.66c.28.01.48.1.63.28.14.17.21.38.21.64v1.85c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26a1 1 0 01-.21-.66V1.69H5.6v7.58h.5c.25 0 .45.08.6.23.17.16.25.35.25.6s-.08.45-.24.6a.87.87 0 01-.62.22H3.21a.87.87 0 01-.61-.22.78.78 0 01-.24-.6c0-.25.08-.44.24-.6a.85.85 0 01.61-.23h.5V1.7H1.73v1.08c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26A1 1 0 010 2.77z"/>\n</svg>\n'}])}))),di=ei(ri((function(t){window,t.exports=function(t){var i={};function n(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=i,n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,i){if(1&i&&(t=n(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)n.d(e,r,function(i){return t[i]}.bind(null,r));return e},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="",n(n.s=0)}([function(t,i,n){n.r(i),n.d(i,"StyleInlineTool",(function(){return c}));class e extends HTMLElement{}class r extends Error{constructor(...t){super(...t),this.name="EditorJSStyleError"}}var o,s,a=function(t,i,n){if(!i.has(t))throw new TypeError("attempted to set private field on non-instance");return i.set(t,n),n},u=function(t,i){if(!i.has(t))throw new TypeError("attempted to get private field on non-instance");return i.get(t)};class c{constructor({api:t}){o.set(this,void 0),s.set(this,void 0),a(this,o,document.createElement("div")),a(this,s,t)}static get isInline(){return!0}static get sanitize(){return{"editorjs-style":{class:!0,id:!0,style:!0}}}static get title(){return"Style"}static prepare(){customElements.get("editorjs-style")||customElements.define("editorjs-style",e)}get shortcut(){return"CMD+S"}checkState(){var t;u(this,o).innerHTML="";const i=u(this,s).selection.findParentTag("EDITORJS-STYLE");if(!i)return!1;u(this,o).innerHTML=`\n      <div style="margin-bottom: 16px; margin-left: 16px; margin-right: 16px; ">\n        <div style="display: flex; align-items: center; justify-content: space-between; ">\n          <div>Style settings</div>\n\n          <button class="delete-button ${u(this,s).styles.settingsButton}" type="button">\n            <svg class="icon" height="24" viewBox="0 0 24 24" width="24">\n              <path d="M0 0h24v24H0z" fill="none"/>\n              <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>\n            </svg>\n          </button>\n        </div>\n\n        <label style="display: flex; align-items: center; justify-content: space-between; ">\n          <span>ID</span>\n\n          <input class="id-input ${u(this,s).styles.input}" style="width: 80%; ">\n        </label>\n\n        <label style="display: flex; align-items: center; justify-content: space-between; ">\n          <span>Class</span>\n\n          <input class="class-input ${u(this,s).styles.input}" style="width: 80%; ">\n        </label>\n\n        <label style="display: flex; align-items: center; justify-content: space-between; ">\n          <span>Style</span>\n\n          <textarea\n            class="style-textarea ${u(this,s).styles.input}"\n            placeholder="background: #ffe7e8;"\n            style="resize: none; width: 80%; ">\n          </textarea>\n        </label>\n      </div>\n    `;const n=u(this,o).querySelector(".delete-button"),e=u(this,o).querySelector(".class-input"),a=u(this,o).querySelector(".id-input"),c=u(this,o).querySelector(".style-textarea");if(!(n&&e&&a&&c))throw new r;return n.addEventListener("click",(()=>{const t=Array.from(i.childNodes).map((t=>t.cloneNode(!0)));if(t.forEach((t=>{var n;return null===(n=i.parentNode)||void 0===n?void 0:n.insertBefore(t,i)})),i.remove(),0===t.length)return;const n=window.getSelection();if(!n)throw new r;n.removeAllRanges();const e=new Range;e.setStartBefore(t[0]),e.setEndAfter(t[t.length-1]),n.addRange(e),u(this,o).innerHTML="",u(this,s).tooltip.hide()})),u(this,s).tooltip.onHover(n,"Delete style",{placement:"top"}),e.value=i.className,e.addEventListener("input",(()=>i.setAttribute("class",e.value))),a.value=i.id,a.addEventListener("input",(()=>i.id=a.value)),c.value=null!==(t=i.getAttribute("style"))&&void 0!==t?t:"",c.addEventListener("keydown",(t=>t.stopPropagation())),c.addEventListener("input",(()=>i.setAttribute("style",c.value))),!0}clear(){u(this,o).innerHTML=""}render(){const t=document.createElement("button");return t.classList.add(u(this,s).styles.inlineToolButton),t.type="button",t.innerHTML='\n      <svg class="icon" height="24" viewBox="0 0 24 24" width="24">\n        <path d="M0 0h24v24H0z" fill="none"/>\n        <path d="M2.53 19.65l1.34.56v-9.03l-2.43 5.86c-.41 1.02.08 2.19 1.09 2.61zm19.5-3.7L17.07 3.98c-.31-.75-1.04-1.21-1.81-1.23-.26 0-.53.04-.79.15L7.1 5.95c-.75.31-1.21 1.03-1.23 1.8-.01.27.04.54.15.8l4.96 11.97c.31.76 1.05 1.22 1.83 1.23.26 0 .52-.05.77-.15l7.36-3.05c1.02-.42 1.51-1.59 1.09-2.6zM7.88 8.75c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-2 11c0 1.1.9 2 2 2h1.45l-3.45-8.34v6.34z"/>\n      </svg>\n    ',t}renderActions(){return u(this,o)}surround(t){const i=new e;t.surroundContents(i),u(this,s).selection.expandToTag(i)}}o=new WeakMap,s=new WeakMap}])})));function vi(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function pi(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function mi(t){return(mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var bi=function(t){return t&&"object"===mi(t)&&!Array.isArray(t)},gi=function t(i,n){var e=Object.assign({},i);return bi(i)&&bi(n)&&Object.keys(n).forEach((function(r){bi(n[r])&&r in i?e[r]=t(i[r],n[r]):Object.assign(e,function(t,i,n){return i in t?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,t}({},r,n[r]))})),e},yi={youtube:'<div class="embed"><iframe class="embed-youtube" frameborder="0" src="<%data.embed%>" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen <%data.length%>></iframe></div>',twitter:'<blockquote class="twitter-tweet" class="embed-twitter" <%data.length%>><a href="<%data.source%>"></a></blockquote> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"><\/script>',instagram:'<blockquote class="instagram-media" <%data.length%>><a href="<%data.embed%>/captioned"></a></blockquote><script async defer src="//www.instagram.com/embed.js"><\/script>',codepen:'<div class="embed"><iframe <%data.length%> scrolling="no" src="<%data.embed%>" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true"></iframe></div>',defaultMarkup:'<div class="embed"><iframe src="<%data.embed%>" <%data.length%> class="embed-unknown" allowfullscreen="true" frameborder="0" ></iframe></div>'},wi={paragraph:function(t,i){return'<p class="'.concat(i.paragraph.pClass,'"> ').concat(t.text," </p>")},header:function(t){return"<h".concat(t.level,">").concat(t.text,"</h").concat(t.level,">")},list:function(t){var i="ordered"===t.style?"ol":"ul",n=t.items.reduce((function(t,i){return t+"<li>".concat(i,"</li>")}),"");return"<".concat(i,">").concat(n,"</").concat(i,">")},quote:function(t,i){var n="";return i.quote.applyAlignment&&(n='style="text-align: '.concat(t.alignment,';"')),"<blockquote ".concat(n,"><p>").concat(t.text,"</p><cite>").concat(t.caption,"</cite></blockquote>")},table:function(t){var i=t.content.map((function(t){return"<tr>".concat(t.reduce((function(t,i){return t+"<td>".concat(i,"</td>")}),""),"</tr>")}));return"<table><tbody>".concat(i.join(""),"</tbody></table>")},image:function(t,i){var n,e="".concat(t.stretched?"img-fullwidth":""," ").concat(t.withBorder?"img-border":""," ").concat(t.withBackground?"img-bg":""),r=i.image.imgClass||"";if(n=t.url?t.url:"absolute"===i.image.path?t.file.url:i.image.path.replace(/<(.+)>/,(function(i,n){return t.file[n]})),"img"===i.image.use)return'<img class="'.concat(e," ").concat(r,'" src="').concat(n,'" alt="').concat(t.caption,'">');if("figure"===i.image.use){var o=i.image.figCapClass||"";return'<figure class="'.concat(i.image.figureClass||"",'"><img class="').concat(r," ").concat(e,'" src="').concat(n,'" alt="').concat(t.caption,'"><figcaption class="').concat(o,'">').concat(t.caption,"</figcaption></figure>")}},code:function(t,i){var n=function(t){return(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")}(t.code);return'<pre><code class="'.concat(i.code.codeBlockClass,'">').concat(n,"</code></pre>")},raw:function(t){return t.html},delimiter:function(){return"<br />"},embed:function(t,i){t.length=i.embed.useProvidedLength?'width="'.concat(t.width,'" height="').concat(t.height,'"'):"";var n=new RegExp(/<%data\.(.+?)%>/,"gm");return i.embedMarkups[t.service]?i.embedMarkups[t.service].replace(n,(function(i,n){return t[n]})):i.embedMarkups.defaultMarkup.replace(n,(function(i,n){return t[n]}))}},xi={image:{use:"figure",imgClass:"img",figureClass:"fig-img",figCapClass:"fig-cap",path:"absolute"},paragraph:{pClass:"paragraph"},code:{codeBlockClass:"code-block"},embed:{useProvidedLength:!1},quote:{applyAlignment:!1}},ki=function(){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};vi(this,t),this.config=gi(xi,i),this.config.embedMarkups=Object.assign(yi,e),this.parsers=Object.assign(wi,n)}var i,n;return i=t,(n=[{key:"parse",value:function(t){var i=this;return t.blocks.map((function(t){var n=i.parseBlock(t);return n instanceof Error?"":n})).join("")}},{key:"parseBlock",value:function(t){if(!this.parsers[t.type])return new Error("".concat(t.type," is not supported! Define your own custom function."));try{return this.parsers[t.type](t.data,this.config)}catch(t){return t}}}])&&pi(i.prototype,n),t}();const _i=ei(ri((function(t){window,t.exports=function(t){var i={};function n(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=i,n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,i){if(1&i&&(t=n(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)n.d(e,r,function(i){return t[i]}.bind(null,r));return e},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="/",n(n.s=15)}([function(t){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M8.02 2.48a.9.9 0 01.9.9l-.001 3.74h3.701a.9.9 0 010 1.8l-3.701-.001.001 3.701a.9.9 0 01-1.8 0V8.919l-3.74.001a.9.9 0 010-1.8h3.74V3.38a.9.9 0 01.9-.9z"></path></svg>'},function(t){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M12.277 3.763a.9.9 0 010 1.273L9.293 8.018l2.984 2.986a.9.9 0 01-1.273 1.272L8.02 9.291l-2.984 2.985a.9.9 0 01-1.273-1.272l2.984-2.986-2.984-2.982a.9.9 0 011.273-1.273L8.02 6.745l2.984-2.982a.9.9 0 011.273 0z"></path></svg>'},function(t){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"><rect width="18" height="18" fill="#F4F5F7" rx="2"></rect><circle cx="11.5" cy="6.5" r="1.5"></circle><circle cx="11.5" cy="11.5" r="1.5"></circle><circle cx="6.5" cy="6.5" r="1.5"></circle><circle cx="6.5" cy="11.5" r="1.5"></circle></svg>'},function(t){t.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><path transform="matrix(0 1 1 0 2.514 2.046)" d="M8.728-.038l.01.012 2.52 3.503a.895.895 0 01.169.568v.067a.894.894 0 01-.249.632l-.01.012-3.064 3.093a.9.9 0 01-1.29-1.254l.011-.012 1.877-1.896c-1.824-.204-3.232.063-4.242.767-1.279.892-2.035 2.571-2.222 5.112a.901.901 0 01-1.796-.132C.666 7.399 1.647 5.222 3.43 3.978c1.342-.936 3.072-1.296 5.173-1.11L7.276 1.027A.9.9 0 018.719-.05l.01.012z"></path></svg>'},function(t){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path fill="#1D202B" d="M13.552 10.774l-.012.01-3.503 2.52a.895.895 0 01-.568.169h-.067a.894.894 0 01-.632-.249l-.012-.01-3.093-3.064a.9.9 0 011.254-1.29l.012.011 1.896 1.877c.204-1.824-.063-3.232-.767-4.242-.892-1.279-2.571-2.035-5.112-2.222a.901.901 0 01.132-1.796c3.035.224 5.212 1.205 6.456 2.988.936 1.342 1.296 3.072 1.11 5.173l1.841-1.327a.9.9 0 011.077 1.443l-.012.01z"></path></svg>'},function(t){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path fill="#1D202B" d="M10.808 2.442l.01.012 2.52 3.503a.895.895 0 01.169.568v.067a.894.894 0 01-.249.632l-.01.012-3.064 3.093a.9.9 0 01-1.29-1.254l.011-.012 1.877-1.896c-1.824-.204-3.232.063-4.242.767-1.279.892-2.035 2.571-2.222 5.112a.901.901 0 01-1.796-.132c.224-3.035 1.205-5.212 2.988-6.456 1.342-.936 3.072-1.296 5.173-1.11L9.356 3.507a.9.9 0 011.443-1.076l.01.012z"></path></svg>'},function(t){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path fill="#1D202B" d="M10.808 13.518l.01-.012 2.52-3.503a.895.895 0 00.169-.568v-.067a.894.894 0 00-.249-.632l-.01-.012-3.064-3.093a.9.9 0 00-1.29 1.254l.011.012 1.877 1.896c-1.824.204-3.232-.063-4.242-.767-1.279-.892-2.035-2.571-2.222-5.112a.901.901 0 00-1.796.132c.224 3.035 1.205 5.212 2.988 6.456 1.342.936 3.072 1.296 5.173 1.11l-1.327 1.841a.9.9 0 001.443 1.076l.01-.012z"></path></svg>'},function(t){t.exports='<svg width="18" height="14"><path d="M2.833 8v1.95a1.7 1.7 0 0 0 1.7 1.7h3.45V8h-5.15zm0-2h5.15V2.35h-3.45a1.7 1.7 0 0 0-1.7 1.7V6zm12.3 2h-5.15v3.65h3.45a1.7 1.7 0 0 0 1.7-1.7V8zm0-2V4.05a1.7 1.7 0 0 0-1.7-1.7h-3.45V6h5.15zM4.533.1h8.9a3.95 3.95 0 0 1 3.95 3.95v5.9a3.95 3.95 0 0 1-3.95 3.95h-8.9a3.95 3.95 0 0 1-3.95-3.95v-5.9A3.95 3.95 0 0 1 4.533.1z"></path></svg>'},function(t){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="15" height="13"><path d="M14.74 10.175a1.1 1.1 0 110 2.2H1.1a1.1 1.1 0 110-2.2h13.64zm0-4.235a1.1 1.1 0 110 2.2H1.1a1.1 1.1 0 110-2.2h13.64zM13.887 0a1.952 1.952 0 110 3.905H1.954A1.953 1.953 0 111.952 0h11.935z"></path></svg>'},function(t){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="15" height="13"><path d="M14.602 9.9a1.237 1.237 0 110 2.475H1.238a1.238 1.238 0 110-2.475h13.364zm0-4.95a1.237 1.237 0 110 2.475H1.238a1.237 1.237 0 110-2.475h13.364zm0-4.95a1.238 1.238 0 110 2.475H1.238a1.238 1.238 0 110-2.475h13.364z"></path></svg>'},function(t,i,n){var e=n(11);"string"==typeof e&&(e=[[t.i,e,""]]);n(13)(e,{hmr:!0,transform:void 0,insertInto:void 0}),e.locals&&(t.exports=e.locals)},function(t,i,n){(t.exports=n(12)(!1)).push([t.i,'.tc-wrap{--color-background:#f9f9fb;--color-text-secondary:#7b7e89;--color-border:#e8e8eb;--cell-size:34px;--toolbox-icon-size:18px;--toolbox-padding:6px;--toolbox-aiming-field-size:calc(var(--toolbox-icon-size) + 2*var(--toolbox-padding));border-left:0;position:relative;height:100%;width:100%;margin-top:var(--toolbox-icon-size);box-sizing:border-box;display:grid;grid-template-columns:calc(100% - var(--cell-size)) var(--cell-size);}.tc-wrap--readonly{grid-template-columns:100% var(--cell-size)}.tc-wrap svg{vertical-align:top;fill:currentColor}.tc-table{position:relative;width:100%;height:100%;display:grid;font-size:14px;border-top:1px solid var(--color-border);line-height:1.4;}.tc-table:after{width:var(--cell-size);height:100%;left:calc(-1*var(--cell-size));top:0}.tc-table:after,.tc-table:before{position:absolute;content:""}.tc-table:before{width:100%;height:var(--toolbox-aiming-field-size);top:calc(-1*var(--toolbox-aiming-field-size));left:0}.tc-table--heading .tc-row:first-child{font-weight:600;border-bottom:2px solid var(--color-border);}.tc-table--heading .tc-row:first-child [contenteditable]:empty:before{content:attr(heading);color:var(--color-text-secondary)}.tc-table--heading .tc-row:first-child:after{bottom:-2px;border-bottom:2px solid var(--color-border)}.tc-add-column,.tc-add-row{display:flex;color:var(--color-text-secondary)}.tc-add-column{padding:9px 0;justify-content:center;border-top:1px solid var(--color-border)}.tc-add-row{height:var(--cell-size);align-items:center;padding-left:12px;position:relative;}.tc-add-row:before{content:"";position:absolute;right:calc(-1*var(--cell-size));width:var(--cell-size);height:100%}.tc-add-column,.tc-add-row{transition:0s;cursor:pointer;will-change:background-color;}.tc-add-column:hover,.tc-add-row:hover{transition:background-color .1s ease;background-color:var(--color-background)}.tc-add-row{margin-top:1px;}.tc-add-row:hover:before{transition:.1s;background-color:var(--color-background)}.tc-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(10px,1fr));position:relative;border-bottom:1px solid var(--color-border);}.tc-row:after{content:"";pointer-events:none;position:absolute;width:var(--cell-size);height:100%;bottom:-1px;right:calc(-1*var(--cell-size));border-bottom:1px solid var(--color-border)}.tc-row--selected{background:var(--color-background)}.tc-row--selected:after{background:var(--color-background)}.tc-cell{border-right:1px solid var(--color-border);padding:6px 12px;overflow:hidden;outline:none;line-break:normal;}.tc-cell--selected{background:var(--color-background)}.tc-wrap--readonly .tc-row:after{display:none}.tc-toolbox{--toolbox-padding:6px;--popover-margin:30px;--toggler-click-zone-size:30px;--toggler-dots-color:#7b7e89;--toggler-dots-color-hovered:#1d202b;position:absolute;cursor:pointer;z-index:1;opacity:0;transition:opacity .1s;will-change:left,opacity;}.tc-toolbox--column{top:calc(-1*var(--toggler-click-zone-size));-webkit-transform:translateX(calc(-1*var(--toggler-click-zone-size)/2));transform:translateX(calc(-1*var(--toggler-click-zone-size)/2));will-change:left,opacity}.tc-toolbox--row{left:calc(-1*var(--popover-margin));-webkit-transform:translateY(calc(-1*var(--toggler-click-zone-size)/2));transform:translateY(calc(-1*var(--toggler-click-zone-size)/2));margin-top:-1px;will-change:top,opacity}.tc-toolbox--showed{opacity:1}.tc-toolbox .tc-popover{position:absolute;top:0;left:var(--popover-margin)}.tc-toolbox__toggler{display:flex;align-items:center;justify-content:center;width:var(--toggler-click-zone-size);height:var(--toggler-click-zone-size);color:var(--toggler-dots-color);opacity:0;transition:opacity .15s ease;will-change:opacity;}.tc-toolbox__toggler:hover{color:var(--toggler-dots-color-hovered)}.tc-wrap:hover .tc-toolbox__toggler{opacity:1}.tc-settings .cdx-settings-button{width:50%;margin:0}.tc-popover{--color-border:#eaeaea;--color-background:#fff;--color-background-hover:rgba(232,232,235,0.49);--color-background-confirm:#e24a4a;--color-background-confirm-hover:#d54040;--color-text-confirm:#fff;background:var(--color-background);border:1px solid var(--color-border);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;padding:6px;display:none;will-change:opacity,transform;}.tc-popover--opened{display:block;-webkit-animation:menuShowing .1s cubic-bezier(.215,.61,.355,1) forwards;animation:menuShowing .1s cubic-bezier(.215,.61,.355,1) forwards}.tc-popover__item{display:flex;align-items:center;padding:2px 14px 2px 2px;border-radius:5px;cursor:pointer;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.tc-popover__item:hover{background:var(--color-background-hover)}.tc-popover__item:not(:last-of-type){margin-bottom:2px}.tc-popover__item-icon{display:inline-flex;width:26px;height:26px;align-items:center;justify-content:center;background:var(--color-background);border-radius:5px;border:1px solid var(--color-border);margin-right:8px}.tc-popover__item-label{line-height:22px;font-size:14px;font-weight:500}.tc-popover__item--confirm{background:var(--color-background-confirm);color:var(--color-text-confirm);}.tc-popover__item--confirm:hover{background-color:var(--color-background-confirm-hover)}.tc-popover__item--confirm .tc-popover__item-icon{background:var(--color-background-confirm);border-color:rgba(0,0,0,.1);}.tc-popover__item--confirm .tc-popover__item-icon svg{transition:-webkit-transform .2s ease-in;transition:transform .2s ease-in;transition:transform .2s ease-in,-webkit-transform .2s ease-in;-webkit-transform:rotate(90deg) scale(1.2);transform:rotate(90deg) scale(1.2)}.tc-popover__item--hidden{display:none}@-webkit-keyframes menuShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes menuShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}',""])},function(t){t.exports=function(t){var i=[];return i.toString=function(){return this.map((function(i){var n=function(t,i){var n=t[1]||"",e=t[3];if(!e)return n;if(i&&"function"==typeof btoa){var r="/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */",o=e.sources.map((function(t){return"/*# sourceURL="+e.sourceRoot+t+" */"}));return[n].concat(o).concat([r]).join("\n")}return[n].join("\n")}(i,t);return i[2]?"@media "+i[2]+"{"+n+"}":n})).join("")},i.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var e={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(e[o]=!0)}for(r=0;r<t.length;r++){var s=t[r];"number"==typeof s[0]&&e[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),i.push(s))}},i}},function(t,i,n){var e,r,o={},s=(e=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=e.apply(this,arguments)),r}),a=function(){var t={};return function(i,n){if("function"==typeof i)return i();if(void 0===t[i]){var e=function(t,i){return i?i.querySelector(t):document.querySelector(t)}.call(this,i,n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(i){e=null}t[i]=e}return t[i]}}(),u=null,c=0,h=[],f=n(14);function l(t,i){for(var n=0;n<t.length;n++){var e=t[n],r=o[e.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](e.parts[s]);for(;s<e.parts.length;s++)r.parts.push(g(e.parts[s],i))}else{var a=[];for(s=0;s<e.parts.length;s++)a.push(g(e.parts[s],i));o[e.id]={id:e.id,refs:1,parts:a}}}}function d(t,i){for(var n=[],e={},r=0;r<t.length;r++){var o=t[r],s=i.base?o[0]+i.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};e[s]?e[s].parts.push(a):n.push(e[s]={id:s,parts:[a]})}return n}function v(t,i){var n=a(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var e=h[h.length-1];if("top"===t.insertAt)e?e.nextSibling?n.insertBefore(i,e.nextSibling):n.appendChild(i):n.insertBefore(i,n.firstChild),h.push(i);else if("bottom"===t.insertAt)n.appendChild(i);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=a(t.insertAt.before,n);n.insertBefore(i,r)}}function p(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var i=h.indexOf(t);i>=0&&h.splice(i,1)}function m(t){var i=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var e=n.nc;e&&(t.attrs.nonce=e)}return b(i,t.attrs),v(t,i),i}function b(t,i){Object.keys(i).forEach((function(n){t.setAttribute(n,i[n])}))}function g(t,i){var n,e,r,o;if(i.transform&&t.css){if(!(o="function"==typeof i.transform?i.transform(t.css):i.transform.default(t.css)))return function(){};t.css=o}if(i.singleton){var s=c++;n=u||(u=m(i)),e=x.bind(null,n,s,!1),r=x.bind(null,n,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var i=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",b(i,t.attrs),v(t,i),i}(i),e=function(t,i,n){var e=n.css,r=n.sourceMap;(i.convertToAbsoluteUrls||void 0===i.convertToAbsoluteUrls&&r)&&(e=f(e)),r&&(e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([e],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}.bind(null,n,i),r=function(){p(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(i),e=function(t,i){var n=i.css,e=i.media;if(e&&t.setAttribute("media",e),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){p(n)});return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else r()}}t.exports=function(t,i){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(i=i||{}).attrs="object"==typeof i.attrs?i.attrs:{},i.singleton||"boolean"==typeof i.singleton||(i.singleton=s()),i.insertInto||(i.insertInto="head"),i.insertAt||(i.insertAt="bottom");var n=d(t,i);return l(n,i),function(t){for(var e=[],r=0;r<n.length;r++)(s=o[n[r].id]).refs--,e.push(s);for(t&&l(d(t,i),i),r=0;r<e.length;r++){var s;if(0===(s=e[r]).refs){for(var a=0;a<s.parts.length;a++)s.parts[a]();delete o[s.id]}}}};var y,w=(y=[],function(t,i){return y[t]=i,y.filter(Boolean).join("\n")});function x(t,i,n,e){var r=n?"":e.css;if(t.styleSheet)t.styleSheet.cssText=w(i,r);else{var o=document.createTextNode(r),s=t.childNodes;s[i]&&t.removeChild(s[i]),s.length?t.insertBefore(o,s[i]):t.appendChild(o)}}},function(t){t.exports=function(t){var i="undefined"!=typeof window&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=i.protocol+"//"+i.host,e=n+i.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,i){var r,o=i.trim().replace(/^"(.*)"$/,(function(t,i){return i})).replace(/^'(.*)'$/,(function(t,i){return i}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:e+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(t,i,n){n.r(i);var e=n(0),r=n.n(e),o=n(2),s=n.n(o);function a(t,i,n={}){const e=document.createElement(t);Array.isArray(i)?e.classList.add(...i):i&&e.classList.add(i);for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e}function u(t){const i=t.getBoundingClientRect();return{y1:Math.floor(i.top+window.pageYOffset),x1:Math.floor(i.left+window.pageXOffset),x2:Math.floor(i.right+window.pageXOffset),y2:Math.floor(i.bottom+window.pageYOffset)}}function c(t,i){const n=u(t),e=u(i);return{fromTopBorder:e.y1-n.y1,fromLeftBorder:e.x1-n.x1,fromRightBorder:n.x2-e.x2,fromBottomBorder:n.y2-e.y2}}function h(t,i){return i.parentNode.insertBefore(t,i)}function f(t,i=!0){const n=document.createRange(),e=window.getSelection();n.selectNodeContents(t),n.collapse(i),e.removeAllRanges(),e.addRange(n)}class l{constructor({items:t}){this.items=t,this.wrapper=void 0,this.itemEls=[]}static get CSS(){return{popover:"tc-popover",popoverOpened:"tc-popover--opened",item:"tc-popover__item",itemHidden:"tc-popover__item--hidden",itemConfirmState:"tc-popover__item--confirm",itemIcon:"tc-popover__item-icon",itemLabel:"tc-popover__item-label"}}render(){return this.wrapper=a("div",l.CSS.popover),this.items.forEach(((t,i)=>{const n=a("div",l.CSS.item),e=a("div",l.CSS.itemIcon,{innerHTML:t.icon}),r=a("div",l.CSS.itemLabel,{textContent:t.label});n.dataset.index=i,n.appendChild(e),n.appendChild(r),this.wrapper.appendChild(n),this.itemEls.push(n)})),this.wrapper.addEventListener("click",(t=>{this.popoverClicked(t)})),this.wrapper}popoverClicked(t){const i=t.target.closest(`.${l.CSS.item}`);if(!i)return;const n=this.items[i.dataset.index];!n.confirmationRequired||this.hasConfirmationState(i)?n.onClick():this.setConfirmationState(i)}setConfirmationState(t){t.classList.add(l.CSS.itemConfirmState)}clearConfirmationState(t){t.classList.remove(l.CSS.itemConfirmState)}hasConfirmationState(t){return t.classList.contains(l.CSS.itemConfirmState)}get opened(){return this.wrapper.classList.contains(l.CSS.popoverOpened)}open(){this.items.forEach(((t,i)=>{"function"==typeof t.hideIf&&this.itemEls[i].classList.toggle(l.CSS.itemHidden,t.hideIf())})),this.wrapper.classList.add(l.CSS.popoverOpened)}close(){this.wrapper.classList.remove(l.CSS.popoverOpened),this.itemEls.forEach((t=>{this.clearConfirmationState(t)}))}}class d{constructor({api:t,items:i,onOpen:n,onClose:e,cssModifier:r=""}){this.api=t,this.items=i,this.onOpen=n,this.onClose=e,this.cssModifier=r,this.popover=null,this.wrapper=this.createToolbox()}static get CSS(){return{toolbox:"tc-toolbox",toolboxShowed:"tc-toolbox--showed",toggler:"tc-toolbox__toggler"}}get element(){return this.wrapper}createToolbox(){const t=a("div",[d.CSS.toolbox,this.cssModifier?`${d.CSS.toolbox}--${this.cssModifier}`:""]),i=this.createPopover(),n=this.createToggler();return t.appendChild(n),t.appendChild(i),t}createToggler(){const t=a("div",d.CSS.toggler,{innerHTML:s.a});return t.addEventListener("click",(()=>{this.togglerClicked()})),t}createPopover(){return this.popover=new l({items:this.items}),this.popover.render()}togglerClicked(){this.popover.opened?(this.popover.close(),this.onClose()):(this.popover.open(),this.onOpen())}show(t){const i=t();Object.entries(i).forEach((([t,i])=>{this.wrapper.style[t]=i})),this.wrapper.classList.add(d.CSS.toolboxShowed)}hide(){this.popover.close(),this.wrapper.classList.remove(d.CSS.toolboxShowed)}}var v=n(3),p=n.n(v),m=n(4),b=n.n(m),g=n(5),y=n.n(g),w=n(6),x=n.n(w),k=n(1),_=n.n(k);const A="tc-wrap",S="tc-wrap--readonly",E="tc-table",M="tc-row",C="tc-table--heading",O="tc-row--selected",T="tc-cell",R="tc-cell--selected",j="tc-add-row",I="tc-add-column";class F{constructor(t,i,n,e){this.readOnly=t,this.api=i,this.data=n,this.config=e,this.wrapper=null,this.table=null,this.toolboxColumn=this.createColumnToolbox(),this.toolboxRow=this.createRowToolbox(),this.createTableWrapper(),this.hoveredRow=0,this.hoveredColumn=0,this.selectedRow=0,this.selectedColumn=0,this.tunes={withHeadings:!1},this.resize(),this.fill(),this.focusedCell={row:0,column:0},this.documentClicked=t=>{const i=null!==t.target.closest(`.${E}`),n=null===t.target.closest(`.${A}`);(i||n)&&this.hideToolboxes();const e=t.target.closest(`.${j}`),r=t.target.closest(`.${I}`);e&&e.parentNode===this.wrapper?(this.addRow(void 0,!0),this.hideToolboxes()):r&&r.parentNode===this.wrapper&&(this.addColumn(void 0,!0),this.hideToolboxes())},this.readOnly||this.bindEvents()}getWrapper(){return this.wrapper}bindEvents(){document.addEventListener("click",this.documentClicked),this.table.addEventListener("mousemove",function(t,i){let n=0;return function(...t){const e=(new Date).getTime();if(!(e-n<150))return n=e,i(...t)}}(0,(t=>this.onMouseMoveInTable(t))),{passive:!0}),this.table.onkeypress=t=>this.onKeyPressListener(t),this.table.addEventListener("keydown",(t=>this.onKeyDownListener(t))),this.table.addEventListener("focusin",(t=>this.focusInTableListener(t)))}createColumnToolbox(){return new d({api:this.api,cssModifier:"column",items:[{label:this.api.i18n.t("Add column to left"),icon:p.a,onClick:()=>{this.addColumn(this.selectedColumn,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add column to right"),icon:b.a,onClick:()=>{this.addColumn(this.selectedColumn+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete column"),icon:_.a,hideIf:()=>1===this.numberOfColumns,confirmationRequired:!0,onClick:()=>{this.deleteColumn(this.selectedColumn),this.hideToolboxes()}}],onOpen:()=>{this.selectColumn(this.hoveredColumn),this.hideRowToolbox()},onClose:()=>{this.unselectColumn()}})}createRowToolbox(){return new d({api:this.api,cssModifier:"row",items:[{label:this.api.i18n.t("Add row above"),icon:y.a,onClick:()=>{this.addRow(this.selectedRow,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add row below"),icon:x.a,onClick:()=>{this.addRow(this.selectedRow+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete row"),icon:_.a,hideIf:()=>1===this.numberOfRows,confirmationRequired:!0,onClick:()=>{this.deleteRow(this.selectedRow),this.hideToolboxes()}}],onOpen:()=>{this.selectRow(this.hoveredRow),this.hideColumnToolbox()},onClose:()=>{this.unselectRow()}})}moveCursorToNextRow(){this.focusedCell.row!==this.numberOfRows?(this.focusedCell.row+=1,this.focusCell(this.focusedCell)):(this.addRow(),this.focusedCell.row+=1,this.focusCell(this.focusedCell),this.updateToolboxesPosition(0,0))}getCell(t,i){return this.table.querySelector(`.${M}:nth-child(${t}) .${T}:nth-child(${i})`)}getRow(t){return this.table.querySelector(`.${M}:nth-child(${t})`)}getRowByCell(t){return t.parentElement}getRowFirstCell(t){return t.querySelector(`.${T}:first-child`)}setCellContent(t,i,n){this.getCell(t,i).innerHTML=n}addColumn(t=-1,i=!1){let n=this.numberOfColumns;for(let e=1;e<=this.numberOfRows;e++){const r=this.createCell();if(t>0&&t<=n?h(r,this.getCell(e,t)):this.getRow(e).appendChild(r),1===e){const r=this.getCell(e,t>0?t:n+1);r&&i&&f(r)}}this.addHeadingAttrToFirstRow()}addRow(t=-1,i=!1){let n,e=a("div",M);this.tunes.withHeadings&&this.removeHeadingAttrFromFirstRow();let r=this.numberOfColumns;n=t>0&&t<=this.numberOfRows?h(e,this.getRow(t)):this.table.appendChild(e),this.fillRow(n,r),this.tunes.withHeadings&&this.addHeadingAttrToFirstRow();const o=this.getRowFirstCell(n);return o&&i&&f(o),n}deleteColumn(t){for(let i=1;i<=this.numberOfRows;i++){const n=this.getCell(i,t);if(!n)return;n.remove()}}deleteRow(t){this.getRow(t).remove(),this.addHeadingAttrToFirstRow()}createTableWrapper(){if(this.wrapper=a("div",A),this.table=a("div",E),this.readOnly&&this.wrapper.classList.add(S),this.wrapper.appendChild(this.toolboxRow.element),this.wrapper.appendChild(this.toolboxColumn.element),this.wrapper.appendChild(this.table),!this.readOnly){const t=a("div",I,{innerHTML:r.a}),i=a("div",j,{innerHTML:r.a});this.wrapper.appendChild(t),this.wrapper.appendChild(i)}}computeInitialSize(){const t=this.data&&this.data.content,i=Array.isArray(t),n=i?t.length:void 0,e=i&&t.length?t[0].length:void 0,r=Number.parseInt(this.config&&this.config.rows),o=Number.parseInt(this.config&&this.config.cols),s=!isNaN(r)&&r>0?r:void 0,a=!isNaN(o)&&o>0?o:void 0;return{rows:n||s||2,cols:e||a||2}}resize(){const{rows:t,cols:i}=this.computeInitialSize();for(let i=0;i<t;i++)this.addRow();for(let t=0;t<i;t++)this.addColumn()}fill(){const t=this.data;if(t&&t.content)for(let i=0;i<t.content.length;i++)for(let n=0;n<t.content[i].length;n++)this.setCellContent(i+1,n+1,t.content[i][n])}fillRow(t,i){for(let n=1;n<=i;n++){const i=this.createCell();t.appendChild(i)}}createCell(){return a("div",T,{contentEditable:!this.readOnly})}get numberOfRows(){return this.table.childElementCount}get numberOfColumns(){return this.numberOfRows?this.table.querySelector(`.${M}:first-child`).childElementCount:0}get isColumnMenuShowing(){return 0!==this.selectedColumn}get isRowMenuShowing(){return 0!==this.selectedRow}onMouseMoveInTable(t){const{row:i,column:n}=this.getHoveredCell(t);this.hoveredColumn=n,this.hoveredRow=i,this.updateToolboxesPosition()}onKeyPressListener(t){if("Enter"===t.key){if(t.shiftKey)return!0;this.moveCursorToNextRow()}return"Enter"!==t.key}onKeyDownListener(t){"Tab"===t.key&&t.stopPropagation()}focusInTableListener(t){const i=t.target,n=this.getRowByCell(i);this.focusedCell={row:Array.from(this.table.querySelectorAll(`.${M}`)).indexOf(n)+1,column:Array.from(n.querySelectorAll(`.${T}`)).indexOf(i)+1}}hideToolboxes(){this.hideRowToolbox(),this.hideColumnToolbox(),this.updateToolboxesPosition()}hideRowToolbox(){this.unselectRow(),this.toolboxRow.hide()}hideColumnToolbox(){this.unselectColumn(),this.toolboxColumn.hide()}focusCell(){this.focusedCellElem.focus()}get focusedCellElem(){const{row:t,column:i}=this.focusedCell;return this.getCell(t,i)}updateToolboxesPosition(t=this.hoveredRow,i=this.hoveredColumn){this.isColumnMenuShowing||i>0&&i<=this.numberOfColumns&&this.toolboxColumn.show((()=>({left:`calc((100% - var(--cell-size)) / (${this.numberOfColumns} * 2) * (1 + (${i} - 1) * 2))`}))),this.isRowMenuShowing||t>0&&i<=this.numberOfColumns&&this.toolboxRow.show((()=>{const i=this.getRow(t),{fromTopBorder:n}=c(this.table,i),{height:e}=i.getBoundingClientRect();return{top:`${Math.ceil(n+e/2)}px`}}))}setHeadingsSetting(t){this.tunes.withHeadings=t,t?(this.table.classList.add(C),this.addHeadingAttrToFirstRow()):(this.table.classList.remove(C),this.removeHeadingAttrFromFirstRow())}addHeadingAttrToFirstRow(){for(let t=1;t<=this.numberOfColumns;t++){let i=this.getCell(1,t);i&&i.setAttribute("heading",this.api.i18n.t("Heading"))}}removeHeadingAttrFromFirstRow(){for(let t=1;t<=this.numberOfColumns;t++){let i=this.getCell(1,t);i&&i.removeAttribute("heading")}}selectRow(t){const i=this.getRow(t);i&&(this.selectedRow=t,i.classList.add(O))}unselectRow(){if(this.selectedRow<=0)return;const t=this.table.querySelector(`.${O}`);t&&t.classList.remove(O),this.selectedRow=0}selectColumn(t){for(let i=1;i<=this.numberOfRows;i++){const n=this.getCell(i,t);n&&n.classList.add(R)}this.selectedColumn=t}unselectColumn(){if(this.selectedColumn<=0)return;let t=this.table.querySelectorAll(`.${R}`);Array.from(t).forEach((t=>{t.classList.remove(R)})),this.selectedColumn=0}getHoveredCell(t){let i=this.hoveredRow,n=this.hoveredColumn;const{width:e,height:r,x:o,y:s}=function(t,i){const n=t.getBoundingClientRect(),{width:e,height:r,x:o,y:s}=n,{clientX:a,clientY:u}=i;return{width:e,height:r,x:a-o,y:u-s}}(this.table,t);return o>=0&&(n=this.binSearch(this.numberOfColumns,(t=>this.getCell(1,t)),(({fromLeftBorder:t})=>o<t),(({fromRightBorder:t})=>o>e-t))),s>=0&&(i=this.binSearch(this.numberOfRows,(t=>this.getCell(t,1)),(({fromTopBorder:t})=>s<t),(({fromBottomBorder:t})=>s>r-t))),{row:i||this.hoveredRow,column:n||this.hoveredColumn}}binSearch(t,i,n,e){let r,o=0,s=t+1,a=0;for(;o<s-1&&a<10;){const t=i(r=Math.ceil((o+s)/2)),u=c(this.table,t);if(n(u))s=r;else{if(!e(u))break;o=r}a++}return r}getData(){const t=[];for(let i=1;i<=this.numberOfRows;i++){const n=this.table.querySelector(`.${M}:nth-child(${i})`),e=Array.from(n.querySelectorAll(`.${T}`));e.every((t=>!t.textContent.trim()))||t.push(e.map((t=>t.innerHTML)))}return t}destroy(){document.removeEventListener("click",this.documentClicked)}}var B=n(7),z=n.n(B),P=n(8),L=n.n(P),D=n(9),N=n.n(D);class U{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}constructor({data:t,config:i,api:n,readOnly:e}){this.api=n,this.readOnly=e,this.data={withHeadings:!(!t||!t.withHeadings)&&t.withHeadings,content:t&&t.content?t.content:[]},this.config=i,this.table=null}static get toolbox(){return{icon:z.a,title:"Table"}}static get CSS(){return{settingsWrapper:"tc-settings"}}render(){return this.table=new F(this.readOnly,this.api,this.data,this.config),this.container=a("div",this.api.styles.block),this.container.appendChild(this.table.getWrapper()),this.table.setHeadingsSetting(this.data.withHeadings),this.container}renderSettings(){const t=a("div",U.CSS.settingsWrapper);return[{name:this.api.i18n.t("With headings"),icon:L.a,isActive:this.data.withHeadings,setTune:()=>{this.data.withHeadings=!0}},{name:this.api.i18n.t("Without headings"),icon:N.a,isActive:!this.data.withHeadings,setTune:()=>{this.data.withHeadings=!1}}].forEach((i=>{let n=a("div",this.api.styles.settingsButton);i.isActive&&n.classList.add(this.api.styles.settingsButtonActive),n.innerHTML=i.icon,n.addEventListener("click",(()=>this.toggleTune(i,n))),this.api.tooltip.onHover(n,i.name,{placement:"top",hidingDelay:500}),t.append(n)})),t}save(){const t=this.table.getData();return{withHeadings:this.data.withHeadings,content:t}}toggleTune(t,i){const n=i.parentNode.querySelectorAll("."+this.api.styles.settingsButton);Array.from(n).forEach((t=>t.classList.remove(this.api.styles.settingsButtonActive))),i.classList.toggle(this.api.styles.settingsButtonActive),t.setTune(),this.table.setHeadingsSetting(this.data.withHeadings)}destroy(){this.table.destroy()}}n(10),i.default=U}]).default})));class Ai{constructor(t,i){this.holder="string"==typeof i?document.getElementById(i):i,this.observer=null,this.debounceTimer=200,this.mutationDebouncer=this.debounce((()=>{t()}),this.debounceTimer)}setMutationObserver(){const t=this.holder;this.observer=new MutationObserver((t=>{this.mutationHandler(t)})),this.observer.observe(t,{childList:!0,attributes:!0,subtree:!0,characterData:!0,characterDataOldValue:!0})}mutationHandler(t){let i=!1;t.forEach((t=>{switch(t.type){case"childList":t.target===this.holder?this.onDestroy():i=!0;break;case"characterData":i=!0;break;case"attributes":t.target.classList.contains("ce-block")||(i=!0)}})),i&&this.mutationDebouncer()}debounce(t,i){let n;return(...e)=>{const r=this;clearTimeout(n),n=setTimeout((()=>t.apply(r,e)),i)}}onDestroy(){const t=new CustomEvent("destroy");document.dispatchEvent(t),this.observer.disconnect()}}class Si{constructor({editor:t,onUpdate:i,maxLength:n}){const e={maxLength:30,onUpdate(){}},{configuration:r}=t;this.editor=t,this.shouldSaveHistory=!0,this.readOnly=r.readOnly,this.maxLength=n||e.maxLength,this.onUpdate=i||e.onUpdate,new Ai((()=>this.registerChange()),r.holder).setMutationObserver(),this.setEventListeners(),this.initialItem=null,this.clear()}static get isReadOnlySupported(){return!0}truncate(t,i){for(;t.length>i;)t.shift()}initialize(t){const i="blocks"in t?t.blocks:t,n={index:i.length-1,state:i};this.stack[0]=n,this.initialItem=n}clear(){this.stack=this.initialItem?[this.initialItem]:[{index:0,state:[]}],this.position=0,this.onUpdate()}registerChange(){this.readOnly||(this.editor&&this.editor.save&&this.shouldSaveHistory&&this.editor.save().then((t=>{this.editorDidUpdate(t.blocks)&&this.save(t.blocks)})),this.shouldSaveHistory=!0)}editorDidUpdate(t){const{state:i}=this.stack[this.position];return t.length!==i.length||JSON.stringify(i)!==JSON.stringify(t)}save(t){this.position>=this.maxLength&&this.truncate(this.stack,this.maxLength),this.position=Math.min(this.position,this.stack.length-1),this.stack=this.stack.slice(0,this.position+1);const i=this.editor.blocks.getCurrentBlockIndex();this.stack.push({index:i,state:t}),this.position+=1,this.onUpdate()}undo(){if(this.canUndo()){this.shouldSaveHistory=!1;const{index:t,state:i}=this.stack[this.position-=1];this.onUpdate(),this.editor.blocks.render({blocks:i}).then((()=>this.editor.caret.setToBlock(t,"end")))}}redo(){if(this.canRedo()){this.shouldSaveHistory=!1;const{index:t,state:i}=this.stack[this.position+=1];this.onUpdate(),this.editor.blocks.render({blocks:i}).then((()=>this.editor.caret.setToBlock(t,"end")))}}canUndo(){return!this.readOnly&&this.position>0}canRedo(){return!this.readOnly&&this.position<this.count()}count(){return this.stack.length-1}setEventListeners(){const t=/(Mac)/i.test(navigator.platform)?"metaKey":"ctrlKey",i=i=>{i[t]&&"z"===i.key&&(i.preventDefault(),this.undo())},n=i=>{i[t]&&"y"===i.key&&(i.preventDefault(),this.redo())};document.addEventListener("keydown",i),document.addEventListener("keydown",n),document.addEventListener("destroy",(()=>{document.removeEventListener("keydown",i),document.removeEventListener("keydown",n)}))}}class Ei{constructor({configuration:t,blocks:i}){this.api=i,this.holder=t.holder,this.readOnly=!!t.readOnly,this.startBlock=null,this.endBlock=null,this.setDragListener(),this.setDropListener()}setDragListener(){if(!this.readOnly){const t=this.holder.querySelector(".ce-toolbar__settings-btn");t.setAttribute("draggable","true"),t.addEventListener("dragstart",(()=>{this.startBlock=this.api.getCurrentBlockIndex()}))}}setDropListener(){document.addEventListener("drop",(t=>{const{target:i}=t;if(this.holder.contains(i)){const t=this.getDropTarget(i);t&&(this.endBlock=this.getTargetPosition(t),this.moveBlocks())}}))}static get isReadOnlySupported(){return!0}getDropTarget(t){return t.classList.contains("ce-block")?t:t.closest(".ce-block")}getTargetPosition(t){return Array.from(t.parentNode.children).indexOf(t)}moveBlocks(){this.api.move(this.endBlock,this.startBlock)}}function Mi(t){let i=[];return i=t.items.map((t=>!0===t.checked?`- [x] ${t.text}`:`- [ ] ${t.text}`)),i.join("\n")}function Ci(t){if(t)throw t}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Oi=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},Ti=Object.prototype.hasOwnProperty,Ri=Object.prototype.toString,ji=Object.defineProperty,Ii=Object.getOwnPropertyDescriptor,Fi=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===Ri.call(t)},Bi=function(t){if(!t||"[object Object]"!==Ri.call(t))return!1;var i,n=Ti.call(t,"constructor"),e=t.constructor&&t.constructor.prototype&&Ti.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!e)return!1;for(i in t);return void 0===i||Ti.call(t,i)},zi=function(t,i){ji&&"__proto__"===i.name?ji(t,i.name,{enumerable:!0,configurable:!0,value:i.newValue,writable:!0}):t[i.name]=i.newValue},Pi=function(t,i){if("__proto__"===i){if(!Ti.call(t,i))return;if(Ii)return Ii(t,i).value}return t[i]},Li=function t(){var i,n,e,r,o,s,a=arguments[0],u=1,c=arguments.length,h=!1;for("boolean"==typeof a&&(h=a,a=arguments[1]||{},u=2),(null==a||"object"!=typeof a&&"function"!=typeof a)&&(a={});u<c;++u)if(null!=(i=arguments[u]))for(n in i)e=Pi(a,n),a!==(r=Pi(i,n))&&(h&&r&&(Bi(r)||(o=Fi(r)))?(o?(o=!1,s=e&&Fi(e)?e:[]):s=e&&Bi(e)?e:{},zi(a,{name:n,newValue:t(h,s,r)})):void 0!==r&&zi(a,{name:n,newValue:r}));return a};function Di(t){if("[object Object]"!==Object.prototype.toString.call(t))return!1;const i=Object.getPrototypeOf(t);return null===i||i===Object.prototype}var Ni={}.hasOwnProperty;function Ui(t){return t&&"object"==typeof t?Ni.call(t,"position")||Ni.call(t,"type")?Hi(t.position):Ni.call(t,"start")||Ni.call(t,"end")?Hi(t):Ni.call(t,"line")||Ni.call(t,"column")?Vi(t):"":""}function Vi(t){return $i(t&&t.line)+":"+$i(t&&t.column)}function Hi(t){return Vi(t&&t.start)+"-"+Vi(t&&t.end)}function $i(t){return t&&"number"==typeof t?t:1}class Ki extends Error{constructor(t,i,n){var e,r=[null,null],o={start:{line:null,column:null},end:{line:null,column:null}};super(),"string"==typeof i&&(n=i,i=null),"string"==typeof n&&(-1===(e=n.indexOf(":"))?r[1]=n:(r[0]=n.slice(0,e),r[1]=n.slice(e+1))),i&&("type"in i||"position"in i?i.position&&(o=i.position):"start"in i||"end"in i?o=i:("line"in i||"column"in i)&&(o.start=i)),this.name=Ui(i)||"1:1",this.message="object"==typeof t?t.message:t,this.stack="object"==typeof t?t.stack:"",this.reason=this.message,this.line=o.start.line,this.column=o.start.column,this.source=r[0],this.ruleId=r[1],this.position=o}}Ki.prototype.file="",Ki.prototype.name="",Ki.prototype.reason="",Ki.prototype.message="",Ki.prototype.stack="",Ki.prototype.fatal=null,Ki.prototype.column=null,Ki.prototype.line=null,Ki.prototype.source=null,Ki.prototype.ruleId=null,Ki.prototype.position=null;const Wi=function(t,i){if(void 0!==i&&"string"!=typeof i)throw new TypeError('"ext" argument must be a string');Qi(t);let n,e=0,r=-1,o=t.length;if(void 0===i||0===i.length||i.length>t.length){for(;o--;)if(47===t.charCodeAt(o)){if(n){e=o+1;break}}else r<0&&(n=!0,r=o+1);return r<0?"":t.slice(e,r)}if(i===t)return"";let s=-1,a=i.length-1;for(;o--;)if(47===t.charCodeAt(o)){if(n){e=o+1;break}}else s<0&&(n=!0,s=o+1),a>-1&&(t.charCodeAt(o)===i.charCodeAt(a--)?a<0&&(r=o):(a=-1,r=s));return e===r?r=s:r<0&&(r=t.length),t.slice(e,r)},qi=function(t){if(Qi(t),0===t.length)return".";let i,n=-1,e=t.length;for(;--e;)if(47===t.charCodeAt(e)){if(i){n=e;break}}else i||(i=!0);return n<0?47===t.charCodeAt(0)?"/":".":1===n&&47===t.charCodeAt(0)?"//":t.slice(0,n)},Gi=function(t){Qi(t);let i,n=t.length,e=-1,r=0,o=-1,s=0;for(;n--;){const a=t.charCodeAt(n);if(47!==a)e<0&&(i=!0,e=n+1),46===a?o<0?o=n:1!==s&&(s=1):o>-1&&(s=-1);else if(i){r=n+1;break}}return o<0||e<0||0===s||1===s&&o===e-1&&o===r+1?"":t.slice(o,e)},Yi=function(...t){let i,n=-1;for(;++n<t.length;)Qi(t[n]),t[n]&&(i=void 0===i?t[n]:i+"/"+t[n]);return void 0===i?".":function(t){Qi(t);const i=47===t.charCodeAt(0);let n=function(t,i){let n,e,r="",o=0,s=-1,a=0,u=-1;for(;++u<=t.length;){if(u<t.length)n=t.charCodeAt(u);else{if(47===n)break;n=47}if(47===n){if(s===u-1||1===a);else if(s!==u-1&&2===a){if(r.length<2||2!==o||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){if(e=r.lastIndexOf("/"),e!==r.length-1){e<0?(r="",o=0):(r=r.slice(0,e),o=r.length-1-r.lastIndexOf("/")),s=u,a=0;continue}}else if(r.length>0){r="",o=0,s=u,a=0;continue}i&&(r=r.length>0?r+"/..":"..",o=2)}else r.length>0?r+="/"+t.slice(s+1,u):r=t.slice(s+1,u),o=u-s-1;s=u,a=0}else 46===n&&a>-1?a++:a=-1}return r}(t,!i);return 0!==n.length||i||(n="."),n.length>0&&47===t.charCodeAt(t.length-1)&&(n+="/"),i?"/"+n:n}(i)},Ji="/";function Qi(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Zi=function(){return"/"};function Xi(t){return null!==t&&"object"==typeof t&&t.href&&t.origin}const tn=["history","path","basename","stem","extname","dirname"];class nn{constructor(t){let i;i=t?"string"==typeof t||Oi(t)?{value:t}:Xi(t)?{path:t}:t:{},this.data={},this.messages=[],this.history=[],this.cwd=Zi();let n,e=-1;for(;++e<tn.length;){const t=tn[e];t in i&&void 0!==i[t]&&(this[t]="history"===t?[...i[t]]:i[t])}for(n in i)tn.includes(n)||(this[n]=i[n])}get path(){return this.history[this.history.length-1]}set path(t){Xi(t)&&(t=function(t){if("string"==typeof t)t=new URL(t);else if(!Xi(t)){const i=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw i.code="ERR_INVALID_ARG_TYPE",i}if("file:"!==t.protocol){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return function(t){if(""!==t.hostname){const t=new TypeError('File URL host must be "localhost" or empty on darwin');throw t.code="ERR_INVALID_FILE_URL_HOST",t}const i=t.pathname;let n=-1;for(;++n<i.length;)if(37===i.charCodeAt(n)&&50===i.charCodeAt(n+1)){const t=i.charCodeAt(n+2);if(70===t||102===t){const t=new TypeError("File URL path must not include encoded / characters");throw t.code="ERR_INVALID_FILE_URL_PATH",t}}return decodeURIComponent(i)}(t)}(t)),rn(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return"string"==typeof this.path?qi(this.path):void 0}set dirname(t){on(this.basename,"dirname"),this.path=Yi(t||"",this.basename)}get basename(){return"string"==typeof this.path?Wi(this.path):void 0}set basename(t){rn(t,"basename"),en(t,"basename"),this.path=Yi(this.dirname||"",t)}get extname(){return"string"==typeof this.path?Gi(this.path):void 0}set extname(t){if(en(t,"extname"),on(this.dirname,"extname"),t){if(46!==t.charCodeAt(0))throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Yi(this.dirname,this.stem+(t||""))}get stem(){return"string"==typeof this.path?Wi(this.path,this.extname):void 0}set stem(t){rn(t,"stem"),en(t,"stem"),this.path=Yi(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t)}message(t,i,n){const e=new Ki(t,i,n);return this.path&&(e.name=this.path+":"+e.name,e.file=this.path),e.fatal=!1,this.messages.push(e),e}info(t,i,n){const e=this.message(t,i,n);return e.fatal=null,e}fail(t,i,n){const e=this.message(t,i,n);throw e.fatal=!0,e}}function en(t,i){if(t&&t.includes(Ji))throw new Error("`"+i+"` cannot be a path: did not expect `"+Ji+"`")}function rn(t,i){if(!t)throw new Error("`"+i+"` cannot be empty")}function on(t,i){if(!t)throw new Error("Setting `"+i+"` requires `path` to be set too")}const sn=function t(){const i=function(){const t=[],i={run:function(...i){let n=-1;const e=i.pop();if("function"!=typeof e)throw new TypeError("Expected function as last argument, not "+e);!function r(o,...s){const a=t[++n];let u=-1;if(o)e(o);else{for(;++u<i.length;)null==s[u]&&(s[u]=i[u]);i=s,a?function(t,i){let n;return function(...i){const o=t.length>i.length;let s;o&&i.push(e);try{s=t(...i)}catch(t){const i=t;if(o&&n)throw i;return e(i)}o||(s instanceof Promise?s.then(r,e):s instanceof Error?e(s):r(s))};function e(t,...e){n||(n=!0,i(t,...e))}function r(t){e(null,t)}}(a,r)(...s):e(null,...s)}}(null,...i)},use:function(n){if("function"!=typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return t.push(n),i}};return i}(),n=[];let e,r={},o=-1;return s.data=function(t,i){return"string"==typeof t?2===arguments.length?(fn("data",e),r[t]=i,s):an.call(r,t)&&r[t]||null:t?(fn("data",e),r=t,s):r},s.Parser=void 0,s.Compiler=void 0,s.freeze=function(){if(e)return s;for(;++o<n.length;){const[t,...e]=n[o];if(!1===e[0])continue;!0===e[0]&&(e[1]=void 0);const r=t.call(s,...e);"function"==typeof r&&i.use(r)}return e=!0,o=Number.POSITIVE_INFINITY,s},s.attachers=n,s.use=function(t,...i){let o;if(fn("use",e),null==t);else if("function"==typeof t)h(t,...i);else{if("object"!=typeof t)throw new TypeError("Expected usable value, not `"+t+"`");Array.isArray(t)?c(t):u(t)}return o&&(r.settings=Object.assign(r.settings||{},o)),s;function a(t){if("function"==typeof t)h(t);else{if("object"!=typeof t)throw new TypeError("Expected usable value, not `"+t+"`");if(Array.isArray(t)){const[i,...n]=t;h(i,...n)}else u(t)}}function u(t){c(t.plugins),t.settings&&(o=Object.assign(o||{},t.settings))}function c(t){let i=-1;if(null==t);else{if(!Array.isArray(t))throw new TypeError("Expected a list of plugins, not `"+t+"`");for(;++i<t.length;)a(t[i])}}function h(t,i){let e,r=-1;for(;++r<n.length;)if(n[r][0]===t){e=n[r];break}e?(Di(e[1])&&Di(i)&&(i=Li(!0,e[1],i)),e[1]=i):n.push([...arguments])}},s.parse=function(t){s.freeze();const i=vn(t),n=s.Parser;return cn("parse",n),un(n,"parse")?new n(String(i),i).parse():n(String(i),i)},s.stringify=function(t,i){s.freeze();const n=vn(i),e=s.Compiler;return hn("stringify",e),ln(t),un(e,"compile")?new e(t,n).compile():e(t,n)},s.run=function(t,n,e){if(ln(t),s.freeze(),e||"function"!=typeof n||(e=n,n=void 0),!e)return new Promise(r);function r(r,o){i.run(t,vn(n),(function(i,n,s){n=n||t,i?o(i):r?r(n):e(null,n,s)}))}r(null,e)},s.runSync=function(t,i){let n,e;return s.run(t,i,(function(t,i){Ci(t),n=i,e=!0})),dn("runSync","run",e),n},s.process=function(t,i){if(s.freeze(),cn("process",s.Parser),hn("process",s.Compiler),!i)return new Promise(n);function n(n,e){const r=vn(t);function o(t,r){t||!r?e(t):n?n(r):i(null,r)}s.run(s.parse(r),r,((t,i,n)=>{if(!t&&i&&n){const r=s.stringify(i,n);null==r||("string"==typeof(e=r)||Oi(e)?n.value=r:n.result=r),o(t,n)}else o(t);var e}))}n(null,i)},s.processSync=function(t){let i;s.freeze(),cn("processSync",s.Parser),hn("processSync",s.Compiler);const n=vn(t);return s.process(n,(function(t){i=!0,Ci(t)})),dn("processSync","process",i),n},s;function s(){const i=t();let e=-1;for(;++e<n.length;)i.use(...n[e]);return i.data(Li(!0,{},r)),i}}().freeze(),an={}.hasOwnProperty;function un(t,i){return"function"==typeof t&&t.prototype&&(function(t){let i;for(i in t)if(an.call(t,i))return!0;return!1}(t.prototype)||i in t.prototype)}function cn(t,i){if("function"!=typeof i)throw new TypeError("Cannot `"+t+"` without `Parser`")}function hn(t,i){if("function"!=typeof i)throw new TypeError("Cannot `"+t+"` without `Compiler`")}function fn(t,i){if(i)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ln(t){if(!Di(t)||"string"!=typeof t.type)throw new TypeError("Expected node, got `"+t+"`")}function dn(t,i,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+i+"` instead")}function vn(t){return function(t){return Boolean(t&&"object"==typeof t&&"message"in t&&"messages"in t)}(t)?t:new nn(t)}function pn(t,i){var{includeImageAlt:n=!0}=i||{};return mn(t,n)}function mn(t,i){return t&&"object"==typeof t&&(t.value||(i?t.alt:"")||"children"in t&&bn(t.children,i)||Array.isArray(t)&&bn(t,i))||""}function bn(t,i){for(var n=[],e=-1;++e<t.length;)n[e]=mn(t[e],i);return n.join("")}function gn(t,i,n,e){const r=t.length;let o,s=0;if(i=i<0?-i>r?0:r+i:i>r?r:i,n=n>0?n:0,e.length<1e4)o=Array.from(e),o.unshift(i,n),[].splice.apply(t,o);else for(n&&[].splice.apply(t,[i,n]);s<e.length;)o=e.slice(s,s+1e4),o.unshift(i,0),[].splice.apply(t,o),s+=1e4,i+=1e4}function yn(t,i){return t.length>0?(gn(t,t.length,0,i),t):i}const wn={}.hasOwnProperty;function xn(t,i){let n;for(n in i){const e=(wn.call(t,n)?t[n]:void 0)||(t[n]={}),r=i[n];let o;for(o in r){wn.call(e,o)||(e[o]=[]);const t=r[o];kn(e[o],Array.isArray(t)?t:t?[t]:[])}}}function kn(t,i){let n=-1;const e=[];for(;++n<i.length;)("after"===i[n].add?t:e).push(i[n]);gn(t,0,0,e)}const _n=Bn(/[A-Za-z]/),An=Bn(/\d/),Sn=Bn(/[\dA-Fa-f]/),En=Bn(/[\dA-Za-z]/),Mn=Bn(/[!-/:-@[-`{-~]/),Cn=Bn(/[#-'*+\--9=?A-Z^-~]/);function On(t){return null!==t&&(t<32||127===t)}function Tn(t){return null!==t&&(t<0||32===t)}function Rn(t){return null!==t&&t<-2}function jn(t){return-2===t||-1===t||32===t}const In=Bn(/\s/),Fn=Bn(/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/);function Bn(t){return function(i){return null!==i&&t.test(String.fromCharCode(i))}}function zn(t,i,n,e){const r=e?e-1:Number.POSITIVE_INFINITY;let o=0;return function(e){return jn(e)?(t.enter(n),s(e)):i(e)};function s(e){return jn(e)&&o++<r?(t.consume(e),s):(t.exit(n),i(e))}}const Pn={tokenize:function(t){const i=t.attempt(this.parser.constructs.contentInitial,(function(n){if(null!==n)return t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),zn(t,i,"linePrefix");t.consume(n)}),(function(i){return t.enter("paragraph"),e(i)}));let n;return i;function e(i){const e=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=e),n=e,r(i)}function r(i){return null===i?(t.exit("chunkText"),t.exit("paragraph"),void t.consume(i)):Rn(i)?(t.consume(i),t.exit("chunkText"),e):(t.consume(i),r)}}},Ln={tokenize:function(t){const i=this,n=[];let e,r,o,s=0;return a;function a(e){if(s<n.length){const r=n[s];return i.containerState=r[1],t.attempt(r[0].continuation,u,c)(e)}return c(e)}function u(t){if(s++,i.containerState._closeFlow){i.containerState._closeFlow=void 0,e&&g();const n=i.events.length;let r,o=n;for(;o--;)if("exit"===i.events[o][0]&&"chunkFlow"===i.events[o][1].type){r=i.events[o][1].end;break}b(s);let a=n;for(;a<i.events.length;)i.events[a][1].end=Object.assign({},r),a++;return gn(i.events,o+1,0,i.events.slice(n)),i.events.length=a,c(t)}return a(t)}function c(r){if(s===n.length){if(!e)return l(r);if(e.currentConstruct&&e.currentConstruct.concrete)return v(r);i.interrupt=Boolean(e.currentConstruct&&!e._gfmTableDynamicInterruptHack)}return i.containerState={},t.check(Dn,h,f)(r)}function h(t){return e&&g(),b(s),l(t)}function f(t){return i.parser.lazy[i.now().line]=s!==n.length,o=i.now().offset,v(t)}function l(n){return i.containerState={},t.attempt(Dn,d,v)(n)}function d(t){return s++,n.push([i.currentConstruct,i.containerState]),l(t)}function v(n){return null===n?(e&&g(),b(0),void t.consume(n)):(e=e||i.parser.flow(i.now()),t.enter("chunkFlow",{contentType:"flow",previous:r,_tokenizer:e}),p(n))}function p(n){return null===n?(m(t.exit("chunkFlow"),!0),b(0),void t.consume(n)):Rn(n)?(t.consume(n),m(t.exit("chunkFlow")),s=0,i.interrupt=void 0,a):(t.consume(n),p)}function m(t,n){const a=i.sliceStream(t);if(n&&a.push(null),t.previous=r,r&&(r.next=t),r=t,e.defineSkip(t.start),e.write(a),i.parser.lazy[t.start.line]){let t=e.events.length;for(;t--;)if(e.events[t][1].start.offset<o&&(!e.events[t][1].end||e.events[t][1].end.offset>o))return;const n=i.events.length;let r,a,u=n;for(;u--;)if("exit"===i.events[u][0]&&"chunkFlow"===i.events[u][1].type){if(r){a=i.events[u][1].end;break}r=!0}for(b(s),t=n;t<i.events.length;)i.events[t][1].end=Object.assign({},a),t++;gn(i.events,u+1,0,i.events.slice(n)),i.events.length=t}}function b(e){let r=n.length;for(;r-- >e;){const e=n[r];i.containerState=e[1],e[0].exit.call(i,t)}n.length=e}function g(){e.write([null]),r=void 0,e=void 0,i.containerState._closeFlow=void 0}}},Dn={tokenize:function(t,i,n){return zn(t,t.attempt(this.parser.constructs.document,i,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};function Nn(t){return null===t||Tn(t)||In(t)?1:Fn(t)?2:void 0}function Un(t,i,n){const e=[];let r=-1;for(;++r<t.length;){const o=t[r].resolveAll;o&&!e.includes(o)&&(i=o(i,n),e.push(o))}return i}const Vn={name:"attention",tokenize:function(t,i){const n=this.parser.constructs.attentionMarkers.null,e=this.previous,r=Nn(e);let o;return function(i){return t.enter("attentionSequence"),o=i,s(i)};function s(a){if(a===o)return t.consume(a),s;const u=t.exit("attentionSequence"),c=Nn(a),h=!c||2===c&&r||n.includes(a),f=!r||2===r&&c||n.includes(e);return u._open=Boolean(42===o?h:h&&(r||!f)),u._close=Boolean(42===o?f:f&&(c||!h)),i(a)}},resolveAll:function(t,i){let n,e,r,o,s,a,u,c,h=-1;for(;++h<t.length;)if("enter"===t[h][0]&&"attentionSequence"===t[h][1].type&&t[h][1]._close)for(n=h;n--;)if("exit"===t[n][0]&&"attentionSequence"===t[n][1].type&&t[n][1]._open&&i.sliceSerialize(t[n][1]).charCodeAt(0)===i.sliceSerialize(t[h][1]).charCodeAt(0)){if((t[n][1]._close||t[h][1]._open)&&(t[h][1].end.offset-t[h][1].start.offset)%3&&!((t[n][1].end.offset-t[n][1].start.offset+t[h][1].end.offset-t[h][1].start.offset)%3))continue;a=t[n][1].end.offset-t[n][1].start.offset>1&&t[h][1].end.offset-t[h][1].start.offset>1?2:1;const f=Object.assign({},t[n][1].end),l=Object.assign({},t[h][1].start);Hn(f,-a),Hn(l,a),o={type:a>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},t[n][1].end)},s={type:a>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[h][1].start),end:l},r={type:a>1?"strongText":"emphasisText",start:Object.assign({},t[n][1].end),end:Object.assign({},t[h][1].start)},e={type:a>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},s.end)},t[n][1].end=Object.assign({},o.start),t[h][1].start=Object.assign({},s.end),u=[],t[n][1].end.offset-t[n][1].start.offset&&(u=yn(u,[["enter",t[n][1],i],["exit",t[n][1],i]])),u=yn(u,[["enter",e,i],["enter",o,i],["exit",o,i],["enter",r,i]]),u=yn(u,Un(i.parser.constructs.insideSpan.null,t.slice(n+1,h),i)),u=yn(u,[["exit",r,i],["enter",s,i],["exit",s,i],["exit",e,i]]),t[h][1].end.offset-t[h][1].start.offset?(c=2,u=yn(u,[["enter",t[h][1],i],["exit",t[h][1],i]])):c=0,gn(t,n-1,h-n+3,u),h=n+u.length-c-2;break}for(h=-1;++h<t.length;)"attentionSequence"===t[h][1].type&&(t[h][1].type="data");return t}};function Hn(t,i){t.column+=i,t.offset+=i,t._bufferIndex+=i}const $n={name:"autolink",tokenize:function(t,i,n){let e=1;return function(i){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(i),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),r};function r(i){return _n(i)?(t.consume(i),o):Cn(i)?u(i):n(i)}function o(t){return 43===t||45===t||46===t||En(t)?s(t):u(t)}function s(i){return 58===i?(t.consume(i),a):(43===i||45===i||46===i||En(i))&&e++<32?(t.consume(i),s):u(i)}function a(i){return 62===i?(t.exit("autolinkProtocol"),l(i)):null===i||32===i||60===i||On(i)?n(i):(t.consume(i),a)}function u(i){return 64===i?(t.consume(i),e=0,c):Cn(i)?(t.consume(i),u):n(i)}function c(t){return En(t)?h(t):n(t)}function h(i){return 46===i?(t.consume(i),e=0,c):62===i?(t.exit("autolinkProtocol").type="autolinkEmail",l(i)):f(i)}function f(i){return(45===i||En(i))&&e++<63?(t.consume(i),45===i?f:h):n(i)}function l(n){return t.enter("autolinkMarker"),t.consume(n),t.exit("autolinkMarker"),t.exit("autolink"),i}}},Kn={tokenize:function(t,i,n){return zn(t,(function(t){return null===t||Rn(t)?i(t):n(t)}),"linePrefix")},partial:!0},Wn={name:"blockQuote",tokenize:function(t,i,n){const e=this;return function(i){if(62===i){const n=e.containerState;return n.open||(t.enter("blockQuote",{_container:!0}),n.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(i),t.exit("blockQuoteMarker"),r}return n(i)};function r(n){return jn(n)?(t.enter("blockQuotePrefixWhitespace"),t.consume(n),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),i):(t.exit("blockQuotePrefix"),i(n))}},continuation:{tokenize:function(t,i,n){return zn(t,t.attempt(Wn,i,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}},exit:function(t){t.exit("blockQuote")}},qn={name:"characterEscape",tokenize:function(t,i,n){return function(i){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(i),t.exit("escapeMarker"),e};function e(e){return Mn(e)?(t.enter("characterEscapeValue"),t.consume(e),t.exit("characterEscapeValue"),t.exit("characterEscape"),i):n(e)}}},Gn=document.createElement("i");function Yn(t){const i="&"+t+";";Gn.innerHTML=i;const n=Gn.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===t)&&n!==i&&n}const Jn={name:"characterReference",tokenize:function(t,i,n){const e=this;let r,o,s=0;return function(i){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(i),t.exit("characterReferenceMarker"),a};function a(i){return 35===i?(t.enter("characterReferenceMarkerNumeric"),t.consume(i),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),r=31,o=En,c(i))}function u(i){return 88===i||120===i?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(i),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),r=6,o=Sn,c):(t.enter("characterReferenceValue"),r=7,o=An,c(i))}function c(a){let u;return 59===a&&s?(u=t.exit("characterReferenceValue"),o!==En||Yn(e.sliceSerialize(u))?(t.enter("characterReferenceMarker"),t.consume(a),t.exit("characterReferenceMarker"),t.exit("characterReference"),i):n(a)):o(a)&&s++<r?(t.consume(a),c):n(a)}}},Qn={name:"codeFenced",tokenize:function(t,i,n){const e=this,r={tokenize:function(t,i,n){let e=0;return zn(t,(function(i){return t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),r(i)}),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function r(i){return i===u?(t.consume(i),e++,r):e<c?n(i):(t.exit("codeFencedFenceSequence"),zn(t,o,"whitespace")(i))}function o(e){return null===e||Rn(e)?(t.exit("codeFencedFence"),i(e)):n(e)}},partial:!0},o={tokenize:function(t,i,n){const e=this;return function(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),r};function r(t){return e.parser.lazy[e.now().line]?n(t):i(t)}},partial:!0},s=this.events[this.events.length-1],a=s&&"linePrefix"===s[1].type?s[2].sliceSerialize(s[1],!0).length:0;let u,c=0;return function(i){return t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u=i,h(i)};function h(i){return i===u?(t.consume(i),c++,h):(t.exit("codeFencedFenceSequence"),c<3?n(i):zn(t,f,"whitespace")(i))}function f(i){return null===i||Rn(i)?p(i):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),l(i))}function l(i){return null===i||Tn(i)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),zn(t,d,"whitespace")(i)):96===i&&i===u?n(i):(t.consume(i),l)}function d(i){return null===i||Rn(i)?p(i):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),v(i))}function v(i){return null===i||Rn(i)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),p(i)):96===i&&i===u?n(i):(t.consume(i),v)}function p(n){return t.exit("codeFencedFence"),e.interrupt?i(n):m(n)}function m(i){return null===i?g(i):Rn(i)?t.attempt(o,t.attempt(r,g,a?zn(t,m,"linePrefix",a+1):m),g)(i):(t.enter("codeFlowValue"),b(i))}function b(i){return null===i||Rn(i)?(t.exit("codeFlowValue"),m(i)):(t.consume(i),b)}function g(n){return t.exit("codeFenced"),i(n)}},concrete:!0},Zn={name:"codeIndented",tokenize:function(t,i,n){const e=this;return function(i){return t.enter("codeIndented"),zn(t,r,"linePrefix",5)(i)};function r(t){const i=e.events[e.events.length-1];return i&&"linePrefix"===i[1].type&&i[2].sliceSerialize(i[1],!0).length>=4?o(t):n(t)}function o(i){return null===i?a(i):Rn(i)?t.attempt(Xn,o,a)(i):(t.enter("codeFlowValue"),s(i))}function s(i){return null===i||Rn(i)?(t.exit("codeFlowValue"),o(i)):(t.consume(i),s)}function a(n){return t.exit("codeIndented"),i(n)}}},Xn={tokenize:function(t,i,n){const e=this;return r;function r(i){return e.parser.lazy[e.now().line]?n(i):Rn(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),r):zn(t,o,"linePrefix",5)(i)}function o(t){const o=e.events[e.events.length-1];return o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?i(t):Rn(t)?r(t):n(t)}},partial:!0},te={name:"codeText",tokenize:function(t,i,n){let e,r,o=0;return function(i){return t.enter("codeText"),t.enter("codeTextSequence"),s(i)};function s(i){return 96===i?(t.consume(i),o++,s):(t.exit("codeTextSequence"),a(i))}function a(i){return null===i?n(i):96===i?(r=t.enter("codeTextSequence"),e=0,c(i)):32===i?(t.enter("space"),t.consume(i),t.exit("space"),a):Rn(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),a):(t.enter("codeTextData"),u(i))}function u(i){return null===i||32===i||96===i||Rn(i)?(t.exit("codeTextData"),a(i)):(t.consume(i),u)}function c(n){return 96===n?(t.consume(n),e++,c):e===o?(t.exit("codeTextSequence"),t.exit("codeText"),i(n)):(r.type="codeTextData",u(n))}},resolve:function(t){let i,n,e=t.length-4,r=3;if(!("lineEnding"!==t[r][1].type&&"space"!==t[r][1].type||"lineEnding"!==t[e][1].type&&"space"!==t[e][1].type))for(i=r;++i<e;)if("codeTextData"===t[i][1].type){t[r][1].type="codeTextPadding",t[e][1].type="codeTextPadding",r+=2,e-=2;break}for(i=r-1,e++;++i<=e;)void 0===n?i!==e&&"lineEnding"!==t[i][1].type&&(n=i):i!==e&&"lineEnding"!==t[i][1].type||(t[n][1].type="codeTextData",i!==n+2&&(t[n][1].end=t[i-1][1].end,t.splice(n+2,i-n-2),e-=i-n-2,i=n+2),n=void 0);return t},previous:function(t){return 96!==t||"characterEscape"===this.events[this.events.length-1][1].type}};function ie(t){const i={};let n,e,r,o,s,a,u,c=-1;for(;++c<t.length;){for(;c in i;)c=i[c];if(n=t[c],c&&"chunkFlow"===n[1].type&&"listItemPrefix"===t[c-1][1].type&&(a=n[1]._tokenizer.events,r=0,r<a.length&&"lineEndingBlank"===a[r][1].type&&(r+=2),r<a.length&&"content"===a[r][1].type))for(;++r<a.length&&"content"!==a[r][1].type;)"chunkText"===a[r][1].type&&(a[r][1]._isInFirstContentOfListItem=!0,r++);if("enter"===n[0])n[1].contentType&&(Object.assign(i,ne(t,c)),c=i[c],u=!0);else if(n[1]._container){for(r=c,e=void 0;r--&&(o=t[r],"lineEnding"===o[1].type||"lineEndingBlank"===o[1].type);)"enter"===o[0]&&(e&&(t[e][1].type="lineEndingBlank"),o[1].type="lineEnding",e=r);e&&(n[1].end=Object.assign({},t[e][1].start),s=t.slice(e,c),s.unshift(n),gn(t,e,c-e+1,s))}}return!u}function ne(t,i){const n=t[i][1],e=t[i][2];let r=i-1;const o=[],s=n._tokenizer||e.parser[n.contentType](n.start),a=s.events,u=[],c={};let h,f,l=-1,d=n,v=0,p=0;const m=[p];for(;d;){for(;t[++r][1]!==d;);o.push(r),d._tokenizer||(h=e.sliceStream(d),d.next||h.push(null),f&&s.defineSkip(d.start),d._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(h),d._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=d,d=d.next}for(d=n;++l<a.length;)"exit"===a[l][0]&&"enter"===a[l-1][0]&&a[l][1].type===a[l-1][1].type&&a[l][1].start.line!==a[l][1].end.line&&(p=l+1,m.push(p),d._tokenizer=void 0,d.previous=void 0,d=d.next);for(s.events=[],d?(d._tokenizer=void 0,d.previous=void 0):m.pop(),l=m.length;l--;){const i=a.slice(m[l],m[l+1]),n=o.pop();u.unshift([n,n+i.length-1]),gn(t,n,2,i)}for(l=-1;++l<u.length;)c[v+u[l][0]]=v+u[l][1],v+=u[l][1]-u[l][0]-1;return c}const ee={tokenize:function(t,i){let n;return function(i){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),e(i)};function e(i){return null===i?r(i):Rn(i)?t.check(re,o,r)(i):(t.consume(i),e)}function r(n){return t.exit("chunkContent"),t.exit("content"),i(n)}function o(i){return t.consume(i),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,e}},resolve:function(t){return ie(t),t}},re={tokenize:function(t,i,n){const e=this;return function(i){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),zn(t,r,"linePrefix")};function r(r){if(null===r||Rn(r))return n(r);const o=e.events[e.events.length-1];return!e.parser.constructs.disable.null.includes("codeIndented")&&o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?i(r):t.interrupt(e.parser.constructs.flow,n,i)(r)}},partial:!0};function oe(t,i,n,e,r,o,s,a,u){const c=u||Number.POSITIVE_INFINITY;let h=0;return function(i){return 60===i?(t.enter(e),t.enter(r),t.enter(o),t.consume(i),t.exit(o),f):null===i||41===i||On(i)?n(i):(t.enter(e),t.enter(s),t.enter(a),t.enter("chunkString",{contentType:"string"}),v(i))};function f(n){return 62===n?(t.enter(o),t.consume(n),t.exit(o),t.exit(r),t.exit(e),i):(t.enter(a),t.enter("chunkString",{contentType:"string"}),l(n))}function l(i){return 62===i?(t.exit("chunkString"),t.exit(a),f(i)):null===i||60===i||Rn(i)?n(i):(t.consume(i),92===i?d:l)}function d(i){return 60===i||62===i||92===i?(t.consume(i),l):l(i)}function v(r){return 40===r?++h>c?n(r):(t.consume(r),v):41===r?h--?(t.consume(r),v):(t.exit("chunkString"),t.exit(a),t.exit(s),t.exit(e),i(r)):null===r||Tn(r)?h?n(r):(t.exit("chunkString"),t.exit(a),t.exit(s),t.exit(e),i(r)):On(r)?n(r):(t.consume(r),92===r?p:v)}function p(i){return 40===i||41===i||92===i?(t.consume(i),v):v(i)}}function se(t,i,n,e,r,o){const s=this;let a,u=0;return function(i){return t.enter(e),t.enter(r),t.consume(i),t.exit(r),t.enter(o),c};function c(f){return null===f||91===f||93===f&&!a||94===f&&!u&&"_hiddenFootnoteSupport"in s.parser.constructs||u>999?n(f):93===f?(t.exit(o),t.enter(r),t.consume(f),t.exit(r),t.exit(e),i):Rn(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),h(f))}function h(i){return null===i||91===i||93===i||Rn(i)||u++>999?(t.exit("chunkString"),c(i)):(t.consume(i),a=a||!jn(i),92===i?f:h)}function f(i){return 91===i||92===i||93===i?(t.consume(i),u++,h):h(i)}}function ae(t,i,n,e,r,o){let s;return function(i){return t.enter(e),t.enter(r),t.consume(i),t.exit(r),s=40===i?41:i,a};function a(n){return n===s?(t.enter(r),t.consume(n),t.exit(r),t.exit(e),i):(t.enter(o),u(n))}function u(i){return i===s?(t.exit(o),a(s)):null===i?n(i):Rn(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),zn(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(i))}function c(i){return i===s||null===i||Rn(i)?(t.exit("chunkString"),u(i)):(t.consume(i),92===i?h:c)}function h(i){return i===s||92===i?(t.consume(i),c):c(i)}}function ue(t,i){let n;return function e(r){return Rn(r)?(t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),n=!0,e):jn(r)?zn(t,e,n?"linePrefix":"lineSuffix")(r):i(r)}}function ce(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const he={name:"definition",tokenize:function(t,i,n){const e=this;let r;return function(i){return t.enter("definition"),se.call(e,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(i)};function o(i){return r=ce(e.sliceSerialize(e.events[e.events.length-1][1]).slice(1,-1)),58===i?(t.enter("definitionMarker"),t.consume(i),t.exit("definitionMarker"),ue(t,oe(t,t.attempt(fe,zn(t,s,"whitespace"),zn(t,s,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(i)}function s(o){return null===o||Rn(o)?(t.exit("definition"),e.parser.defined.includes(r)||e.parser.defined.push(r),i(o)):n(o)}}},fe={tokenize:function(t,i,n){return function(i){return Tn(i)?ue(t,e)(i):n(i)};function e(i){return 34===i||39===i||40===i?ae(t,zn(t,r,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(i):n(i)}function r(t){return null===t||Rn(t)?i(t):n(t)}},partial:!0},le={name:"hardBreakEscape",tokenize:function(t,i,n){return function(i){return t.enter("hardBreakEscape"),t.enter("escapeMarker"),t.consume(i),e};function e(e){return Rn(e)?(t.exit("escapeMarker"),t.exit("hardBreakEscape"),i(e)):n(e)}}},de={name:"headingAtx",tokenize:function(t,i,n){const e=this;let r=0;return function(i){return t.enter("atxHeading"),t.enter("atxHeadingSequence"),o(i)};function o(a){return 35===a&&r++<6?(t.consume(a),o):null===a||Tn(a)?(t.exit("atxHeadingSequence"),e.interrupt?i(a):s(a)):n(a)}function s(n){return 35===n?(t.enter("atxHeadingSequence"),a(n)):null===n||Rn(n)?(t.exit("atxHeading"),i(n)):jn(n)?zn(t,s,"whitespace")(n):(t.enter("atxHeadingText"),u(n))}function a(i){return 35===i?(t.consume(i),a):(t.exit("atxHeadingSequence"),s(i))}function u(i){return null===i||35===i||Tn(i)?(t.exit("atxHeadingText"),s(i)):(t.consume(i),u)}},resolve:function(t,i){let n,e,r=t.length-2,o=3;return"whitespace"===t[o][1].type&&(o+=2),r-2>o&&"whitespace"===t[r][1].type&&(r-=2),"atxHeadingSequence"===t[r][1].type&&(o===r-1||r-4>o&&"whitespace"===t[r-2][1].type)&&(r-=o+1===r?2:4),r>o&&(n={type:"atxHeadingText",start:t[o][1].start,end:t[r][1].end},e={type:"chunkText",start:t[o][1].start,end:t[r][1].end,contentType:"text"},gn(t,o,r-o+1,[["enter",n,i],["enter",e,i],["exit",e,i],["exit",n,i]])),t}},ve=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],pe=["pre","script","style","textarea"],me={name:"htmlFlow",tokenize:function(t,i,n){const e=this;let r,o,s,a,u;return function(i){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(i),c};function c(a){return 33===a?(t.consume(a),h):47===a?(t.consume(a),d):63===a?(t.consume(a),r=3,e.interrupt?i:F):_n(a)?(t.consume(a),s=String.fromCharCode(a),o=!0,v):n(a)}function h(o){return 45===o?(t.consume(o),r=2,f):91===o?(t.consume(o),r=5,s="CDATA[",a=0,l):_n(o)?(t.consume(o),r=4,e.interrupt?i:F):n(o)}function f(r){return 45===r?(t.consume(r),e.interrupt?i:F):n(r)}function l(r){return r===s.charCodeAt(a++)?(t.consume(r),a===s.length?e.interrupt?i:E:l):n(r)}function d(i){return _n(i)?(t.consume(i),s=String.fromCharCode(i),v):n(i)}function v(a){return null===a||47===a||62===a||Tn(a)?47!==a&&o&&pe.includes(s.toLowerCase())?(r=1,e.interrupt?i(a):E(a)):ve.includes(s.toLowerCase())?(r=6,47===a?(t.consume(a),p):e.interrupt?i(a):E(a)):(r=7,e.interrupt&&!e.parser.lazy[e.now().line]?n(a):o?b(a):m(a)):45===a||En(a)?(t.consume(a),s+=String.fromCharCode(a),v):n(a)}function p(r){return 62===r?(t.consume(r),e.interrupt?i:E):n(r)}function m(i){return jn(i)?(t.consume(i),m):A(i)}function b(i){return 47===i?(t.consume(i),A):58===i||95===i||_n(i)?(t.consume(i),g):jn(i)?(t.consume(i),b):A(i)}function g(i){return 45===i||46===i||58===i||95===i||En(i)?(t.consume(i),g):y(i)}function y(i){return 61===i?(t.consume(i),w):jn(i)?(t.consume(i),y):b(i)}function w(i){return null===i||60===i||61===i||62===i||96===i?n(i):34===i||39===i?(t.consume(i),u=i,x):jn(i)?(t.consume(i),w):(u=null,k(i))}function x(i){return null===i||Rn(i)?n(i):i===u?(t.consume(i),_):(t.consume(i),x)}function k(i){return null===i||34===i||39===i||60===i||61===i||62===i||96===i||Tn(i)?y(i):(t.consume(i),k)}function _(t){return 47===t||62===t||jn(t)?b(t):n(t)}function A(i){return 62===i?(t.consume(i),S):n(i)}function S(i){return jn(i)?(t.consume(i),S):null===i||Rn(i)?E(i):n(i)}function E(i){return 45===i&&2===r?(t.consume(i),T):60===i&&1===r?(t.consume(i),R):62===i&&4===r?(t.consume(i),B):63===i&&3===r?(t.consume(i),F):93===i&&5===r?(t.consume(i),I):!Rn(i)||6!==r&&7!==r?null===i||Rn(i)?M(i):(t.consume(i),E):t.check(be,B,M)(i)}function M(i){return t.exit("htmlFlowData"),C(i)}function C(i){return null===i?z(i):Rn(i)?t.attempt({tokenize:O,partial:!0},C,z)(i):(t.enter("htmlFlowData"),E(i))}function O(t,i,n){return function(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),r};function r(t){return e.parser.lazy[e.now().line]?n(t):i(t)}}function T(i){return 45===i?(t.consume(i),F):E(i)}function R(i){return 47===i?(t.consume(i),s="",j):E(i)}function j(i){return 62===i&&pe.includes(s.toLowerCase())?(t.consume(i),B):_n(i)&&s.length<8?(t.consume(i),s+=String.fromCharCode(i),j):E(i)}function I(i){return 93===i?(t.consume(i),F):E(i)}function F(i){return 62===i?(t.consume(i),B):45===i&&2===r?(t.consume(i),F):E(i)}function B(i){return null===i||Rn(i)?(t.exit("htmlFlowData"),z(i)):(t.consume(i),B)}function z(n){return t.exit("htmlFlow"),i(n)}},resolveTo:function(t){let i=t.length;for(;i--&&("enter"!==t[i][0]||"htmlFlow"!==t[i][1].type););return i>1&&"linePrefix"===t[i-2][1].type&&(t[i][1].start=t[i-2][1].start,t[i+1][1].start=t[i-2][1].start,t.splice(i-2,2)),t},concrete:!0},be={tokenize:function(t,i,n){return function(e){return t.exit("htmlFlowData"),t.enter("lineEndingBlank"),t.consume(e),t.exit("lineEndingBlank"),t.attempt(Kn,i,n)}},partial:!0},ge={name:"htmlText",tokenize:function(t,i,n){const e=this;let r,o,s,a;return function(i){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(i),u};function u(i){return 33===i?(t.consume(i),c):47===i?(t.consume(i),k):63===i?(t.consume(i),w):_n(i)?(t.consume(i),S):n(i)}function c(i){return 45===i?(t.consume(i),h):91===i?(t.consume(i),o="CDATA[",s=0,p):_n(i)?(t.consume(i),y):n(i)}function h(i){return 45===i?(t.consume(i),f):n(i)}function f(i){return null===i||62===i?n(i):45===i?(t.consume(i),l):d(i)}function l(t){return null===t||62===t?n(t):d(t)}function d(i){return null===i?n(i):45===i?(t.consume(i),v):Rn(i)?(a=d,I(i)):(t.consume(i),d)}function v(i){return 45===i?(t.consume(i),B):d(i)}function p(i){return i===o.charCodeAt(s++)?(t.consume(i),s===o.length?m:p):n(i)}function m(i){return null===i?n(i):93===i?(t.consume(i),b):Rn(i)?(a=m,I(i)):(t.consume(i),m)}function b(i){return 93===i?(t.consume(i),g):m(i)}function g(i){return 62===i?B(i):93===i?(t.consume(i),g):m(i)}function y(i){return null===i||62===i?B(i):Rn(i)?(a=y,I(i)):(t.consume(i),y)}function w(i){return null===i?n(i):63===i?(t.consume(i),x):Rn(i)?(a=w,I(i)):(t.consume(i),w)}function x(t){return 62===t?B(t):w(t)}function k(i){return _n(i)?(t.consume(i),_):n(i)}function _(i){return 45===i||En(i)?(t.consume(i),_):A(i)}function A(i){return Rn(i)?(a=A,I(i)):jn(i)?(t.consume(i),A):B(i)}function S(i){return 45===i||En(i)?(t.consume(i),S):47===i||62===i||Tn(i)?E(i):n(i)}function E(i){return 47===i?(t.consume(i),B):58===i||95===i||_n(i)?(t.consume(i),M):Rn(i)?(a=E,I(i)):jn(i)?(t.consume(i),E):B(i)}function M(i){return 45===i||46===i||58===i||95===i||En(i)?(t.consume(i),M):C(i)}function C(i){return 61===i?(t.consume(i),O):Rn(i)?(a=C,I(i)):jn(i)?(t.consume(i),C):E(i)}function O(i){return null===i||60===i||61===i||62===i||96===i?n(i):34===i||39===i?(t.consume(i),r=i,T):Rn(i)?(a=O,I(i)):jn(i)?(t.consume(i),O):(t.consume(i),r=void 0,j)}function T(i){return i===r?(t.consume(i),R):null===i?n(i):Rn(i)?(a=T,I(i)):(t.consume(i),T)}function R(t){return 62===t||47===t||Tn(t)?E(t):n(t)}function j(i){return null===i||34===i||39===i||60===i||61===i||96===i?n(i):62===i||Tn(i)?E(i):(t.consume(i),j)}function I(i){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),zn(t,F,"linePrefix",e.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function F(i){return t.enter("htmlTextData"),a(i)}function B(e){return 62===e?(t.consume(e),t.exit("htmlTextData"),t.exit("htmlText"),i):n(e)}}},ye={name:"labelEnd",tokenize:function(t,i,n){const e=this;let r,o,s=e.events.length;for(;s--;)if(("labelImage"===e.events[s][1].type||"labelLink"===e.events[s][1].type)&&!e.events[s][1]._balanced){r=e.events[s][1];break}return function(i){return r?r._inactive?u(i):(o=e.parser.defined.includes(ce(e.sliceSerialize({start:r.end,end:e.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(i),t.exit("labelMarker"),t.exit("labelEnd"),a):n(i)};function a(n){return 40===n?t.attempt(we,i,o?i:u)(n):91===n?t.attempt(xe,i,o?t.attempt(ke,i,u):u)(n):o?i(n):u(n)}function u(t){return r._balanced=!0,n(t)}},resolveTo:function(t,i){let n,e,r,o,s=t.length,a=0;for(;s--;)if(n=t[s][1],e){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===t[s][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(r){if("enter"===t[s][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(e=s,"labelLink"!==n.type)){a=2;break}}else"labelEnd"===n.type&&(r=s);const u={type:"labelLink"===t[e][1].type?"link":"image",start:Object.assign({},t[e][1].start),end:Object.assign({},t[t.length-1][1].end)},c={type:"label",start:Object.assign({},t[e][1].start),end:Object.assign({},t[r][1].end)},h={type:"labelText",start:Object.assign({},t[e+a+2][1].end),end:Object.assign({},t[r-2][1].start)};return o=[["enter",u,i],["enter",c,i]],o=yn(o,t.slice(e+1,e+a+3)),o=yn(o,[["enter",h,i]]),o=yn(o,Un(i.parser.constructs.insideSpan.null,t.slice(e+a+4,r-3),i)),o=yn(o,[["exit",h,i],t[r-2],t[r-1],["exit",c,i]]),o=yn(o,t.slice(r+1)),o=yn(o,[["exit",u,i]]),gn(t,e,t.length,o),t},resolveAll:function(t){let i,n=-1;for(;++n<t.length;)i=t[n][1],"labelImage"!==i.type&&"labelLink"!==i.type&&"labelEnd"!==i.type||(t.splice(n+1,"labelImage"===i.type?4:2),i.type="data",n++);return t}},we={tokenize:function(t,i,n){return function(i){return t.enter("resource"),t.enter("resourceMarker"),t.consume(i),t.exit("resourceMarker"),ue(t,e)};function e(i){return 41===i?s(i):oe(t,r,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",3)(i)}function r(i){return Tn(i)?ue(t,o)(i):s(i)}function o(i){return 34===i||39===i||40===i?ae(t,ue(t,s),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(i):s(i)}function s(e){return 41===e?(t.enter("resourceMarker"),t.consume(e),t.exit("resourceMarker"),t.exit("resource"),i):n(e)}}},xe={tokenize:function(t,i,n){const e=this;return function(i){return se.call(e,t,r,n,"reference","referenceMarker","referenceString")(i)};function r(t){return e.parser.defined.includes(ce(e.sliceSerialize(e.events[e.events.length-1][1]).slice(1,-1)))?i(t):n(t)}}},ke={tokenize:function(t,i,n){return function(i){return t.enter("reference"),t.enter("referenceMarker"),t.consume(i),t.exit("referenceMarker"),e};function e(e){return 93===e?(t.enter("referenceMarker"),t.consume(e),t.exit("referenceMarker"),t.exit("reference"),i):n(e)}}},_e={name:"labelStartImage",tokenize:function(t,i,n){const e=this;return function(i){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(i),t.exit("labelImageMarker"),r};function r(i){return 91===i?(t.enter("labelMarker"),t.consume(i),t.exit("labelMarker"),t.exit("labelImage"),o):n(i)}function o(t){return 94===t&&"_hiddenFootnoteSupport"in e.parser.constructs?n(t):i(t)}},resolveAll:ye.resolveAll},Ae={name:"labelStartLink",tokenize:function(t,i,n){const e=this;return function(i){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(i),t.exit("labelMarker"),t.exit("labelLink"),r};function r(t){return 94===t&&"_hiddenFootnoteSupport"in e.parser.constructs?n(t):i(t)}},resolveAll:ye.resolveAll},Se={name:"lineEnding",tokenize:function(t,i){return function(n){return t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),zn(t,i,"linePrefix")}}},Ee={name:"thematicBreak",tokenize:function(t,i,n){let e,r=0;return function(i){return t.enter("thematicBreak"),e=i,o(i)};function o(a){return a===e?(t.enter("thematicBreakSequence"),s(a)):jn(a)?zn(t,o,"whitespace")(a):r<3||null!==a&&!Rn(a)?n(a):(t.exit("thematicBreak"),i(a))}function s(i){return i===e?(t.consume(i),r++,s):(t.exit("thematicBreakSequence"),o(i))}}},Me={name:"list",tokenize:function(t,i,n){const e=this,r=e.events[e.events.length-1];let o=r&&"linePrefix"===r[1].type?r[2].sliceSerialize(r[1],!0).length:0,s=0;return function(i){const r=e.containerState.type||(42===i||43===i||45===i?"listUnordered":"listOrdered");if("listUnordered"===r?!e.containerState.marker||i===e.containerState.marker:An(i)){if(e.containerState.type||(e.containerState.type=r,t.enter(r,{_container:!0})),"listUnordered"===r)return t.enter("listItemPrefix"),42===i||45===i?t.check(Ee,n,u)(i):u(i);if(!e.interrupt||49===i)return t.enter("listItemPrefix"),t.enter("listItemValue"),a(i)}return n(i)};function a(i){return An(i)&&++s<10?(t.consume(i),a):(!e.interrupt||s<2)&&(e.containerState.marker?i===e.containerState.marker:41===i||46===i)?(t.exit("listItemValue"),u(i)):n(i)}function u(i){return t.enter("listItemMarker"),t.consume(i),t.exit("listItemMarker"),e.containerState.marker=e.containerState.marker||i,t.check(Kn,e.interrupt?n:c,t.attempt(Ce,f,h))}function c(t){return e.containerState.initialBlankLine=!0,o++,f(t)}function h(i){return jn(i)?(t.enter("listItemPrefixWhitespace"),t.consume(i),t.exit("listItemPrefixWhitespace"),f):n(i)}function f(n){return e.containerState.size=o+e.sliceSerialize(t.exit("listItemPrefix"),!0).length,i(n)}},continuation:{tokenize:function(t,i,n){const e=this;return e.containerState._closeFlow=void 0,t.check(Kn,(function(n){return e.containerState.furtherBlankLines=e.containerState.furtherBlankLines||e.containerState.initialBlankLine,zn(t,i,"listItemIndent",e.containerState.size+1)(n)}),(function(n){return e.containerState.furtherBlankLines||!jn(n)?(e.containerState.furtherBlankLines=void 0,e.containerState.initialBlankLine=void 0,r(n)):(e.containerState.furtherBlankLines=void 0,e.containerState.initialBlankLine=void 0,t.attempt(Oe,i,r)(n))}));function r(r){return e.containerState._closeFlow=!0,e.interrupt=void 0,zn(t,t.attempt(Me,i,n),"linePrefix",e.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(r)}}},exit:function(t){t.exit(this.containerState.type)}},Ce={tokenize:function(t,i,n){const e=this;return zn(t,(function(t){const r=e.events[e.events.length-1];return!jn(t)&&r&&"listItemPrefixWhitespace"===r[1].type?i(t):n(t)}),"listItemPrefixWhitespace",e.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},Oe={tokenize:function(t,i,n){const e=this;return zn(t,(function(t){const r=e.events[e.events.length-1];return r&&"listItemIndent"===r[1].type&&r[2].sliceSerialize(r[1],!0).length===e.containerState.size?i(t):n(t)}),"listItemIndent",e.containerState.size+1)},partial:!0},Te={name:"setextUnderline",tokenize:function(t,i,n){const e=this;let r,o,s=e.events.length;for(;s--;)if("lineEnding"!==e.events[s][1].type&&"linePrefix"!==e.events[s][1].type&&"content"!==e.events[s][1].type){o="paragraph"===e.events[s][1].type;break}return function(i){return e.parser.lazy[e.now().line]||!e.interrupt&&!o?n(i):(t.enter("setextHeadingLine"),t.enter("setextHeadingLineSequence"),r=i,a(i))};function a(i){return i===r?(t.consume(i),a):(t.exit("setextHeadingLineSequence"),zn(t,u,"lineSuffix")(i))}function u(e){return null===e||Rn(e)?(t.exit("setextHeadingLine"),i(e)):n(e)}},resolveTo:function(t,i){let n,e,r,o=t.length;for(;o--;)if("enter"===t[o][0]){if("content"===t[o][1].type){n=o;break}"paragraph"===t[o][1].type&&(e=o)}else"content"===t[o][1].type&&t.splice(o,1),r||"definition"!==t[o][1].type||(r=o);const s={type:"setextHeading",start:Object.assign({},t[e][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[e][1].type="setextHeadingText",r?(t.splice(e,0,["enter",s,i]),t.splice(r+1,0,["exit",t[n][1],i]),t[n][1].end=Object.assign({},t[r][1].end)):t[n][1]=s,t.push(["exit",s,i]),t}},Re={tokenize:function(t){const i=this,n=t.attempt(Kn,(function(e){if(null!==e)return t.enter("lineEndingBlank"),t.consume(e),t.exit("lineEndingBlank"),i.currentConstruct=void 0,n;t.consume(e)}),t.attempt(this.parser.constructs.flowInitial,e,zn(t,t.attempt(this.parser.constructs.flow,e,t.attempt(ee,e)),"linePrefix")));return n;function e(e){if(null!==e)return t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),i.currentConstruct=void 0,n;t.consume(e)}}},je={resolveAll:ze()},Ie=Be("string"),Fe=Be("text");function Be(t){return{tokenize:function(i){const n=this,e=this.parser.constructs[t],r=i.attempt(e,o,s);return o;function o(t){return u(t)?r(t):s(t)}function s(t){if(null!==t)return i.enter("data"),i.consume(t),a;i.consume(t)}function a(t){return u(t)?(i.exit("data"),r(t)):(i.consume(t),a)}function u(t){if(null===t)return!0;const i=e[t];let r=-1;if(i)for(;++r<i.length;){const t=i[r];if(!t.previous||t.previous.call(n,n.previous))return!0}return!1}},resolveAll:ze("text"===t?Pe:void 0)}}function ze(t){return function(i,n){let e,r=-1;for(;++r<=i.length;)void 0===e?i[r]&&"data"===i[r][1].type&&(e=r,r++):i[r]&&"data"===i[r][1].type||(r!==e+2&&(i[e][1].end=i[r-1][1].end,i.splice(e+2,r-e-2),r=e+2),e=void 0);return t?t(i,n):i}}function Pe(t,i){let n=-1;for(;++n<=t.length;)if((n===t.length||"lineEnding"===t[n][1].type)&&"data"===t[n-1][1].type){const e=t[n-1][1],r=i.sliceStream(e);let o,s=r.length,a=-1,u=0;for(;s--;){const t=r[s];if("string"==typeof t){for(a=t.length;32===t.charCodeAt(a-1);)u++,a--;if(a)break;a=-1}else if(-2===t)o=!0,u++;else if(-1!==t){s++;break}}if(u){const r={type:n===t.length||o||u<2?"lineSuffix":"hardBreakTrailing",start:{line:e.end.line,column:e.end.column-u,offset:e.end.offset-u,_index:e.start._index+s,_bufferIndex:s?a:e.start._bufferIndex+a},end:Object.assign({},e.end)};e.end=Object.assign({},r.start),e.start.offset===e.end.offset?Object.assign(e,r):(t.splice(n,0,["enter",r,i],["exit",r,i]),n+=2)}n++}return t}function Le(t,i,n){let e=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const r={},o=[];let s=[],a=[];const u={consume:function(t){Rn(t)?(e.line++,e.column=1,e.offset+=-3===t?2:1,b()):-1!==t&&(e.column++,e.offset++),e._bufferIndex<0?e._index++:(e._bufferIndex++,e._bufferIndex===s[e._index].length&&(e._bufferIndex=-1,e._index++)),c.previous=t},enter:function(t,i){const n=i||{};return n.type=t,n.start=l(),c.events.push(["enter",n,c]),a.push(n),n},exit:function(){const t=a.pop();return t.end=l(),c.events.push(["exit",t,c]),t},attempt:p((function(t,i){m(t,i.from)})),check:p(v),interrupt:p(v,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:f,sliceSerialize:function(t,i){return function(t,i){let n=-1;const e=[];let r;for(;++n<t.length;){const o=t[n];let s;if("string"==typeof o)s=o;else switch(o){case-5:s="\r";break;case-4:s="\n";break;case-3:s="\r\n";break;case-2:s=i?" ":"\t";break;case-1:if(!i&&r)continue;s=" ";break;default:s=String.fromCharCode(o)}r=-2===o,e.push(s)}return e.join("")}(f(t),i)},now:l,defineSkip:function(t){r[t.line]=t.column,b()},write:function(t){return s=yn(s,t),function(){let t;for(;e._index<s.length;){const i=s[e._index];if("string"==typeof i)for(t=e._index,e._bufferIndex<0&&(e._bufferIndex=0);e._index===t&&e._bufferIndex<i.length;)d(i.charCodeAt(e._bufferIndex));else d(i)}}(),null!==s[s.length-1]?[]:(m(i,0),c.events=Un(o,c.events,c),c.events)}};let h=i.tokenize.call(c,u);return i.resolveAll&&o.push(i),c;function f(t){return function(t,i){const n=i.start._index,e=i.start._bufferIndex,r=i.end._index,o=i.end._bufferIndex;let s;return n===r?s=[t[n].slice(e,o)]:(s=t.slice(n,r),e>-1&&(s[0]=s[0].slice(e)),o>0&&s.push(t[r].slice(0,o))),s}(s,t)}function l(){return Object.assign({},e)}function d(t){h=h(t)}function v(t,i){i.restore()}function p(t,i){return function(n,r,o){let s,h,f,d;return Array.isArray(n)?v(n):"tokenize"in n?v([n]):function(t){return function(i){const n=null!==i&&t[i],e=null!==i&&t.null;return v([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(e)?e:e?[e]:[]])(i)}}(n);function v(t){return s=t,h=0,0===t.length?o:p(t[h])}function p(t){return function(n){return d=function(){const t=l(),i=c.previous,n=c.currentConstruct,r=c.events.length,o=Array.from(a);return{restore:function(){e=t,c.previous=i,c.currentConstruct=n,c.events.length=r,a=o,b()},from:r}}(),f=t,t.partial||(c.currentConstruct=t),t.name&&c.parser.constructs.disable.null.includes(t.name)?g():t.tokenize.call(i?Object.assign(Object.create(c),i):c,u,m,g)(n)}}function m(){return t(f,d),r}function g(){return d.restore(),++h<s.length?p(s[h]):o}}}function m(t,i){t.resolveAll&&!o.includes(t)&&o.push(t),t.resolve&&gn(c.events,i,c.events.length-i,t.resolve(c.events.slice(i),c)),t.resolveTo&&(c.events=t.resolveTo(c.events,c))}function b(){e.line in r&&e.column<2&&(e.column=r[e.line],e.offset+=r[e.line]-1)}}const De=Object.freeze({__proto__:null,document:{42:Me,43:Me,45:Me,48:Me,49:Me,50:Me,51:Me,52:Me,53:Me,54:Me,55:Me,56:Me,57:Me,62:Wn},contentInitial:{91:he},flowInitial:{[-2]:Zn,[-1]:Zn,32:Zn},flow:{35:de,42:Ee,45:[Te,Ee],60:me,61:Te,95:Ee,96:Qn,126:Qn},string:{38:Jn,92:qn},text:{[-5]:Se,[-4]:Se,[-3]:Se,33:_e,38:Jn,42:Vn,60:[$n,ge],91:Ae,92:[le,qn],93:ye,95:Vn,96:te},insideSpan:{null:[Vn,je]},attentionMarkers:{null:[42,95]},disable:{null:[]}});const Ne=/[\0\t\n\r]/g;function Ue(t,i){const n=Number.parseInt(t,i);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535==(65535&n)||65534==(65535&n)||n>1114111?"�":String.fromCharCode(n)}const Ve=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function He(t){return t.replace(Ve,$e)}function $e(t,i,n){if(i)return i;if(35===n.charCodeAt(0)){const t=n.charCodeAt(1),i=120===t||88===t;return Ue(n.slice(i?2:1),i?16:10)}return Yn(n)||t}const Ke={}.hasOwnProperty,We=function(t,i,n){return"string"!=typeof i&&(n=i,i=void 0),function(t={}){const i=qe({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(x),autolinkProtocol:d,autolinkEmail:d,atxHeading:a(g),blockQuote:a((function(){return{type:"blockquote",children:[]}})),characterEscape:d,characterReference:d,codeFenced:a(b),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:a(b,u),codeText:a((function(){return{type:"inlineCode",value:""}}),u),codeTextData:d,data:d,codeFlowValue:d,definition:a((function(){return{type:"definition",identifier:"",label:null,title:null,url:""}})),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:a((function(){return{type:"emphasis",children:[]}})),hardBreakEscape:a(y),hardBreakTrailing:a(y),htmlFlow:a(w,u),htmlFlowData:d,htmlText:a(w,u),htmlTextData:d,image:a((function(){return{type:"image",title:null,url:"",alt:null}})),label:u,link:a(x),listItem:a((function(t){return{type:"listItem",spread:t._spread,checked:null,children:[]}})),listItemValue:function(t){o("expectingFirstListItemValue")&&(this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(t),10),r("expectingFirstListItemValue"))},listOrdered:a(k,(function(){r("expectingFirstListItemValue",!0)})),listUnordered:a(k),paragraph:a((function(){return{type:"paragraph",children:[]}})),reference:function(){r("referenceType","collapsed")},referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:a(g),strong:a((function(){return{type:"strong",children:[]}})),thematicBreak:a((function(){return{type:"thematicBreak"}}))},exit:{atxHeading:h(),atxHeadingSequence:function(t){const i=this.stack[this.stack.length-1];if(!i.depth){const n=this.sliceSerialize(t).length;i.depth=n}},autolink:h(),autolinkEmail:function(t){v.call(this,t),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(t)},autolinkProtocol:function(t){v.call(this,t),this.stack[this.stack.length-1].url=this.sliceSerialize(t)},blockQuote:h(),characterEscapeValue:v,characterReferenceMarkerHexadecimal:m,characterReferenceMarkerNumeric:m,characterReferenceValue:function(t){const i=this.sliceSerialize(t),n=o("characterReferenceType");let e;n?(e=Ue(i,"characterReferenceMarkerNumeric"===n?10:16),r("characterReferenceType")):e=Yn(i);const a=this.stack.pop();a.value+=e,a.position.end=s(t.end)},codeFenced:h((function(){const t=this.resume();this.stack[this.stack.length-1].value=t.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),r("flowCodeInside")})),codeFencedFence:function(){o("flowCodeInside")||(this.buffer(),r("flowCodeInside",!0))},codeFencedFenceInfo:function(){const t=this.resume();this.stack[this.stack.length-1].lang=t},codeFencedFenceMeta:function(){const t=this.resume();this.stack[this.stack.length-1].meta=t},codeFlowValue:v,codeIndented:h((function(){const t=this.resume();this.stack[this.stack.length-1].value=t.replace(/(\r?\n|\r)$/g,"")})),codeText:h((function(){const t=this.resume();this.stack[this.stack.length-1].value=t})),codeTextData:v,data:v,definition:h(),definitionDestinationString:function(){const t=this.resume();this.stack[this.stack.length-1].url=t},definitionLabelString:function(t){const i=this.resume(),n=this.stack[this.stack.length-1];n.label=i,n.identifier=ce(this.sliceSerialize(t)).toLowerCase()},definitionTitleString:function(){const t=this.resume();this.stack[this.stack.length-1].title=t},emphasis:h(),hardBreakEscape:h(p),hardBreakTrailing:h(p),htmlFlow:h((function(){const t=this.resume();this.stack[this.stack.length-1].value=t})),htmlFlowData:v,htmlText:h((function(){const t=this.resume();this.stack[this.stack.length-1].value=t})),htmlTextData:v,image:h((function(){const t=this.stack[this.stack.length-1];o("inReference")?(t.type+="Reference",t.referenceType=o("referenceType")||"shortcut",delete t.url,delete t.title):(delete t.identifier,delete t.label),r("referenceType")})),label:function(){const t=this.stack[this.stack.length-1],i=this.resume(),n=this.stack[this.stack.length-1];r("inReference",!0),"link"===n.type?n.children=t.children:n.alt=i},labelText:function(t){const i=this.stack[this.stack.length-2],n=this.sliceSerialize(t);i.label=He(n),i.identifier=ce(n).toLowerCase()},lineEnding:function(t){const n=this.stack[this.stack.length-1];if(o("atHardBreak"))return n.children[n.children.length-1].position.end=s(t.end),void r("atHardBreak");!o("setextHeadingSlurpLineEnding")&&i.canContainEols.includes(n.type)&&(d.call(this,t),v.call(this,t))},link:h((function(){const t=this.stack[this.stack.length-1];o("inReference")?(t.type+="Reference",t.referenceType=o("referenceType")||"shortcut",delete t.url,delete t.title):(delete t.identifier,delete t.label),r("referenceType")})),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:function(t){const i=this.resume(),n=this.stack[this.stack.length-1];n.label=i,n.identifier=ce(this.sliceSerialize(t)).toLowerCase(),r("referenceType","full")},resourceDestinationString:function(){const t=this.resume();this.stack[this.stack.length-1].url=t},resourceTitleString:function(){const t=this.resume();this.stack[this.stack.length-1].title=t},resource:function(){r("inReference")},setextHeading:h((function(){r("setextHeadingSlurpLineEnding")})),setextHeadingLineSequence:function(t){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(t).charCodeAt(0)?1:2},setextHeadingText:function(){r("setextHeadingSlurpLineEnding",!0)},strong:h(),thematicBreak:h()}},t.mdastExtensions||[]),n={};return function(t){let n={type:"root",children:[]};const a=[],h=[],d={stack:[n],tokenStack:a,config:i,enter:c,exit:f,buffer:u,resume:l,setData:r,getData:o};let v=-1;for(;++v<t.length;)"listOrdered"!==t[v][1].type&&"listUnordered"!==t[v][1].type||("enter"===t[v][0]?h.push(v):v=e(t,h.pop(),v));for(v=-1;++v<t.length;){const n=i[t[v][0]];Ke.call(n,t[v][1].type)&&n[t[v][1].type].call(Object.assign({sliceSerialize:t[v][2].sliceSerialize},d),t[v][1])}if(a.length>0){const t=a[a.length-1];(t[1]||Ye).call(d,void 0,t[0])}for(n.position={start:s(t.length>0?t[0][1].start:{line:1,column:1,offset:0}),end:s(t.length>0?t[t.length-2][1].end:{line:1,column:1,offset:0})},v=-1;++v<i.transforms.length;)n=i.transforms[v](n)||n;return n};function e(t,i,n){let e,r,o,s,a=i-1,u=-1,c=!1;for(;++a<=n;){const i=t[a];if("listUnordered"===i[1].type||"listOrdered"===i[1].type||"blockQuote"===i[1].type?("enter"===i[0]?u++:u--,s=void 0):"lineEndingBlank"===i[1].type?"enter"===i[0]&&(!e||s||u||o||(o=a),s=void 0):"linePrefix"===i[1].type||"listItemValue"===i[1].type||"listItemMarker"===i[1].type||"listItemPrefix"===i[1].type||"listItemPrefixWhitespace"===i[1].type||(s=void 0),!u&&"enter"===i[0]&&"listItemPrefix"===i[1].type||-1===u&&"exit"===i[0]&&("listUnordered"===i[1].type||"listOrdered"===i[1].type)){if(e){let s=a;for(r=void 0;s--;){const i=t[s];if("lineEnding"===i[1].type||"lineEndingBlank"===i[1].type){if("exit"===i[0])continue;r&&(t[r][1].type="lineEndingBlank",c=!0),i[1].type="lineEnding",r=s}else if("linePrefix"!==i[1].type&&"blockQuotePrefix"!==i[1].type&&"blockQuotePrefixWhitespace"!==i[1].type&&"blockQuoteMarker"!==i[1].type&&"listItemIndent"!==i[1].type)break}o&&(!r||o<r)&&(e._spread=!0),e.end=Object.assign({},r?t[r][1].start:i[1].end),t.splice(r||a,0,["exit",e,i[2]]),a++,n++}"listItemPrefix"===i[1].type&&(e={type:"listItem",_spread:!1,start:Object.assign({},i[1].start)},t.splice(a,0,["enter",e,i[2]]),a++,n++,o=void 0,s=!0)}}return t[i][1]._spread=c,n}function r(t,i){n[t]=i}function o(t){return n[t]}function s(t){return{line:t.line,column:t.column,offset:t.offset}}function a(t,i){return function(n){c.call(this,t(n),n),i&&i.call(this,n)}}function u(){this.stack.push({type:"fragment",children:[]})}function c(t,i,n){return this.stack[this.stack.length-1].children.push(t),this.stack.push(t),this.tokenStack.push([i,n]),t.position={start:s(i.start)},t}function h(t){return function(i){t&&t.call(this,i),f.call(this,i)}}function f(t,i){const n=this.stack.pop(),e=this.tokenStack.pop();if(!e)throw new Error("Cannot close `"+t.type+"` ("+Ui({start:t.start,end:t.end})+"): it’s not open");return e[0].type!==t.type&&(i?i.call(this,t,e[0]):(e[1]||Ye).call(this,t,e[0])),n.position.end=s(t.end),n}function l(){return pn(this.stack.pop())}function d(t){const i=this.stack[this.stack.length-1];let n=i.children[i.children.length-1];n&&"text"===n.type||(n={type:"text",value:""},n.position={start:s(t.start)},i.children.push(n)),this.stack.push(n)}function v(t){const i=this.stack.pop();i.value+=this.sliceSerialize(t),i.position.end=s(t.end)}function p(){r("atHardBreak",!0)}function m(t){r("characterReferenceType",t.type)}function b(){return{type:"code",lang:null,meta:null,value:""}}function g(){return{type:"heading",depth:void 0,children:[]}}function y(){return{type:"break"}}function w(){return{type:"html",value:""}}function x(){return{type:"link",title:null,url:"",children:[]}}function k(t){return{type:"list",ordered:"listOrdered"===t.type,start:null,spread:t._spread,children:[]}}}(n)(function(t){for(;!ie(t););return t}(function(t={}){const i={defined:[],lazy:{},constructs:function(t){const i={};let n=-1;for(;++n<t.length;)xn(i,t[n]);return i}([De].concat(t.extensions||[])),content:n(Pn),document:n(Ln),flow:n(Re),string:n(Ie),text:n(Fe)};return i;function n(t){return function(n){return Le(i,t,n)}}}(n).document().write(function(){let t,i=1,n="",e=!0;return function(r,o,s){const a=[];let u,c,h,f,l;for(r=n+r.toString(o),h=0,n="",e&&(65279===r.charCodeAt(0)&&h++,e=void 0);h<r.length;){if(Ne.lastIndex=h,u=Ne.exec(r),f=u&&void 0!==u.index?u.index:r.length,l=r.charCodeAt(f),!u){n=r.slice(h);break}if(10===l&&h===f&&t)a.push(-3),t=void 0;else switch(t&&(a.push(-5),t=void 0),h<f&&(a.push(r.slice(h,f)),i+=f-h),l){case 0:a.push(65533),i++;break;case 9:for(c=4*Math.ceil(i/4),a.push(-2);i++<c;)a.push(-1);break;case 10:a.push(-4),i=1;break;default:t=!0,i=1}h=f+1}return s&&(t&&a.push(-5),n&&a.push(n),a.push(null)),a}}()(t,i,!0))))};function qe(t,i){let n=-1;for(;++n<i.length;){const e=i[n];Array.isArray(e)?qe(t,e):Ge(t,e)}return t}function Ge(t,i){let n;for(n in i)if(Ke.call(i,n)){const e="canContainEols"===n||"transforms"===n,r=(Ke.call(t,n)?t[n]:void 0)||(t[n]=e?[]:{}),o=i[n];o&&(e?t[n]=[...r,...o]:Object.assign(r,o))}}function Ye(t,i){throw t?new Error("Cannot close `"+t.type+"` ("+Ui({start:t.start,end:t.end})+"): a different token (`"+i.type+"`, "+Ui({start:i.start,end:i.end})+") is open"):new Error("Cannot close document, a token (`"+i.type+"`, "+Ui({start:i.start,end:i.end})+") is still open")}var Je={}.hasOwnProperty;function Qe(t,i){let n,e=-1;if(i.extensions)for(;++e<i.extensions.length;)Qe(t,i.extensions[e]);for(n in i)"extensions"===n||("unsafe"===n||"join"===n?t[n]=[...t[n]||[],...i[n]||[]]:"handlers"===n?t[n]=Object.assign(t[n],i[n]||{}):t.options[n]=i[n]);return t}function Ze(t,i){const n=i.indexStack,e=t.children||[],r=[];let o=-1;for(n.push(-1);++o<e.length;){const a=e[o];n[n.length-1]=o,r.push(i.handle(a,t,i,{before:"\n",after:"\n"})),"list"!==a.type&&(i.bulletLastUsed=void 0),o<e.length-1&&r.push(s(a,e[o+1]))}return n.pop(),r.join("");function s(n,e){let r=i.join.length;for(;r--;){const o=i.join[r](n,e,t,i);if(!0===o||1===o)break;if("number"==typeof o)return"\n".repeat(1+o);if(!1===o)return"\n\n\x3c!----\x3e\n\n"}return"\n\n"}}const Xe=/\r?\n|\r/g;function tr(t,i){const n=[];let e,r=0,o=0;for(;e=Xe.exec(t);)s(t.slice(r,e.index)),n.push(e[0]),r=e.index+e[0].length,o++;return s(t.slice(r)),n.join("");function s(t){n.push(i(t,o,!t))}}function ir(t,i,n){return">"+(n?"":" ")+t}function nr(t,i){return er(t,i.inConstruct,!0)&&!er(t,i.notInConstruct,!1)}function er(t,i,n){if(!i)return n;"string"==typeof i&&(i=[i]);let e=-1;for(;++e<i.length;)if(t.includes(i[e]))return!0;return!1}function rr(t,i,n,e){let r=-1;for(;++r<n.unsafe.length;)if("\n"===n.unsafe[r].character&&nr(n.stack,n.unsafe[r]))return/[ \t]/.test(e.before)?"":" ";return"\\\n"}function or(t,i){return Boolean(!i.options.fences&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function sr(t){if(!t._compiled){const i=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((i?"("+i+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}function ar(t,i,n){const e=(n.before||"")+(i||"")+(n.after||""),r=[],o=[],s={};let a=-1;for(;++a<t.unsafe.length;){const i=t.unsafe[a];if(!nr(t.stack,i))continue;const n=sr(i);let o;for(;o=n.exec(e);){const t="before"in i||Boolean(i.atBreak),n="after"in i,e=o.index+(t?o[1].length:0);r.includes(e)?(s[e].before&&!t&&(s[e].before=!1),s[e].after&&!n&&(s[e].after=!1)):(r.push(e),s[e]={before:t,after:n})}}r.sort(ur);let u=n.before?n.before.length:0;const c=e.length-(n.after?n.after.length:0);for(a=-1;++a<r.length;){const t=r[a];t<u||t>=c||t+1<c&&r[a+1]===t+1&&s[t].after&&!s[t+1].before&&!s[t+1].after||r[a-1]===t-1&&s[t].before&&!s[t-1].before&&!s[t-1].after||(u!==t&&o.push(cr(e.slice(u,t),"\\")),u=t,!/[!-/:-@[-`{-~]/.test(e.charAt(t))||n.encode&&n.encode.includes(e.charAt(t))?(o.push("&#x"+e.charCodeAt(t).toString(16).toUpperCase()+";"),u++):o.push("\\"))}return o.push(cr(e.slice(u,c),n.after)),o.join("")}function ur(t,i){return t-i}function cr(t,i){const n=/\\(?=[!-/:-@[-`{-~])/g,e=[],r=[],o=t+i;let s,a=-1,u=0;for(;s=n.exec(o);)e.push(s.index);for(;++a<e.length;)u!==e[a]&&r.push(t.slice(u,e[a])),r.push("\\"),u=e[a];return r.push(t.slice(u)),r.join("")}function hr(t,i,n){return(n?"":"    ")+t}function fr(t){return t.label||!t.identifier?t.label||"":He(t.identifier)}function lr(t){const i=t.options.quote||'"';if('"'!==i&&"'"!==i)throw new Error("Cannot serialize title with `"+i+"` for `options.quote`, expected `\"`, or `'`");return i}function dr(t,i,n){const e=i.indexStack,r=t.children||[],o=[];let s=-1,a=n.before;for(e.push(-1);++s<r.length;){const u=r[s];let c;if(e[e.length-1]=s,s+1<r.length){let n=i.handle.handlers[r[s+1].type];n&&n.peek&&(n=n.peek),c=n?n(r[s+1],t,i,{before:"",after:""}).charAt(0):""}else c=n.after;o.length>0&&("\r"===a||"\n"===a)&&"html"===u.type&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),a=" "),o.push(i.handle(u,t,i,{before:a,after:c})),a=o[o.length-1].slice(-1)}return e.pop(),o.join("")}function vr(t,i,n){const e=function(t){const i=t.options.emphasis||"*";if("*"!==i&&"_"!==i)throw new Error("Cannot serialize emphasis with `"+i+"` for `options.emphasis`, expected `*`, or `_`");return i}(n),r=n.enter("emphasis"),o=dr(t,n,{before:e,after:e});return r(),e+o+e}vr.peek=function(t,i,n){return n.options.emphasis||"*"};const pr=function(t){if(null==t)return br;if("string"==typeof t)return i=t,mr((function(t){return t&&t.type===i}));var i;if("object"==typeof t)return Array.isArray(t)?function(t){const i=[];let n=-1;for(;++n<t.length;)i[n]=pr(t[n]);return mr((function(...t){let n=-1;for(;++n<i.length;)if(i[n].call(this,...t))return!0;return!1}))}(t):function(t){return mr((function(i){let n;for(n in t)if(i[n]!==t[n])return!1;return!0}))}(t);if("function"==typeof t)return mr(t);throw new Error("Expected function, string, or object as test")};function mr(t){return function(...i){return Boolean(t.call(this,...i))}}function br(){return!0}function gr(t,i){let n=!1;var e,r,o;return"function"==typeof(e=t=>{if("value"in t&&/\r?\n|\r/.test(t.value)||"break"===t.type)return n=!0,!1})&&"function"!=typeof r&&(o=r,r=e,e=null),function(t,i,n,e){"function"==typeof i&&"function"!=typeof n&&(e=n,n=i,i=null);const r=pr(i),o=e?-1:1;!function t(s,a,u){const c="object"==typeof s&&null!==s?s:{};let h;return"string"==typeof c.type&&(h="string"==typeof c.tagName?c.tagName:"string"==typeof c.name?c.name:void 0,Object.defineProperty(f,"name",{value:"node ("+c.type+(h?"<"+h+">":"")+")"})),f;function f(){let c,h,f,l=[];if((!i||r(s,a,u[u.length-1]||null))&&(l=function(t){return Array.isArray(t)?t:"number"==typeof t?[!0,t]:[t]}(n(s,u)),!1===l[0]))return l;if(s.children&&"skip"!==l[0])for(h=(e?s.children.length:-1)+o,f=u.concat(s);h>-1&&h<s.children.length;){if(c=t(s.children[h],h,f)(),!1===c[0])return c;h="number"==typeof c[1]?c[1]:h+o}return l}}(t,null,[])()}(t,e,(function(t,i){const n=i[i.length-1];return r(t,n?n.children.indexOf(t):null,n)}),o),Boolean((!t.depth||t.depth<3)&&pn(t)&&(i.options.setext||n))}function yr(t){return t.value||""}function wr(t,i,n){const e=lr(n),r='"'===e?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label"),a="!["+ar(n,t.alt,{before:"[",after:"]"})+"](";return s(),!t.url&&t.title||/[ \t\r\n]/.test(t.url)?(s=n.enter("destinationLiteral"),a+="<"+ar(n,t.url,{before:"<",after:">"})+">"):(s=n.enter("destinationRaw"),a+=ar(n,t.url,{before:"(",after:t.title?" ":")"})),s(),t.title&&(s=n.enter("title"+r),a+=" "+e+ar(n,t.title,{before:e,after:e})+e,s()),a+=")",o(),a}function xr(t,i,n){const e=t.referenceType,r=n.enter("imageReference");let o=n.enter("label");const s=ar(n,t.alt,{before:"[",after:"]"});let a="!["+s+"]";o();const u=n.stack;n.stack=[],o=n.enter("reference");const c=ar(n,fr(t),{before:"[",after:"]"});return o(),n.stack=u,r(),"full"!==e&&s&&s===c?"shortcut"!==e&&(a+="[]"):a+="["+c+"]",a}function kr(t,i,n){let e=t.value||"",r="`",o=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(e);)r+="`";for(/[^ \r\n]/.test(e)&&(/^[ \r\n]/.test(e)&&/[ \r\n]$/.test(e)||/^`|`$/.test(e))&&(e=" "+e+" ");++o<n.unsafe.length;){const t=n.unsafe[o],i=sr(t);let r;if(t.atBreak)for(;r=i.exec(e);){let t=r.index;10===e.charCodeAt(t)&&13===e.charCodeAt(t-1)&&t--,e=e.slice(0,t)+" "+e.slice(r.index+1)}}return r+e+r}function _r(t,i){const n=pn(t);return Boolean(!i.options.resourceLink&&t.url&&!t.title&&t.children&&1===t.children.length&&"text"===t.children[0].type&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}function Ar(t,i,n){const e=lr(n),r='"'===e?"Quote":"Apostrophe";let o,s,a;if(_r(t,n)){const i=n.stack;return n.stack=[],o=n.enter("autolink"),a="<"+dr(t,n,{before:"<",after:">"})+">",o(),n.stack=i,a}return o=n.enter("link"),s=n.enter("label"),a="["+dr(t,n,{before:"[",after:"]"})+"](",s(),!t.url&&t.title||/[ \t\r\n]/.test(t.url)?(s=n.enter("destinationLiteral"),a+="<"+ar(n,t.url,{before:"<",after:">"})+">"):(s=n.enter("destinationRaw"),a+=ar(n,t.url,{before:"(",after:t.title?" ":")"})),s(),t.title&&(s=n.enter("title"+r),a+=" "+e+ar(n,t.title,{before:e,after:e})+e,s()),a+=")",o(),a}function Sr(t,i,n){const e=t.referenceType,r=n.enter("linkReference");let o=n.enter("label");const s=dr(t,n,{before:"[",after:"]"});let a="["+s+"]";o();const u=n.stack;n.stack=[],o=n.enter("reference");const c=ar(n,fr(t),{before:"[",after:"]"});return o(),n.stack=u,r(),"full"!==e&&s&&s===c?"shortcut"!==e&&(a+="[]"):a+="["+c+"]",a}function Er(t){const i=t.options.bullet||"*";if("*"!==i&&"+"!==i&&"-"!==i)throw new Error("Cannot serialize items with `"+i+"` for `options.bullet`, expected `*`, `+`, or `-`");return i}function Mr(t){const i=t.options.bulletOrdered||".";if("."!==i&&")"!==i)throw new Error("Cannot serialize items with `"+i+"` for `options.bulletOrdered`, expected `.` or `)`");return i}function Cr(t){const i=t.options.rule||"*";if("*"!==i&&"-"!==i&&"_"!==i)throw new Error("Cannot serialize rules with `"+i+"` for `options.rule`, expected `*`, `-`, or `_`");return i}function Or(t,i,n){const e=function(t){const i=t.options.strong||"*";if("*"!==i&&"_"!==i)throw new Error("Cannot serialize strong with `"+i+"` for `options.strong`, expected `*`, or `_`");return i}(n),r=n.enter("strong"),o=dr(t,n,{before:e,after:e});return r(),e+e+o+e+e}yr.peek=function(){return"<"},wr.peek=function(){return"!"},xr.peek=function(){return"!"},kr.peek=function(){return"`"},Ar.peek=function(t,i,n){return _r(t,n)?"<":"["},Sr.peek=function(){return"["},Or.peek=function(t,i,n){return n.options.strong||"*"};const Tr={blockquote:function(t,i,n){const e=n.enter("blockquote"),r=tr(Ze(t,n),ir);return e(),r},break:rr,code:function(t,i,n){const e=function(t){const i=t.options.fence||"`";if("`"!==i&&"~"!==i)throw new Error("Cannot serialize code with `"+i+"` for `options.fence`, expected `` ` `` or `~`");return i}(n),r=t.value||"",o="`"===e?"GraveAccent":"Tilde";let s,a;if(or(t,n))a=n.enter("codeIndented"),s=tr(r,hr);else{const i=e.repeat(Math.max(function(t,i){const n=String(t);let e=n.indexOf(i),r=e,o=0,s=0;if("string"!=typeof i||1!==i.length)throw new Error("Expected character");for(;-1!==e;)e===r?++o>s&&(s=o):o=1,r=e+1,e=n.indexOf(i,r);return s}(r,e)+1,3));let u;a=n.enter("codeFenced"),s=i,t.lang&&(u=n.enter("codeFencedLang"+o),s+=ar(n,t.lang,{before:"`",after:" ",encode:["`"]}),u()),t.lang&&t.meta&&(u=n.enter("codeFencedMeta"+o),s+=" "+ar(n,t.meta,{before:" ",after:"\n",encode:["`"]}),u()),s+="\n",r&&(s+=r+"\n"),s+=i}return a(),s},definition:function(t,i,n){const e=lr(n),r='"'===e?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label"),a="["+ar(n,fr(t),{before:"[",after:"]"})+"]: ";return s(),!t.url||/[ \t\r\n]/.test(t.url)?(s=n.enter("destinationLiteral"),a+="<"+ar(n,t.url,{before:"<",after:">"})+">"):(s=n.enter("destinationRaw"),a+=ar(n,t.url,{before:" ",after:" "})),s(),t.title&&(s=n.enter("title"+r),a+=" "+e+ar(n,t.title,{before:e,after:e})+e,s()),o(),a},emphasis:vr,hardBreak:rr,heading:function(t,i,n){const e=Math.max(Math.min(6,t.depth||1),1);if(gr(t,n)){const i=n.enter("headingSetext"),r=n.enter("phrasing"),o=dr(t,n,{before:"\n",after:"\n"});return r(),i(),o+"\n"+(1===e?"=":"-").repeat(o.length-(Math.max(o.lastIndexOf("\r"),o.lastIndexOf("\n"))+1))}const r="#".repeat(e),o=n.enter("headingAtx"),s=n.enter("phrasing");let a=dr(t,n,{before:"# ",after:"\n"});return/^[\t ]/.test(a)&&(a="&#x"+a.charCodeAt(0).toString(16).toUpperCase()+";"+a.slice(1)),a=a?r+" "+a:r,n.options.closeAtx&&(a+=" "+r),s(),o(),a},html:yr,image:wr,imageReference:xr,inlineCode:kr,link:Ar,linkReference:Sr,list:function(t,i,n){const e=n.enter("list"),r=n.bulletCurrent;let o=t.ordered?Mr(n):Er(n);const s=t.ordered?function(t){const i=Mr(t),n=t.options.bulletOrderedOther;if(!n)return"."===i?")":".";if("."!==n&&")"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOrderedOther`, expected `*`, `+`, or `-`");if(n===i)throw new Error("Expected `bulletOrdered` (`"+i+"`) and `bulletOrderedOther` (`"+n+"`) to be different");return n}(n):function(t){const i=Er(t),n=t.options.bulletOther;if(!n)return"*"===i?"-":"*";if("*"!==n&&"+"!==n&&"-"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===i)throw new Error("Expected `bullet` (`"+i+"`) and `bulletOther` (`"+n+"`) to be different");return n}(n),a=n.bulletLastUsed;let u=!1;if(i&&(t.ordered?n.options.bulletOrderedOther:n.options.bulletOther)&&a&&o===a&&(u=!0),!t.ordered){const i=t.children?t.children[0]:void 0;if("*"!==o&&"-"!==o||!i||i.children&&i.children[0]||"list"!==n.stack[n.stack.length-1]||"listItem"!==n.stack[n.stack.length-2]||"list"!==n.stack[n.stack.length-3]||"listItem"!==n.stack[n.stack.length-4]||0!==n.indexStack[n.indexStack.length-1]||0!==n.indexStack[n.indexStack.length-2]||0!==n.indexStack[n.indexStack.length-3]||0!==n.indexStack[n.indexStack.length-4]||(u=!0),Cr(n)===o&&i){let i=-1;for(;++i<t.children.length;){const n=t.children[i];if(n&&"listItem"===n.type&&n.children&&n.children[0]&&"thematicBreak"===n.children[0].type){u=!0;break}}}}u&&(o=s),n.bulletCurrent=o;const c=Ze(t,n);return n.bulletLastUsed=o,n.bulletCurrent=r,e(),c},listItem:function(t,i,n){const e=function(t){const i=t.options.listItemIndent||"tab";if(1===i||"1"===i)return"one";if("tab"!==i&&"one"!==i&&"mixed"!==i)throw new Error("Cannot serialize items with `"+i+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return i}(n);let r=n.bulletCurrent||Er(n);i&&"list"===i.type&&i.ordered&&(r=("number"==typeof i.start&&i.start>-1?i.start:1)+(!1===n.options.incrementListMarker?0:i.children.indexOf(t))+r);let o=r.length+1;("tab"===e||"mixed"===e&&(i&&"list"===i.type&&i.spread||t.spread))&&(o=4*Math.ceil(o/4));const s=n.enter("listItem"),a=tr(Ze(t,n),(function(t,i,n){return i?(n?"":" ".repeat(o))+t:(n?r:r+" ".repeat(o-r.length))+t}));return s(),a},paragraph:function(t,i,n){const e=n.enter("paragraph"),r=n.enter("phrasing"),o=dr(t,n,{before:"\n",after:"\n"});return r(),e(),o},root:function(t,i,n){return Ze(t,n)},strong:Or,text:function(t,i,n,e){return ar(n,t.value,e)},thematicBreak:function(t,i,n){const e=(Cr(n)+(n.options.ruleSpaces?" ":"")).repeat(function(t){const i=t.options.ruleRepetition||3;if(i<3)throw new Error("Cannot serialize rules with repetition `"+i+"` for `options.ruleRepetition`, expected `3` or more");return i}(n));return n.options.ruleSpaces?e.slice(0,-1):e}},Rr=[function(t,i,n,e){if("code"===i.type&&or(i,e)&&("list"===t.type||t.type===i.type&&or(t,e)))return!1;if("list"===t.type&&t.type===i.type&&Boolean(t.ordered)===Boolean(i.ordered)&&!(t.ordered?e.options.bulletOrderedOther:e.options.bulletOther))return!1;if("spread"in n&&"boolean"==typeof n.spread){if("paragraph"===t.type&&(t.type===i.type||"definition"===i.type||"heading"===i.type&&gr(i,e)))return;return n.spread?1:0}}],jr=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],Ir=[{character:"\t",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"\t",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"\t",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:"\n",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:jr},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:"(?:[\r\n]|$)"},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:jr},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*"},{character:"*",inConstruct:"phrasing",notInConstruct:jr},{atBreak:!0,character:"+"},{atBreak:!0,character:"-"},{atBreak:!0,before:"\\d+",character:".",after:"(?:[ \t\r\n]|$)"},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:jr},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:jr},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:jr},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:jr},{atBreak:!0,character:"~"}];function Fr(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function Br(t){throw new Error("Cannot handle unknown node `"+t.type+"`")}function zr(t,i){if("definition"===t.type&&t.type===i.type)return 0}const Pr=sn().use((function(t){Object.assign(this,{Parser:i=>{const n=this.data("settings");return We(i,Object.assign({},n,t,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})})).use((function(t){Object.assign(this,{Compiler:i=>{const n=this.data("settings");return function(t,i={}){const n={enter:function(t){return n.stack.push(t),function(){n.stack.pop()}},stack:[],unsafe:[],join:[],handlers:{},options:{},indexStack:[]};Qe(n,{unsafe:Ir,join:Rr,handlers:Tr}),Qe(n,i),n.options.tightDefinitions&&Qe(n,{join:[zr]}),n.handle=function(t,i){var n=i||{};function e(i){var n=e.invalid,r=e.handlers;if(i&&Je.call(i,t)&&(n=Je.call(r,i.type)?r[i.type]:e.unknown),n)return n.apply(this,arguments)}return e.handlers=n.handlers||{},e.invalid=n.invalid,e.unknown=n.unknown,e}("type",{invalid:Fr,unknown:Br,handlers:n.handlers});let e=n.handle(t,null,n,{before:"\n",after:"\n"});return e&&10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),e}(i,Object.assign({},n,t,{extensions:this.data("toMarkdownExtensions")||[]}))}})})).freeze(),Lr=[],Dr=class{constructor({data:t,api:i}){this.data=t,this.api=i}static get toolbox(){return{title:"Download Markdown",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="rgb(112, 118, 132)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>'}}render(){const t=document.createElement("div");return this.getContent(),t}async getContent(){const t=new Date,i=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),e=t.getFullYear(),r={},o=await this.api.saver.save();r.content=o.blocks,function(t,i){const n=new File([t],{type:"text/markdown",endings:"transparent"}),e=URL.createObjectURL(n),r=document.createElement("a");document.body.appendChild(r),r.href=e,r.download=i,r.click(),window.URL.revokeObjectURL(e),document.body.removeChild(r)}(r.content.map((t=>{switch(t.type){case"header":return function(t){switch(t.level){case 1:return`# ${t.text}\n`;case 2:return`## ${t.text}\n`;case 3:return`### ${t.text}\n`;case 4:return`#### ${t.text}\n`;case 5:return`##### ${t.text}\n`;case 6:return`###### ${t.text}\n`}}(t.data);case"paragraph":return`${t.data.text}\n`;case"list":return function(t){let i={};switch(t.style){case"unordered":return i=t.items.map((t=>`* ${t}`)),i;case"ordered":return i=t.items.map(((t,i)=>`${i+1} ${t}`)),i}}(t.data);case"delimiter":return"---".concat("\n");case"image":return`![${(i=t.data).caption}](${i.url} "${i.caption}")`.concat("\n");case"quote":return function(t){return`> ${t.text}\n`}(t.data);case"checkbox":return Mi(t.data);case"code":return function(t){return`\`\`\`\n${t.code}\n\`\`\`\n`}(t.data);case"checklist":return Mi(t.data)}var i})).join("\n"),`entry_${i}-${n}-${e}.md`)}save(){return{message:"Downloading Markdown"}}},Nr=class{constructor({data:t,api:i}){this.data=t,this.api=i}static get toolbox(){return{title:"Import Markdown",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="rgb(112, 118, 132)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-fileUpload"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg>'}}render(){const t=document.createElement("input");return t.setAttribute("id","file-upload"),t.setAttribute("type","file"),t.setAttribute("style","display: none"),t.setAttribute("name","files[]"),t.setAttribute("onload",this.parseMarkdown()),t}async parseMarkdown(){Lr.length=0,await this.api.saver.save();const t=document.getElementById("file-upload");t.onchange=t=>{const i=t.target.files[0],n=new FileReader;n.readAsText(i,"UTF-8"),n.onload=t=>{const i=t.target.result;return Pr().parse(i).children.forEach((t=>{switch(t.type){case"heading":return Lr.push(function(t){let i={};switch(t.depth){case 1:return t.children.forEach((t=>{i={data:{level:1,text:t.value},type:"header"}})),i;case 2:return t.children.forEach((t=>{i={data:{level:2,text:t.value},type:"header"}})),i;case 3:return t.children.forEach((t=>{i={data:{level:3,text:t.value},type:"header"}})),i;case 4:return t.children.forEach((t=>{i={data:{level:4,text:t.value},type:"header"}})),i;case 5:return t.children.forEach((t=>{i={data:{level:5,text:t.value},type:"header"}})),i;case 6:return t.children.forEach((t=>{i={data:{level:6,text:t.value},type:"header"}})),i}}(t));case"paragraph":return Lr.push(function(t){let i={};return"paragraph"===t.type&&t.children.forEach((t=>{"text"===t.type&&(i={data:{text:t.value},type:"paragraph"}),"image"===t.type&&(i={data:{caption:t.title,stretched:!1,url:t.url,withBackground:!1,withBorder:!1},type:"image"})})),i}(t));case"list":return Lr.push(function(t){let i={};const n=[];return t.children.forEach((t=>{t.children.forEach((t=>{t.children.forEach((t=>{n.push(t.value)}))}))})),i={data:{items:n,style:t.ordered?"ordered":"unordered"},type:"list"},i}(t));case"thematicBreak":return Lr.push(function(){let t={};return t={data:{items:[]},type:"delimiter"},t}());case"code":return Lr.push({data:{code:t.value},type:"code"});case"blockquote":return Lr.push(function(t){let i={};return t.children.forEach((t=>{t.children.forEach((t=>{"text"===t.type&&(i={data:{alignment:"left",caption:"",text:t.value},type:"quote"})}))})),i}(t))}})),this.api.blocks.clear(),this.api.blocks.render({blocks:Lr.filter((t=>0!==Object.keys(t).length))}),Pr().parse(i)}},t.click()}save(){return{message:"Uploading Markdown"}}};class Ur{constructor({data:t,api:i}){this.leftAlignIcon='<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m10 23h28c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"></path><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m10 45h28c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"></path></svg>',this.centerAlignIcon='<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m46 23c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"></path><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m46 45c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"></path></svg>',this.rightAlignIcon='<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m54 19h-28c-1.104 0-2 .896-2 2s.896 2 2 2h28c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m54 41h-28c-1.104 0-2 .896-2 2s.896 2 2 2h28c1.104 0 2-.896 2-2s-.896-2-2-2z"></path></svg>',this.alignOptions=["left","center","right"],this.colorOptions=["primary","secondary","tertiary","success","warning","danger","dark","medium","light"],this.settings=[{name:"shape",innerHTML:"<svg width=\"20\" height=\"20\" xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'><title>Shapes</title><path fill=\"currentColor\" d='M336 336H32a16 16 0 01-14-23.81l152-272a16 16 0 0127.94 0l152 272A16 16 0 01336 336z'/><path fill=\"currentColor\" d='M336 160a161.07 161.07 0 00-32.57 3.32l74.47 133.27A48 48 0 01336 368H183.33A160 160 0 10336 160z'/></svg>",value:"square",onClick:()=>{try{const t=this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).holder.querySelector("ion-button");t.shape="round"===t.shape?"square":"round"}catch(t){console.log("Error setting button shape!")}}},{name:"href",innerHTML:'<svg class="icon" width="14px" height="10px"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#link"></use></svg>',value:"#",onClick:()=>{try{const t=this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).holder.querySelector("ion-button"),i=prompt("Where do you want this button to link?",t.href);i&&(t.href=i)}catch(t){console.log("Error setting button link!")}}},{name:"align",innerHTML:this.leftAlignIcon,value:"left",onClick:()=>{var t;try{const i=this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).holder.querySelector("ion-button"),n=(null===(t=this.data)||void 0===t?void 0:t.align)?this.data.align:"left";"center"===n?(this.data.align="right",i.style.display="table",i.style.margin="10px 20px 10px auto"):"right"===n?(this.data.align="left",i.style.display="inline-block",i.style.margin="10px"):(this.data.align="center",i.style.display="table",i.style.margin="10px auto")}catch(t){console.log("Error setting button alignment!")}}},{name:"color",innerHTML:"<svg width=\"20\" height=\"20\" xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Color Fill</title><path d='M416 480c-35.29 0-64-29.11-64-64.88 0-33.29 28.67-65.4 44.08-82.64 1.87-2.1 3.49-3.91 4.68-5.31a19.94 19.94 0 0130.55 0c1.13 1.31 2.63 3 4.36 4.93 15.5 17.3 44.33 49.51 44.33 83.05 0 35.74-28.71 64.85-64 64.85zM398.23 276.64L166.89 47.22a52.1 52.1 0 00-73.6 0l-4.51 4.51a53.2 53.2 0 00-15.89 37.33A51.66 51.66 0 0088.14 126l41.51 41.5L45 252a44.52 44.52 0 00-13 32 42.81 42.81 0 0013.5 30.84l131.24 126a44 44 0 0061.08-.18l124.11-120.28a15.6 15.6 0 018.23-4.29 69.21 69.21 0 0111.93-.86h.3a22.53 22.53 0 0015.84-38.59zM152.29 144.85l-41.53-41.52a20 20 0 010-28.34l5.16-5.15a20.07 20.07 0 0128.39 0L186 111.21z'/></svg>",value:"primary",onClick:()=>{try{const t=this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).holder.querySelector("ion-button");t.color=this.nextArrayItem(this.colorOptions,t.color?t.color:"primary")}catch(t){console.log("Error setting button alignment!")}}}],this.data=Object.assign({text:"New Button",shape:"square",href:"#",align:"left",color:"primary"},t),this.api=i}static get toolbox(){return{title:"Button",icon:'<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" height="20" width="20"><path fill="currentColor" d="M292.3 311.93c0 42.41-39.72 41.43-43.92 41.43h-80.89v-81.69h80.89c42.56 0 43.92 31.9 43.92 40.26zm-50.15-73.13c.67 0 38.44 1 38.44-36.31 0-15.52-3.51-35.87-38.44-35.87h-74.66v72.18h74.66zM448 106.67v298.66A74.89 74.89 0 0 1 373.33 480H74.67A74.89 74.89 0 0 1 0 405.33V106.67A74.89 74.89 0 0 1 74.67 32h298.66A74.89 74.89 0 0 1 448 106.67zM338.05 317.86c0-21.57-6.65-58.29-49.05-67.35v-.73c22.91-9.78 37.34-28.25 37.34-55.64 0-7 2-64.78-77.6-64.78h-127v261.33c128.23 0 139.87 1.68 163.6-5.71 14.21-4.42 52.71-17.98 52.71-67.12z"/></svg>'}}nextArrayItem(t,i){const n=t.indexOf(i);if(-1!==n)return t[(n+1)%t.length]}render(){var t,i,n,e,r,o;const s=document.createElement("ion-button");return(null===(t=this.data)||void 0===t?void 0:t.shape)&&(s.shape=this.data.shape),(null===(i=this.data)||void 0===i?void 0:i.href)&&(s.href=this.data.href),"center"===(null===(n=this.data)||void 0===n?void 0:n.align)?(s.style.display="table",s.style.margin="10px auto"):"right"===(null===(e=this.data)||void 0===e?void 0:e.align)&&(s.style.display="table",s.style.margin="10px 20px 10px auto"),(null===(r=this.data)||void 0===r?void 0:r.color)&&(s.color=this.data.color),s.innerHTML=`<div contenteditable="true">${null===(o=this.data)||void 0===o?void 0:o.text}</div>`,s}renderSettings(){const t=document.createElement("div");for(const i of this.settings){let n=document.createElement("div");n.classList.add("cdx-settings-button"),n.innerHTML=i.innerHTML,"function"==typeof(null==i?void 0:i.onClick)&&n.addEventListener("click",i.onClick),t.appendChild(n)}return t}save(t){var i;return{text:t.innerText,shape:t.shape?t.shape:"square",align:(null===(i=this.data)||void 0===i?void 0:i.align)?this.data.align:"left",href:t.href?t.href:"#",color:t.color?t.color:"primary"}}}class Vr{constructor({data:t,api:i}){this.settings=[{name:"Link",icon:"<svg xmlns='http://www.w3.org/2000/svg' height=\"20\" width=\"20\" class='ionicon' viewBox='0 0 512 512'><title>Link</title><path d='M200.66 352H144a96 96 0 010-192h55.41M312.59 160H368a96 96 0 010 192h-56.66M169.07 256h175.86' fill='none' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='48'/></svg>",value:"#"}],this.data=t,this.api=i}static get toolbox(){return{title:"Page",icon:"<svg xmlns='http://www.w3.org/2000/svg' height=\"20\" width=\"20\" class='ionicon' viewBox='0 0 512 512'><title>Document</title><path d='M428 224H288a48 48 0 01-48-48V36a4 4 0 00-4-4h-92a64 64 0 00-64 64v320a64 64 0 0064 64h224a64 64 0 0064-64V228a4 4 0 00-4-4z'/><path d='M419.22 188.59L275.41 44.78a2 2 0 00-3.41 1.41V176a16 16 0 0016 16h129.81a2 2 0 001.41-3.41z'/></svg>"}}render(){var t,i;const n=document.createElement("ion-card");return n.innerHTML=`<ion-item detail lines="none" href="${(null===(t=this.data)||void 0===t?void 0:t.href)?this.data.href:"#"}"><ion-icon slot="start" name="document"></ion-icon><ion-label>${null===(i=this.data)||void 0===i?void 0:i.name}</ion-label></ion-item>`,n}renderSettings(){const t=document.createElement("div");return document.addEventListener("enjinSelectPage",(t=>{var i,n,e,r,o,s;console.log(t);const a=this.api.blocks.getBlockByIndex(t.detail.blockIndex).holder.querySelector("ion-item");a.querySelector("ion-label").textContent=(null===(n=null===(i=t.detail)||void 0===i?void 0:i.page)||void 0===n?void 0:n.name)?t.detail.page.name:"Home",a.href=`/editor/${(null===(r=null===(e=t.detail)||void 0===e?void 0:e.page)||void 0===r?void 0:r.id)?null===(s=null===(o=t.detail)||void 0===o?void 0:o.page)||void 0===s?void 0:s.id:"home"}`})),this.settings.forEach((i=>{let n=document.createElement("div");n.classList.add("cdx-settings-button"),n.innerHTML=i.icon,n.addEventListener("click",(t=>{try{document.body.dispatchEvent(new CustomEvent("enjinToggleMenu",{detail:{event:t,selectingPage:!0,blockIndex:this.api.blocks.getCurrentBlockIndex()}}))}catch(t){console.log("Error setting button shape!")}})),t.appendChild(n)})),t}save(t){return{name:t.querySelector("ion-label").textContent,href:t.querySelector("ion-item").href}}}class Hr{constructor({api:t,data:i,config:n}){this.settings=[{name:"template",innerHTML:"<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>List Circle</title><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm-88 302a24 24 0 1124-24 24 24 0 01-24 24zm0-71a24 24 0 1124-24 24 24 0 01-24 24zm0-73a24 24 0 1124-24 24 24 0 01-24 24zm184 135H224a16 16 0 010-32h128a16 16 0 010 32zm0-71H224a16 16 0 010-32h128a16 16 0 010 32zm0-72H224a16 16 0 010-32h128a16 16 0 010 32z' height='20' width='20' fill='currentColor' /></svg>",value:null,onClick:()=>{this.presentModal()}}],this.loaded=!1,this.partials=[],this.data=i,this.api=t,this.blockId=this.makeid(26),(null==n?void 0:n.partials)&&"object"==typeof n.partials?this.partials=n.partials:(null==n?void 0:n.partials)&&"function"==typeof n.partials?this.partials=n.partials():localStorage.getItem("enjin-editor-partials")&&(this.partials=JSON.parse(localStorage.getItem("enjin-editor-partials"))),this.createModal(),document.addEventListener("enjinModalClose",(()=>{this.modalEl&&this.modalEl.dismiss()})),document.addEventListener("enjinEditorClick",(t=>{var i,n;const e=document.querySelector(`.editor-partial#${this.blockId}`);(null===(i=null==t?void 0:t.detail)||void 0===i?void 0:i.template)&&(null===(n=null==t?void 0:t.detail)||void 0===n?void 0:n.blockId)===this.blockId&&e&&(this.selectedPartial=t.detail.template,e.innerHTML=this.selectedPartial.html,this.modalEl&&this.modalEl.dismiss())}))}static get toolbox(){return{title:"Partial",icon:"<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512' height='20' width='20'><title>Extension Puzzle</title><path d='M345.14 480H274a18 18 0 01-18-18v-27.71a31.32 31.32 0 00-9.71-22.77c-7.78-7.59-19.08-11.8-30.89-11.51-21.36.5-39.4 19.3-39.4 41.06V462a18 18 0 01-18 18H87.62A55.62 55.62 0 0132 424.38V354a18 18 0 0118-18h27.71c9.16 0 18.07-3.92 25.09-11a42.06 42.06 0 0012.2-29.92C114.7 273.89 97.26 256 76.91 256H50a18 18 0 01-18-18v-70.38A55.62 55.62 0 0187.62 112h55.24a8 8 0 008-8v-6.48A65.53 65.53 0 01217.54 32c35.49.62 64.36 30.38 64.36 66.33V104a8 8 0 008 8h55.24A54.86 54.86 0 01400 166.86v55.24a8 8 0 008 8h5.66c36.58 0 66.34 29 66.34 64.64 0 36.61-29.39 66.4-65.52 66.4H408a8 8 0 00-8 8v56A54.86 54.86 0 01345.14 480z' fill='currentColor' /></svg>"}}makeid(t){for(var i="",n="abcdefghijklmnopqrstuvwxyz",e=n.length,r=0;r<t;r++)i+=n.charAt(Math.floor(Math.random()*e));return i}createModal(){const t=this.partials,i=this.blockId;customElements.define(`template-select-modal-${i}`,class extends HTMLElement{connectedCallback(){this.innerHTML=`\n    <ion-header>\n      <ion-toolbar>\n        <ion-title>Select a Template</ion-title>\n        <ion-buttons slot="primary">\n          <ion-button onClick="document.dispatchEvent(new CustomEvent('enjinModalClose', {detail: {event}}));">\n            <ion-icon slot="icon-only" name="close"></ion-icon>\n          </ion-button>\n        </ion-buttons>\n      </ion-toolbar>\n    </ion-header>\n    <ion-content class="ion-padding">\n      <ion-list>\n          ${t.map((t=>`<ion-item onClick='event.preventDefault();document.dispatchEvent(new CustomEvent("enjinEditorClick", {\n              detail: {\n                event: event,\n                template: {\n                  id: \`${t.id}\`,\n                  name: \`${t.name?t.name:t.subject}\`,\n                  html: \`${t.html}\`\n                },\n                blockId: \`${i}\` \n              }\n            }));' detail="true" href="#">\n            <ion-label>\n              <h2>${t.name?t.name:t.subject}</h2>\n              <div style="pointer-events: none;">${t.html}</div>\n            </ion-label>\n          </ion-item>`)).join("")}\n      </ion-list>\n    </ion-content>`}})}presentModal(){var t;return this.modalEl=document.createElement("ion-modal"),this.modalEl.component=`template-select-modal-${this.blockId}`,this.modalEl.cssClass="my-custom-class",this.modalEl.componentProps={partials:(null===(t=this.data)||void 0===t?void 0:t.partials)?this.data.partials:{}},document.body.appendChild(this.modalEl),this.modalEl.present()}render(){var t,i,n;if((null===(t=this.data)||void 0===t?void 0:t.templateId)&&this.partials)for(const t of this.partials)t.id===this.data.templateId&&(this.selectedPartial=t);return this.loaded||(null===(i=this.data)||void 0===i?void 0:i.templateId)||this.presentModal(),this.loaded=!0,this.partialWrapperEl=document.createElement("div"),this.partialWrapperEl.id=this.blockId,this.partialWrapperEl.classList.add("editor-partial"),this.partialWrapperEl.innerHTML=(null===(n=this.selectedPartial)||void 0===n?void 0:n.html)?this.selectedPartial.html:"<caption>Please select a template</caption>",this.partialWrapperEl}renderSettings(){const t=document.createElement("div");for(const i of this.settings){let n=document.createElement("div");n.classList.add("cdx-settings-button"),n.innerHTML=i.innerHTML,"function"==typeof(null==i?void 0:i.onClick)&&n.addEventListener("click",i.onClick),t.appendChild(n)}return t}save(){var t;return{templateId:(null===(t=this.selectedPartial)||void 0===t?void 0:t.id)?this.selectedPartial.id:null}}}function $r(){const t=document.activeElement,i=window.getSelection().getRangeAt(0),n=i.cloneRange();return n.selectNodeContents(t),n.setStart(i.endContainer,i.endOffset),n.extractContents()}function Kr(t,i=null,n={}){const e=document.createElement(t);Array.isArray(i)?e.classList.add(...i):i&&e.classList.add(i);for(const t in n)e[t]=n[t];return e}function Wr(t){return t.innerHTML.replace("<br>"," ").trim()}function qr(t,i=!1,n){const e=document.createRange(),r=window.getSelection();e.selectNodeContents(t),void 0!==n&&(e.setStart(t,n),e.setEnd(t,n)),e.collapse(i),r.removeAllRanges(),r.addRange(e)}class Gr{constructor({data:t,api:i,readOnly:n}){this.progress=0,this.color="success",this.colorOptions=["primary","secondary","tertiary","success","warning","danger","dark","medium","light"],this.settings=[{name:"color",innerHTML:"<svg width=\"20\" height=\"20\" xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Color Fill</title><path d='M416 480c-35.29 0-64-29.11-64-64.88 0-33.29 28.67-65.4 44.08-82.64 1.87-2.1 3.49-3.91 4.68-5.31a19.94 19.94 0 0130.55 0c1.13 1.31 2.63 3 4.36 4.93 15.5 17.3 44.33 49.51 44.33 83.05 0 35.74-28.71 64.85-64 64.85zM398.23 276.64L166.89 47.22a52.1 52.1 0 00-73.6 0l-4.51 4.51a53.2 53.2 0 00-15.89 37.33A51.66 51.66 0 0088.14 126l41.51 41.5L45 252a44.52 44.52 0 00-13 32 42.81 42.81 0 0013.5 30.84l131.24 126a44 44 0 0061.08-.18l124.11-120.28a15.6 15.6 0 018.23-4.29 69.21 69.21 0 0111.93-.86h.3a22.53 22.53 0 0015.84-38.59zM152.29 144.85l-41.53-41.52a20 20 0 010-28.34l5.16-5.15a20.07 20.07 0 0128.39 0L186 111.21z'/></svg>",value:"success",onClick:()=>{try{this.color=this.nextArrayItem(this.colorOptions,this.color),this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).holder.querySelectorAll("ion-checkbox").forEach((t=>{t.color=this.color})),this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).holder.querySelector("ion-progress-bar").color=this.color}catch(t){console.log("Error setting button alignment!")}}}],this.elements={wrapper:null,items:[]},this.readOnly=n,this.api=i,this.data=t||{}}get items(){return Array.from(this.elements.wrapper.querySelectorAll(`.${this.CSS.item}`))}static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:'<svg width="15" height="15" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg"><path d="M7.5 15a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15zm0-2.394a5.106 5.106 0 1 0 0-10.212 5.106 5.106 0 0 0 0 10.212zm-.675-4.665l2.708-2.708 1.392 1.392-2.708 2.708-1.392 1.391-2.971-2.971L5.245 6.36l1.58 1.58z"/></svg>',title:"Tasklist"}}static get conversionConfig(){return{export:t=>t.items.map((({text:t})=>t)).join(". "),import:t=>({items:[{text:t,checked:!1}]})}}render(){return this.elements.wrapper=Kr("ion-list",[this.CSS.baseBlock,this.CSS.wrapper],{style:"padding-bottom: 0px;"}),this.data.items||(setTimeout((()=>{this.elements.wrapper.querySelector("ion-item:first-of-type > ion-label").focus()}),200),this.data.items=[{text:"",checked:!1}]),setTimeout((()=>{this.progressBarEl=this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).holder.querySelector("ion-progress-bar"),this.setProgress()}),200),this.data.items.forEach((t=>{const i=this.createTasklistItem(t);this.elements.wrapper.appendChild(i)})),this.elements.wrapper.appendChild(Kr("ion-progress-bar",null,{color:this.color,value:this.progress})),this.readOnly||(this.elements.wrapper.addEventListener("keydown",(t=>{const[i,n]=[13,8];switch(t.keyCode){case i:this.enterPressed(t);break;case n:this.backspace(t)}}),!1),this.elements.wrapper.addEventListener("ionChange",(t=>{this.toggleCheckbox(t),this.setProgress()}))),this.elements.wrapper}setProgress(){var t;let i=0;for(const n of this.items)console.log(n),i+=(null===(t=null==n?void 0:n.querySelector("ion-checkbox"))||void 0===t?void 0:t.checked)?1:0;const n=i/this.items.length;this.progress=isFinite(n)&&n>0?n:0,this.progressBarEl.value=this.progress}renderSettings(){const t=document.createElement("div");for(const i of this.settings){let n=document.createElement("div");n.classList.add("cdx-settings-button"),n.innerHTML=i.innerHTML,"function"==typeof(null==i?void 0:i.onClick)&&n.addEventListener("click",i.onClick),t.appendChild(n)}return t}save(){let t=this.items.map((t=>({text:Wr(this.getItemInput(t)),checked:t.classList.contains(this.CSS.itemChecked)})));return t=t.filter((t=>0!==t.text.trim().length)),{items:t,color:this.color,progress:this.progress}}validate(t){return!!t.items.length}toggleCheckbox(t){const i=t.target.closest(`.${this.CSS.item}`);i.querySelector(`.${this.CSS.checkbox}`).contains(t.target)&&i.classList.toggle(this.CSS.itemChecked)}nextArrayItem(t,i){const n=t.indexOf(i);if(-1!==n)return t[(n+1)%t.length]}createTasklistItem(t={}){const i=Kr("ion-item",this.CSS.item),n=Kr("ion-checkbox",this.CSS.checkbox,{disabled:!!t.disabled,slot:"start",color:this.color}),e=Kr("ion-label",this.CSS.textField,{innerHTML:t.text?t.text:"",contentEditable:!this.readOnly,style:"z-index: 2;"});return t.checked&&i.classList.add(this.CSS.itemChecked),i.appendChild(n),i.appendChild(e),i}enterPressed(t){t.preventDefault();const i=this.items,n=document.activeElement.closest(`.${this.CSS.item}`);if(i.indexOf(n)===i.length-1&&i.length>1&&0===Wr(this.getItemInput(n)).length){const t=this.api.blocks.getCurrentBlockIndex();return n.remove(),setTimeout((()=>{this.setProgress()}),200),this.api.blocks.insert(),void this.api.caret.setToBlock(t+1)}const e=function(t){const i=document.createElement("div");return i.appendChild(t),i.innerHTML}($r()),r=this.createTasklistItem({text:e,checked:!1});this.elements.wrapper.insertBefore(r,n.nextSibling),qr(this.getItemInput(r),!0),setTimeout((()=>this.getItemInput(r).focus()),100),this.setProgress()}backspace(t){const i=t.target.closest(`.${this.CSS.item}`),n=this.items.indexOf(i),e=this.items[n-1];if(!e)return;if(0!==window.getSelection().focusOffset)return;t.preventDefault();const r=$r(),o=this.getItemInput(e),s=o.childNodes.length;o.appendChild(r),qr(o,void 0,s),i.remove(),this.setProgress()}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"enjin-tasklist",item:"enjin-tasklist__item",itemChecked:"enjin-tasklist__item--checked",checkbox:"enjin-tasklist__item-checkbox",textField:"enjin-tasklist__item-text"}}getItemInput(t){return t.querySelector(`.${this.CSS.textField}`)}}class Yr{constructor({data:t,config:i,api:n,readOnly:e,block:r}){this.icons={eye:"<svg width='20' height='20' xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Eye</title><circle cx='256' cy='256' r='64'/><path d='M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96c-42.52 0-84.33 12.15-124.27 36.11-40.73 24.43-77.63 60.12-109.68 106.07a31.92 31.92 0 00-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416c46.71 0 93.81-14.43 136.2-41.72 38.46-24.77 72.72-59.66 99.08-100.92a32.2 32.2 0 00-.1-34.76zM256 352a96 96 0 1196-96 96.11 96.11 0 01-96 96z'/></svg>","eye-off":"<svg width='20' height='20' xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Eye Off</title><path d='M432 448a15.92 15.92 0 01-11.31-4.69l-352-352a16 16 0 0122.62-22.62l352 352A16 16 0 01432 448zM248 315.85l-51.79-51.79a2 2 0 00-3.39 1.69 64.11 64.11 0 0053.49 53.49 2 2 0 001.69-3.39zM264 196.15L315.87 248a2 2 0 003.4-1.69 64.13 64.13 0 00-53.55-53.55 2 2 0 00-1.72 3.39z'/><path d='M491 273.36a32.2 32.2 0 00-.1-34.76c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.68 96a226.54 226.54 0 00-71.82 11.79 4 4 0 00-1.56 6.63l47.24 47.24a4 4 0 003.82 1.05 96 96 0 01116 116 4 4 0 001.05 3.81l67.95 68a4 4 0 005.4.24 343.81 343.81 0 0067.24-77.4zM256 352a96 96 0 01-93.3-118.63 4 4 0 00-1.05-3.81l-66.84-66.87a4 4 0 00-5.41-.23c-24.39 20.81-47 46.13-67.67 75.72a31.92 31.92 0 00-.64 35.54c26.41 41.33 60.39 76.14 98.28 100.65C162.06 402 207.92 416 255.68 416a238.22 238.22 0 0072.64-11.55 4 4 0 001.61-6.64l-47.47-47.46a4 4 0 00-3.81-1.05A96 96 0 01256 352z'/></svg>"},this.settings=[{name:"preview",innerHTML:()=>{var t;return(null===(t=this.data)||void 0===t?void 0:t.preview)?this.icons["eye-off"]:this.icons.eye},value:!1,onClick:()=>this.togglePreview()}],this.api=n,this.readOnly=e,this.block=r,this.placeholder=i.placeholder?i.placeholder:"",this.CSS={baseClass:this.api.styles.block,input:this.api.styles.input,wrapper:"ce-code-tool",textarea:"ce-code-tool__textarea"},this.data={html:t.html||"",preview:t.preview||!1},this.aceWidgetEl=null}togglePreview(){var t,i,n,e;try{this.data.preview=!(null===(t=this.data)||void 0===t?void 0:t.preview);const r=this.block.holder;(null===(i=this.settingsEl)||void 0===i?void 0:i.querySelector(".cdx-settings-button-preview"))&&(this.settingsEl.querySelector(".cdx-settings-button-preview").innerHTML=this.icons[(null===(n=this.data)||void 0===n?void 0:n.preview)?"eye-off":"eye"]),(null===(e=this.data)||void 0===e?void 0:e.preview)?(r.classList.add("show-preview"),setTimeout((()=>{var t;(null===(t=this.previewEl)||void 0===t?void 0:t.focus)&&(this.previewEl.focus(),this.setCaretAtEnd(this.previewEl))}),20)):(r.classList.remove("show-preview"),setTimeout((()=>{var t,i;(null===(i=null===(t=this.aceWidgetEl)||void 0===t?void 0:t.editor)||void 0===i?void 0:i.focus)&&this.aceWidgetEl.editor.focus()}),20))}catch(t){console.log("Error toggling preview",t)}}setCaretAtEnd(t){const i=document.getSelection();t=t.firstChild,i.rangeCount&&["Start","End"].forEach((n=>i.getRangeAt(0)["set"+n](t,t.length)))}renderSettings(){this.settingsEl=document.createElement("div");for(const t of this.settings){let i=document.createElement("div");i.classList.add("cdx-settings-button",`cdx-settings-button-${t.name}`),i.innerHTML="function"==typeof(null==t?void 0:t.innerHTML)?t.innerHTML():t.innerHTML,"function"==typeof(null==t?void 0:t.onClick)&&i.addEventListener("click",t.onClick),this.settingsEl.appendChild(i)}return this.settingsEl}static get isReadOnlySupported(){return!0}static get displayInToolbox(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:'<svg width="19" height="13"><path d="M18.004 5.794c.24.422.18.968-.18 1.328l-4.943 4.943a1.105 1.105 0 1 1-1.562-1.562l4.162-4.162-4.103-4.103A1.125 1.125 0 1 1 12.97.648l4.796 4.796c.104.104.184.223.239.35zm-15.142.547l4.162 4.162a1.105 1.105 0 1 1-1.562 1.562L.519 7.122c-.36-.36-.42-.906-.18-1.328a1.13 1.13 0 0 1 .239-.35L5.374.647a1.125 1.125 0 0 1 1.591 1.591L2.862 6.341z"/></svg>',title:"Raw HTML"}}injectScript(t){return new Promise(((i,n)=>{const e=document.createElement("script");e.async=!0,e.src=t,e.addEventListener("load",i),e.addEventListener("error",(()=>n("Error loading script."))),e.addEventListener("abort",(()=>n("Script loading aborted."))),document.head.appendChild(e)}))}render(){var t,i;const n=document.createElement("div");return this.aceWidgetEl=document.createElement("ace-widget"),this.aceWidgetEl.baseUrl="/build/ace-builds/",this.aceWidgetEl.mode="ace/mode/html",n.classList.add(this.CSS.baseClass,this.CSS.wrapper),this.aceWidgetEl.classList.add(this.CSS.textarea,this.CSS.input),this.aceWidgetEl.value=(null===(t=this.data)||void 0===t?void 0:t.html)?this.data.html:"",this.aceWidgetEl.enableLiveAutocompletion=!0,this.aceWidgetEl.enableSnippets=!0,this.aceWidgetEl.placeholder=this.placeholder,this.readOnly?this.aceWidgetEl.disabled=!0:this.aceWidgetEl.addEventListener("input",(()=>{var t,i;this.previewEl.innerHTML=(null===(i=null===(t=this.aceWidgetEl)||void 0===t?void 0:t.editor)||void 0===i?void 0:i.getValue)?this.aceWidgetEl.editor.getValue():""})),n.appendChild(this.aceWidgetEl),this.previewEl=document.createElement("div"),this.previewEl.classList.add("html-preview"),this.previewEl.contentEditable="true",this.previewEl.addEventListener("input",(()=>{var t;this.aceWidgetEl.editor.setValue((null===(t=this.previewEl)||void 0===t?void 0:t.innerHTML)?this.previewEl.innerHTML:"")})),this.previewEl.innerHTML=(null===(i=this.data)||void 0===i?void 0:i.html)?this.data.html:"",n.appendChild(this.previewEl),setTimeout((()=>{var t,i,n,e;this.block.stretched=!0,(null===(t=this.data)||void 0===t?void 0:t.preview)?(this.block.holder.classList.add("show-preview"),(null===(i=this.previewEl)||void 0===i?void 0:i.focus)&&this.previewEl.focus()):(null===(e=null===(n=this.aceWidgetEl)||void 0===n?void 0:n.editor)||void 0===e?void 0:e.focus)&&this.aceWidgetEl.editor.focus(),this.pasteWatcher||(this.pasteWatcher=t=>{t.preventDefault(),t.stopPropagation()},this.block.holder.addEventListener("paste",this.pasteWatcher.bind(this))),this.previewToggleKeyWatcher||(this.previewToggleKeyWatcher=t=>{80===(null==t?void 0:t.keyCode)&&(null==t?void 0:t.altKey)&&this.togglePreview()},this.block.holder.addEventListener("keydown",this.previewToggleKeyWatcher.bind(this)))}),100),n}save(t){var i,n;return{html:(null===(n=null===(i=this.aceWidgetEl)||void 0===i?void 0:i.editor)||void 0===n?void 0:n.getValue)?this.aceWidgetEl.editor.getValue():"",preview:!!this.data.preview}}static get DEFAULT_PLACEHOLDER(){return"Enter HTML code"}static get sanitize(){return{html:!0}}}class Jr{constructor({data:t,api:i}){this.settings=[{name:"label",icon:"<svg xmlns='http://www.w3.org/2000/svg' height='20' width='20' class='ionicon' viewBox='0 0 512 512'><title>Create</title><path d='M459.94 53.25a16.06 16.06 0 00-23.22-.56L424.35 65a8 8 0 000 11.31l11.34 11.32a8 8 0 0011.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90L218.82 270.2a9 9 0 00-2.31 3.93L208.16 299a3.91 3.91 0 004.86 4.86l24.85-8.35a9 9 0 003.93-2.31L422 112.66a9 9 0 000-12.66l-9.95-10a9 9 0 00-12.71 0z'/><path d='M386.34 193.66L264.45 315.79A41.08 41.08 0 01247.58 326l-25.9 8.67a35.92 35.92 0 01-44.33-44.33l8.67-25.9a41.08 41.08 0 0110.19-16.87l122.13-121.91a8 8 0 00-5.65-13.66H104a56 56 0 00-56 56v240a56 56 0 0056 56h240a56 56 0 0056-56V199.31a8 8 0 00-13.66-5.65z'/></svg>",value:"#",onClick:()=>{this.data.label=prompt("What is the new label?"),this.wrapperEl.innerHTML=this.renderItem()}}],this.data=t,this.api=i}static get toolbox(){return{title:"Input",icon:"<svg xmlns='http://www.w3.org/2000/svg' height='20' width='20' class='ionicon' viewBox='0 0 512 512'><title>Enter</title><path d='M176 176v-40a40 40 0 0140-40h208a40 40 0 0140 40v240a40 40 0 01-40 40H216a40 40 0 01-40-40v-40' fill='none' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='32'/><path fill='none' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='32' d='M272 336l80-80-80-80M48 256h288'/></svg>"}}renderItem(){var t,i,n,e,r;return`<ion-item>\n    ${(null===(t=this.data)||void 0===t?void 0:t.label)?`<ion-label position="${(null===(i=this.data)||void 0===i?void 0:i.labelPosition)?this.data.labelPosition:"stacked"}">${this.data.label}</ion-label>`:""}\n    <ion-input name="${this.data.name}" type="${(null===(n=this.data)||void 0===n?void 0:n.type)?this.data.type:"text"}" value="${(null===(e=this.data)||void 0===e?void 0:e.value)?this.data.value:""}" placeholder="${(null===(r=this.data)||void 0===r?void 0:r.placeholder)?this.data.placeholder:""}"></ion-input>\n  </ion-item>`}render(){return this.wrapperEl=document.createElement("div"),this.wrapperEl.innerHTML=this.renderItem(),this.wrapperEl}renderSettings(){const t=document.createElement("div");return this.settings.forEach((i=>{let n=document.createElement("div");n.classList.add("cdx-settings-button"),n.innerHTML=i.icon,"function"==typeof(null==i?void 0:i.onClick)&&n.addEventListener("click",i.onClick.bind(this)),t.appendChild(n)})),t}save(t){var i,n,e,r,o;return{label:(null===(i=t.querySelector("ion-label"))||void 0===i?void 0:i.textContent)?t.querySelector("ion-label").textContent:null,labelPosition:(null===(n=t.querySelector("ion-label"))||void 0===n?void 0:n.position)?t.querySelector("ion-label").position:null,placeholder:(null===(e=t.querySelector("ion-input"))||void 0===e?void 0:e.placeholder)?t.querySelector("ion-input").placeholder:null,name:(null===(r=t.querySelector("ion-input"))||void 0===r?void 0:r.name)?t.querySelector("ion-input").name:null,type:(null===(o=t.querySelector("ion-input"))||void 0===o?void 0:o.type)?t.querySelector("ion-input").type:null}}}let Qr=class{constructor(n){t(this,n),this.enjinChange=i(this,"enjinChange",7),this.placeholder="Let's Write Something!",this.tools={},this.readOnly=!1,this.autofocus=!0}async getInstance(){return this.editorJS}async exportHTML(){var t;if(null===(t=this.editorJS)||void 0===t?void 0:t.save)return new ki(null,{button:t=>`<ion-button shape="${t.shape?t.shape:"square"}" color="${t.color?t.color:"primary"}" class="${"center"===t.align?"enjin-align-center":"right"===t.align?"enjin-align-right":"enjin-align-left"}" href="${t.href?t.href:"#"}">${t.text}</ion-button>`,partial:t=>`<div class="editor-partial">{{> ${t.templateId}}}</div>`,tasklist:t=>{const i=(null==t?void 0:t.color)?t.color:"success",n=(null==t?void 0:t.progress)?t.progress:0,e=["<ion-list>"];for(const n of(null==t?void 0:t.items)?t.items:[])e.push(`<ion-item><ion-checkbox slot="start" color="${i}" ${n.checked?'checked="true"':""}></ion-checkbox><ion-label>${n.text}</ion-label></ion-item>`);return e.push(`<ion-progress-bar color="${i}" value="${n}"></ion-progress-bar>`,"</ion-list>"),e.join("")},code:t=>t.html}).parse(await this.editorJS.save())}async componentDidLoad(){this.editorJS=new ai({onChange:()=>{this.enjinChange.emit({instance:this.editorJS})},onReady:()=>{new Ei(this.editorJS),new Si({editor:this.editorJS})},placeholder:this.placeholder,holder:this.editorEl,readOnly:this.readOnly,autofocus:this.autofocus,tools:Object.assign({paragraph:{class:li,inlineToolbar:!0},header:{class:fi,inlineToolbar:!0},button:{class:Ur},image:{class:ui,config:{uploader:{uploadByFile:async t=>await this.uploadCallback({type:"file",file:t}),uploadByUrl:async t=>await this.uploadCallback({type:"url",url:t})}}},list:{class:ci,inlineToolbar:!0},tasklist:{class:Gr,inlineToolbar:!0},input:{class:Jr},table:{class:_i},page:Vr,code:Yr,partial:{class:Hr,config:{partials:this.partials?this.partials:null}},editorJSStyle:di,markdownParser:Dr,markdownImporter:Nr,embed:{class:hi}},this.tools)})}render(){return n(r,null)}static get assetsDirs(){return["ace-builds"]}get editorEl(){return e(this)}};Qr.style='enjin-editor{display:block;color:var(--ion-text-color)}enjin-editor editorjs-style{display:block}enjin-editor .ce-toolbox__button--active,enjin-editor .ce-toolbox__button:hover,enjin-editor .ce-toolbar__plus--active,enjin-editor .ce-toolbar__plus:hover,enjin-editor .cdx-settings-button--active,enjin-editor .cdx-settings-button:hover{color:var(--ion-color-primary)}enjin-editor .ce-settings__button--confirm{background-color:var(--ion-color-danger) !important;color:var(--ion-color-danger-contrast)}enjin-editor .ce-block--selected .ce-block__content{background:var(--ion-color-base-tint)}enjin-editor .ce-toolbar{z-index:9}enjin-editor .ce-toolbox{background-color:var(--ion-background-color)}enjin-editor .ce-toolbar__settings-btn{background-color:var(--ion-color-base-shade)}enjin-editor .ce-inline-toolbar,enjin-editor .ce-conversion-toolbar,enjin-editor .ce-settings{color:var(--ion-text-color);background-color:var(--ion-color-base-shade);border-color:var(--ion-color-base-tint)}enjin-editor .ce-inline-toolbar__dropdown{border-right-color:var(--ion-color-base-tint)}enjin-editor .ce-inline-toolbar__dropdown:hover,enjin-editor .ce-inline-tool:hover,enjin-editor .ce-settings__button:hover,enjin-editor .cdx-settings-button:hover{background-color:var(--ion-color-base-tint)}enjin-editor .ce-inline-tool,enjin-editor .ce-settings,enjin-editor .cdx-settings-button{color:var(--ion-text-color)}enjin-editor .ce-inline-tool svg,enjin-editor .ce-settings svg,enjin-editor .cdx-settings-button svg{fill:var(--ion-text-color)}enjin-editor .ce-inline-tool--active svg,enjin-editor .cdx-settings-button--active svg{fill:var(--ion-color-primary)}enjin-editor .ce-conversion-tool__icon{border-color:var(--ion-color-base-tint);background:var(--ion-color-base)}enjin-editor .ce-conversion-tool--focused{background:rgba(var(--ion-color-primary-rgb), 0.2) !important}enjin-editor .ce-conversion-tool:hover{background-color:var(--ion-color-primary);color:var(--ion-text-color)}enjin-editor .ce-conversion-tool:hover svg{color:var(--ion-text-color)}enjin-editor .ce-inline-toolbar__actions input{background:transparent}enjin-editor textarea.cdx-input{background-color:transparent}enjin-editor .editor-partial{min-height:40px}enjin-editor .ce-code-tool__textarea{min-height:200px;resize:vertical;border:0;font-size:12px;overscroll-behavior:contain}enjin-editor .ce-block--drop-target .ce-block__content{outline-color:#a0a0a0;outline-style:dashed;outline-width:1px}enjin-editor .ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:50%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #a0a0a0;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}enjin-editor .ce-block--drop-target .ce-block__content:after{background:none}enjin-editor ace-widget{display:block}enjin-editor .show-preview ace-widget{display:none}enjin-editor .html-preview{display:none}enjin-editor .show-preview .html-preview{display:block}@media (min-width: 651px){enjin-editor .codex-editor--narrow .ce-toolbar__plus{left:-60px}}';export{Qr as fireenjin_editor}